{"version":3,"file":"index.ssr.js","sources":["../src/Base/BaseNavList.vue","../src/Base/BaseModal.vue","../src/Base/SelectRent.vue","../src/Base/RentHouse.vue","../src/assets/request-mobile.png","../src/assets/request.png","../src/Base/MyBooking.vue","../src/Base/Favorite.vue","../src/Base/BaseDisconnect.vue","../src/Base/WarningBalance.vue","../src/Base/Wallet.vue","../src/API/http-common.js","../src/API/polling/pushUser.js","../src/API/polling/getNewNotices.js","../src/API/polling/setNoticeRead.js","../src/API/payments/testPayedBonus.js","../src/API/getCurrencies.js","../src/API/setCurrency.js","../src/API/getUserData.js","../src/API/checkEnoughContacts.js","../src/API/initSessionDomain.js","../src/API/addMobileToNotAuthUser.js","../src/API/addUserToGroupDisabledNotifications.js","../src/API/clearSocialAccountData.js","../src/API/auth.js","../src/API/addContact.js","../src/API/requestApproveContact.js","../src/Base/LanguageSwitch.vue","../src/assets/ico-search.svg","../src/Base/DetailClientInfo.vue","../src/Base/Account.vue","../src/assets/default-avatar_small.jpg","../src/assets/default-avatar_small_female.jpg","../src/Base/Help.vue","../src/Base/BaseFormAuth/Auth.vue","../src/Base/BaseFormAuth/ForgotPass.vue","../src/Base/BaseFormAuth/RegistrationSocial.vue","../src/Base/BaseFormAuth/Registration.vue","../src/Base/BaseFormAuth/RegistrationLast.vue","../src/Base/BaseFormAuth/TermsOfUse.vue","../src/Base/BaseFormAuth/AlreadyRegistered.vue","../src/assets/link-to.svg","../src/Base/BaseFormAuth/NotRegistrationLast.vue","../src/Base/BaseFormAuth/LoginSocial.vue","../src/Base/BaseFormAuth/index.vue","../src/Desktop/index.vue","../src/Mobile/Burger.vue","../src/Mobile/index.vue","../src/WhiteLabel/cian/MenuItems.vue","../src/WhiteLabel/cian/index.vue","../src/WhiteLabel/grandtrain/MenuItems.vue","../src/WhiteLabel/grandtrain/index.vue","../src/WhiteLabel/index.vue","../src/Polling/ModalMessage.vue","../src/Polling/ModalNotice.vue","../src/Polling/ModalBonus.vue","../src/Polling/index.vue","../headerEventsDispatcher.js","../headerPublicMethods.js","../src/Base/AddEmailModal.vue","../src/headr.vue","../src/GA/gaPageView.js","../src/store.js","../src/GA/gaCreateUser.js","../src/GA/getGuestStatus.js","../src/GA/getOwnerStatus.js","../src/GA/gaClientID.js","../index.js"],"sourcesContent":["<i18n>\n{\n  \"ru\": {\n    \"orderMore\": \"Подробнее\"\n  },\n  \"en\": {\n    \"orderMore\": \"More details\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"sc-nav-list\" :class=\"{ 'sc-nav-list__left': direction == 'left' }\" @mouseenter=\"hoverList(true)\" @mouseleave=\"hoverList(false)\">\n    <div class=\"sc-nav-list-title\">\n      <slot\n        v-if=\"!!this.$slots['title'] || !!this.$scopedSlots['title']\"\n        name=\"title\"\n      ></slot>\n      <template v-else>{{ title }}</template>\n    </div>\n    <div class=\"sc-nav-list-body\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"BaseNavList\",\n  props: {\n    title: {\n      type: String,\n      default: \"\",\n    },\n    direction: {\n      type: String,\n      default: \"right\",\n    },\n  },\n  methods: {\n    hoverList(val) {\n      this.$emit('headerNavHover', val)\n    }\n  }\n};\n</script>\n<style lang=\"scss\">\n// .base-modal--fade-enter-active,\n// .base-modal--fade-leave-active {\n//   transform: translateX(0%);\n//   transition: transform 0.35s ease;\n// }\n// .base-modal--fade-enter,\n// .base-modal--fade-leave-to {\n//   transform: translateX(100%);\n// }\n.sc-nav-list {\n  height: 100%;\n  position: relative;\n  &__left {\n    .sc-nav-list-body {\n      right: 0;\n    }\n  }\n  &:active,\n  &:hover {\n    background-color: #666;\n    .sc-nav-list-body {\n      display: block;\n    }\n  }\n  &-title {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    // padding: 0 8px;\n    cursor: pointer;\n\n    .sc-nav-list-block {\n      display: flex;\n      align-items: center;\n      padding: 0 8px;\n      height: 100%;\n    }\n  }\n  &-body {\n    position: absolute;\n    display: none;\n\n    // z-index: 51;\n    z-index: 10000;\n    background: #333333;\n    border: 1px solid #626262;\n    padding: 8px 0;\n    min-width: 250px;\n    @media all and (min-width: 960px) {\n      overflow: auto;\n      // max-height: 640px;\n    }\n    &:hover {\n      display: block;\n    }\n    > div:not(.invoices-list) {\n      & > a,\n      & > span {\n        color: #ffffff;\n        text-decoration: none;\n        padding: 10px 20px;\n        display: flex;\n        cursor: pointer;\n        white-space: nowrap;\n        @media all and (max-width: 960px) {\n          padding: 7px 20px;\n        }\n        &:hover {\n          background: #5d5d5d;\n        }\n        &.count {\n          display: flex;\n          justify-content: space-between;\n          .info {\n            & > span {\n              &:first-child {\n                color: #fff;\n              }\n              display: block;\n            }\n          }\n          .val {\n            color: #717171;\n            margin-left: 10px;\n          }\n        }\n        &.gray {\n          color: #717171;\n        }\n      }\n      .btn-transparent {\n        &:hover,\n        &:focus,\n        &:active {\n          color: #ffffff;\n          background: transparent;\n          box-shadow: none !important;\n        }\n      }\n      .btn-link {\n          text-align: center;\n          border: 1px solid #d8d8d8;\n          margin: 0 20px;\n          padding: 6px 12px;\n          font-size: 14px;\n          line-height: 16px;\n          border-radius: 3px;\n          background: none;\n          &:hover {\n            color: #ffffff;\n            text-decoration: none;\n            border-color: #b2b2b2;\n          }\n        }\n    }\n    > hr {\n      margin: 10px 0;\n      border-top: 1px solid #626262;\n      @media all and (max-width: 960px) {\n        margin: 5px 0;\n      }\n    }\n    &:empty {\n      display: none !important;\n    }\n  }\n\n  // Этот код нужно выкинуть после доработки шапки на мобиле\n  .mobile & {\n    background-color: transparent;\n    &-title {\n      justify-content: left;\n    }\n    &-body {\n      background: transparent;\n      position: relative;\n      display: block;\n      border-width: 0;\n      padding: 5px 0;\n    }\n  }\n}\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"orderMore\": \"Подробнее\"\n  },\n  \"en\": {\n    \"orderMore\": \"More details\"\n  }\n}\n</i18n>\n<template>\n  <transition name=\"base-modal--fade\">\n    <!-- <div class=\"base-modal-wrap\"> -->\n    <div v-if=\"visible\" class=\"base-modal\">\n      <div class=\"base-modal-wrap\">\n        <div class=\"base-modal-header\">\n          <div class=\"base-modal-close\" @click=\"close()\"></div>\n          {{ title }}\n          <div\n            v-if=\"\n              !!this.$slots['side-action'] || !!this.$scopedSlots['side-action']\n            \"\n            class=\"base-modal-side-action\"\n          >\n            <slot name=\"side-action\"></slot>\n          </div>\n        </div>\n        <div\n          v-if=\"!!this.$slots['head'] || !!this.$scopedSlots['head']\"\n          class=\"base-modal-head\"\n        >\n          <slot name=\"head\"></slot>\n        </div>\n        <div class=\"base-modal-body\">\n          <slot></slot>\n        </div>\n        <div\n          v-if=\"!!this.$slots['footer'] || !!this.$scopedSlots['footer']\"\n          class=\"base-modal-footer\"\n        >\n          <slot name=\"footer\"></slot>\n        </div>\n      </div>\n    </div>\n    <!-- </div> -->\n  </transition>\n</template>\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"BaseModal\",\n  props: {\n    title: {\n      type: String,\n      default: \"\",\n    },\n  },\n  data() {\n    return {\n      visible: false,\n    };\n  },\n  watch: {\n    \"$attrs.value\": function (value) {\n      this.visible = Boolean(value);\n      if (this.visible) {\n        document.body.style.overflow = \"hidden\";\n      } else {\n        document.body.style.overflow = \"\";\n      }\n    },\n  },\n  computed: {\n    ...mapState({\n      viewPort: (state) => state.user.viewPort,\n    }),\n  },\n  beforeDestroy() {\n    // Возвращаем скрол в случае скрытия модалки путем выгрузки компонента\n    document.body.style.overflow = \"\";\n  },\n  methods: {\n    show() {\n      this.visible = true;\n      document.body.style.overflow = \"hidden\";\n      this.$emit(\"show\");\n      this.$emit(\"input\", this.visible);\n    },\n    close() {\n      this.visible = false;\n      document.body.style.overflow = \"\";\n      this.$emit(\"close\");\n      this.$emit(\"input\", this.visible);\n    },\n    toggle() {\n      this.visible ? this.close() : this.show();\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.base-modal--fade-enter-active,\n.base-modal--fade-leave-active {\n  transform: translateX(0%);\n  transition: transform 0.35s ease;\n}\n.base-modal--fade-enter,\n.base-modal--fade-leave-to {\n  transform: translateX(100%);\n}\n.base-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 200;\n  overflow: auto;\n\n  -webkit-overflow-scrolling: touch;\n\n  background-color: white;\n\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n\n  &-wrap {\n    overflow: auto;\n    max-height: 100%;\n    // max-height: 100vh;\n  }\n  &-header {\n    height: 50px;\n    text-align: center;\n    font-size: 17px;\n    line-height: 50px;\n    background-color: #444444;\n    color: white;\n    position: sticky;\n    top: 0;\n    z-index: 201;\n  }\n  &-top {\n    border-bottom: 1px solid #dee2e6;\n    position: sticky;\n    top: 50px;\n    left: 0;\n    right: 0;\n    background: #fff;\n    padding: 10px;\n    z-index: 150;\n  }\n  &-footer {\n    border-top: 1px solid #dee2e6;\n    position: sticky;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: #fff;\n    padding: 10px;\n    z-index: 1;\n  }\n  &-body {\n    overflow: auto;\n    overflow-x: hidden;\n    color: #444444;\n    min-height: 350px;\n    .mobile & {\n      height: 100% !important;\n      height: 100vh !important; /* Fallback for browsers that do not support Custom Properties */\n      height: calc(var(--vh, 1vh) * 100) !important;\n      max-height: calc(100vh - 50px);\n    }\n  }\n  &-close {\n    position: absolute;\n    font-size: 64px;\n    line-height: 40px;\n    width: 40px;\n    height: 50px;\n    transform: scale(0.7);\n    cursor: pointer;\n    &::before,\n    &::after {\n      content: \"\";\n      background-color: white;\n      width: 4px;\n      height: 20px;\n      display: inline-block;\n    }\n    &::before {\n      transform: rotate(45deg) translate(-6px, -10px);\n      transform-origin: 100% 50%;\n    }\n    &::after {\n      transform: rotate(-45deg);\n      transform-origin: 0% 50%;\n    }\n  }\n}\n.desktop {\n  .base-modal {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    background: rgba(0, 0, 0, 0.25);\n    &-wrap {\n      background-color: white;\n      overflow: auto;\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      min-width: 630px;\n      max-width: 750px;\n      box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);\n      max-height: calc(100vh - 80px);\n    }\n    &-body {\n      min-height: 50px;\n      max-height: calc(100vh - 450px);\n      &::-webkit-scrollbar {\n        width: 6px;\n        background: transparent;\n      }\n      &::-webkit-scrollbar-thumb {\n        background: #b6b6b6;\n        border-radius: 1px;\n      }\n      &::-webkit-scrollbar-thumb:hover {\n        background: #787878;\n      }\n    }\n    &-header {\n      color: #444444;\n      background: #fff;\n      text-align: left;\n      text-indent: 10px;\n    }\n\n    &-close {\n      right: 0;\n      &::before,\n      &::after {\n        content: \"\";\n        background-color: black;\n        width: 1px;\n        height: 30px;\n        display: inline-block;\n      }\n      &::before {\n        transform: rotate(45deg) translate(-2px, -2px);\n        transform-origin: 100% 50%;\n      }\n      &::after {\n        transform: rotate(-45deg) translate(0px, -3px);\n        transform-origin: 0% 50%;\n      }\n    }\n  }\n  .base-modal--fade-enter-active,\n  .base-modal--fade-leave-active {\n    opacity: 1;\n    transition: opacity 0.25s ease;\n  }\n  .base-modal--fade-enter,\n  .base-modal--fade-leave-to {\n    opacity: 0;\n  }\n}\n// .desktop {\n//   .base-modal {\n//     position: fixed;\n//     top: 50%;\n//     left: 50%;\n//     transform: translate(-50%, -50%);\n//     overflow-x: hidden;\n//     border: 1px solid rgba(0, 0, 0, 0.2);\n//     box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5), 0 0 0 1000px rgba(0, 0, 0, 0.25);\n//     min-width: 630px;\n//     &-wrap {\n//       position: fixed;\n//       top: 0;\n//       right: 0;\n//       bottom: 0;\n//       left: 0;\n//       background: rgba(0, 0, 0, 0.25);\n//     }\n//     &-header {\n//       color: #444444;\n//       background: #fff;\n//       text-align: left;\n//       text-indent: 10px;\n//     }\n\n//     &-close {\n//       right: 0;\n//       &::before,\n//       &::after {\n//         content: \"\";\n//         background-color: black;\n//         width: 1px;\n//         height: 30px;\n//         display: inline-block;\n//       }\n//       &::before {\n//         transform: rotate(45deg) translate(-2px, -2px);\n//         transform-origin: 100% 50%;\n//       }\n//       &::after {\n//         transform: rotate(-45deg) translate(0px, -3px);\n//         transform-origin: 0% 50%;\n//       }\n//     }\n//   }\n//   .base-modal--fade-enter-active,\n//   .base-modal--fade-leave-active {\n//     opacity: 1;\n//     transition: opacity 0.25s ease;\n//   }\n//   .base-modal--fade-enter,\n//   .base-modal--fade-leave-to {\n//     opacity: 0;\n//   }\n// }\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"podbor\": \"Подбор жилья\",\n    \"create_request_accommodation\":\"Создать запрос на подбор жилья\",\n    \"all_options_in\":\"Все варианты в \",\n    \"with_instant_booking\":\"С мгновенным бронированием\",\n    \"last_minute_offers\":\"Горящие предложения дня\",\n    \"text_select_city\":\"Для создания запроса на подбор жилья выберите город.\",\n    \"modal_select_city\":\"Выберите город\",\n    \"all_variants\": \"Все варианты в {city}\",\n    \"booking_now_variants\": \"С мгновенным бронированием\",\n    \"is_hot_sale_variants\": \"Горящие предложения дня\",\n    \"hint\": \"Подходящее жильё занято? Хозяева сами предложат вам свободные варианты.\"\n  },\n  \"en\": {\n    \"podbor\": \"Search your housing\",\n    \"create_request_accommodation\":\"Create a request for a housing\",\n    \"all_options_in\":\"All options in \",\n    \"with_instant_booking\":\"Instant Booking\",\n    \"last_minute_offers\":\"Hot offers\",\n    \"text_select_city\":\"To make a request on a search of housing,choose a city.\",\n    \"modal_select_city\":\"Choose a city\",\n    \"all_variants\": \"All variants in {city}\",\n    \"booking_now_variants\": \"With booking now\",\n    \"is_hot_sale_variants\": \"Hot sale of day\",\n    \"hint\": \"Is a suitable home occupied? The hosts will offer you free options themselves.\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"select-rent\">\n    <BaseNavList>\n      <div slot=\"title\" class=\"rent-block\">\n        <span v-if=\"data.hot_offers_cnt_to_me > 0\" class=\"badge\">\n          {{ data.hot_offers_cnt_to_me }}\n        </span>\n        <a\n          class=\"no-link rent-block-hide\"\n          :href=\"housingSelection\"\n          @click.prevent=\"\"\n        >\n          <span>{{ $t(\"podbor\") }}</span>\n        </a>\n        <a\n          class=\"no-link rent-block-view\"\n          @click.prevent=\"housingSelectionFunc\"\n        >\n          <span>{{ $t(\"podbor\") }}</span>\n        </a>\n      </div>\n\n      <template v-if=\"isAuth\">\n        <template v-if=\"data && data.hot_orders && data.hot_orders.length > 0\">\n          <div class=\"hotorder-list header-scroll\">\n            <a\n              v-for=\"hot in data.hot_orders\"\n              :key=\"hot.id\"\n              class=\"count gray\"\n              :href=\"`${baseLink}/front/host/booking/offers/${hot.id}`\"\n            >\n              <div class=\"info\">\n                <span>{{ hot.location }}</span>\n                <span>{{ hot.dateBegin }} {{ hot.dateEnd }}</span>\n              </div>\n              <span class=\"val\">{{ hot.cnt }}</span>\n            </a>\n          </div>\n        </template>\n      </template>\n\n      <template v-if=\"data && data.filters_counts\">\n        <div class=\"select-find\">\n          <a class=\"count\" :href=\"linkFilters()\" @click.prevent=\"resetFilters\">\n            <span>\n              {{ $t(\"all_variants\", { city: data.location_w }) }}\n            </span>\n            <span class=\"val\">{{ data.filters_counts.all }}</span>\n          </a>\n          <a\n            class=\"count\"\n            :href=\"linkFilters('booking_now=1')\"\n            @click.prevent=\"resetFilters\"\n          >\n            <span>\n              {{ $t(\"booking_now_variants\") }}\n            </span>\n            <span class=\"val\">{{ data.filters_counts.booking_now }}</span>\n          </a>\n        </div>\n        <hr />\n      </template>\n      <div class=\"housing-request\">\n        <a :href=\"linkHousing\" class=\"btn-link\">\n          {{ $t(\"create_request_accommodation\") }}\n        </a>\n      </div>\n\n      <div class=\"housing-hinter\">\n        {{ $t(\"hint\") }}\n      </div>\n    </BaseNavList>\n    <BaseModal\n      ref=\"modalRef\"\n      class=\"custom-modal\"\n      :title=\"$t('modal_select_city')\"\n    >\n      <div class=\"modal-wrapper\">\n        <div>\n          {{ $t(\"text_select_city\") }}\n        </div>\n        <div class=\"text-right\">\n          <b-button class=\"btn-blue\" @click=\"hideModal()\">Ok</b-button>\n        </div>\n      </div>\n    </BaseModal>\n  </div>\n</template>\n\n<script>\nimport BaseNavList from \"../Base/BaseNavList.vue\";\nimport BaseModal from \"../Base/BaseModal.vue\";\nimport { mapState, mapGetters } from \"vuex\";\nimport VueCookies from \"vue-cookies\";\n\nexport default {\n  name: \"SelectRent\",\n  components: {\n    BaseNavList,\n    BaseModal,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n    isAuth: Boolean,\n  },\n  data() {\n    return {\n      locationApp: {\n        id: 123,\n        type: \"city\",\n        title: \"asdasd\",\n      },\n    };\n  },\n  // inject: ['location'],\n  computed: {\n    ...mapState(\"user\", [\"baseLink\", \"app\", \"location\"]),\n    // ...mapState(\"user\", { locationApps: \"location\" }),\n    getSearchappUrls() {\n      return VueCookies.get(\"admin_disableSearchAppMode\") &&\n        VueCookies.get(\"admin_disableSearchAppMode\") != 0\n        ? true\n        : false;\n    },\n    linkHousing() {\n      if (this.location?.id && this.location?.type)\n        return `${this.baseLink}/front/host/booking/request?type=${this.location?.type}&id=${this.location?.id}`;\n      else return `${this.baseLink}/front/host/booking/request`;\n    },\n    housingSelection() {\n      if (this.$store.state.search?.location?.url) {\n        return `${this.$store.state.search.location.url}`;\n      }\n      if (this.data && this.data.location_url) {\n        return `${this.data.location_url}/podbor`;\n      } else if (this.$store.state.search?.location?.subdomain) {\n        let domain = this.$store.state.search?.location?.subdomain\n          ? `${this.$store.state.search?.location?.subdomain}.`\n          : null;\n        if (domain) return `//${domain}sutochno.ru/podbor`;\n      } else {\n        return `${this.baseLink}/podbor`;\n      }\n    },\n  },\n  methods: {\n    linkFilters(filter) {\n      if (this.data?.filters_counts) {\n        if (this.getSearchappUrls) {\n          return `${this.data.location_url}${filter ? `/?${filter}` : \"\"}`;\n        } else {\n          if (this.location && filter) {\n            return `${this.baseLink}/front/searchapp/search?${filter}&id=${this.location.id}&type=${this.location.type}&term=${this.location.title}`;\n          } else if (this.location) {\n            return `${this.baseLink}/front/searchapp/search?id=${this.location.id}&type=${this.location.type}&term=${this.location.title}`;\n          } else if (filter) {\n            return `${this.baseLink}/front/searchapp/search?${filter}`;\n          } else {\n            return `${this.baseLink}/front/searchapp/search`;\n          }\n        }\n      } else {\n        return \"\";\n      }\n    },\n    async resetData() {\n      localStorage.removeItem(\"query\");\n      localStorage.removeItem(\"select_guests\");\n      this.$store.commit(\"search/setCheckIn\", null);\n      this.$store.commit(\"search/setCheckOut\", null);\n      return 1;\n    },\n    resetFilters(e) {\n      if (this.app)\n        this.resetData().then(() => {\n          location.href = e.target.href;\n        });\n      else location.href = e.target.href;\n    },\n    hideModal() {\n      this.$refs.modalRef.close();\n    },\n    allOptions() {\n      this.$store.commit(\"search/setMaxGuests\", 1);\n      this.$store.commit(\"search/setFilters\");\n    },\n    housingSelectionFunc() {\n      if (this.location?.id && this.location?.type)\n        window.location.href = `${this.baseLink}/front/host/booking/request?type=${this.location?.type}&id=${this.location?.id}`;\n      else window.location.href = `${this.baseLink}/front/host/booking/request`;\n    },\n    instantBooking() {\n      this.$store.commit(\"search/setMaxGuests\", 1);\n      this.$store.commit(\"search/setFilters\");\n      this.$store.commit(\"search/setFilters\", {\n        booking_now: 1,\n      });\n    },\n    isHotSale() {\n      this.$store.commit(\"search/setMaxGuests\", 1);\n      this.$store.commit(\"search/setFilters\");\n      this.$store.commit(\"search/setFilters\", {\n        is_hot_sale: 1,\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.select-find {\n  & > .count {\n    & > span {\n      pointer-events: none;\n    }\n  }\n}\n.rent-block {\n  width: 100px;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .no-link {\n    position: absolute;\n  }\n\n  &-hide {\n    color: #333333;\n    z-index: 1;\n  }\n  &-view {\n    z-index: 2;\n  }\n}\n.header-scroll {\n  max-height: calc(var(--vh, 1vh) * 100 - 144px);\n}\n.badge {\n  padding: 4px 5px 4px 4px;\n  background: #f51449;\n  font-size: 13px;\n  line-height: 10px;\n  color: #fff;\n  border-radius: 60px;\n  min-width: 18px;\n  height: 18px;\n  position: absolute;\n  top: 7px;\n  right: -10px;\n}\n.select-rent {\n  color: white;\n}\n.housing-request {\n  padding-top: 4px;\n}\n.housing-hinter {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #717171;\n  text-decoration: none;\n  font-size: 13px;\n  min-width: 300px;\n  padding: 5px 20px 0 20px;\n}\n.modal-wrapper {\n  font-size: 15px;\n  padding: 0 20px;\n  .text-right {\n    text-align: right;\n  }\n  .btn {\n    margin-left: auto;\n    padding-left: 20px;\n    padding-right: 20px;\n    margin-bottom: 10px;\n  }\n}\n</style>\n","<i18n>\n{\n  \"en\": {\n    \"howToStart\": \"How do I start rent a housing\",\n    \"rentHouse\": \"Host's proposal\",\n    \"my_objects\": \"My listings\",\n    \"my_hotels\": \"My hotels\",\n    \"armor\": \"Orders\",\n    \"the_calendar\": \"Calendar\",\n    \"position_management\": \"Positions management\",\n    \"statistics\": \"Statistics\",\n    \"create_new_ad\": \"Create new ad\",\n    \"free_insurance\": \"Free insurance\",\n    \"requests_for_selection_housing_empty\":\"No request for the seaching of housing\",\n    \"send_suggestions\":\"Send suggestions for inquiries from guests who are looking for accommodation in your city.\",\n    \"has_reviews\": \"Reviews\",\n    \"blogPartners\": \"Blog for partners Sutochno.ru\"\n  },\n  \"ru\": {\n    \"howToStart\": \"Как начать сдавать жильё\",\n    \"rentHouse\": \"Сдавайся\",\n    \"my_objects\": \"Мои объекты\",\n    \"my_hotels\": \"Мои гостиницы\",\n    \"armor\": \"Брони\",\n    \"the_calendar\": \"Календарь\",\n    \"position_management\": \"Управление позициями\",\n    \"statistics\": \"Статистика\",\n    \"create_new_ad\": \"Создать новое объявление\",\n    \"free_insurance\": \"Бесплатная страховка\",\n    \"requests_for_selection_housing_empty\":\"Нет запросов на подбор жилья\",\n    \"send_suggestions\":\"Отправляйте предложения на запросы от гостей, которые ищут жильё в вашем городе.\",\n    \"has_reviews\": \"Отзывы\",\n    \"blogPartners\": \"Блог для партнеров Суточно.ру\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"rent-house\">\n    <BaseNavList>\n\n      <!-- slot -->\n      <a\n        :href=\"isAuth && data.user_is_owner > 0\n          ? `${this.baseLink}/cabinet/objects`\n          : `https://сдавайся.рф`\n        \"\n        :target=\"isAuth && data.user_is_owner > 0 \n          ? '_self' : '_blank'\"\n        class=\"no-link sc-nav-list-block\"\n        :aria-label=\"$t('rentHouse')\"\n        v-if=\"view != 'mobile'\"\n        slot=\"title\"\n      >\n        <span class=\"sc-header-icon-tmp sc-header-icon-rent-house\"></span>\n        <span class=\"title-btn\">\n          {{ $t(\"rentHouse\") }}\n        </span>\n      </a>\n      <!-- slot -->\n\n      <template v-if=\"isAuth\">\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/objects`\" class=\"count no-link\">\n            <span>{{ $t(\"my_objects\") }}</span>\n            <span class=\"val\">\n              {{ data.objects_count }}\n            </span>\n          </a>\n        </div>\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/objects/hotels`\" class=\"count no-link\">\n            <span>{{ $t(\"my_hotels\") }}</span>\n            <span class=\"val\">\n              {{ data.hotels_count }}\n            </span>\n          </a>\n        </div>\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/objects/orders`\" class=\"count no-link\">\n            <span>{{ $t(\"armor\") }}</span>\n            <span class=\"val\">\n              {{ data.cnt_booking_owner }}\n            </span>\n          </a>\n        </div>\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/objects/calendar`\" class=\"no-link\">\n            {{ $t(\"the_calendar\") }}\n          </a>\n        </div>\n        <hr />\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/objects/top`\" class=\"no-link\">\n            {{ $t(\"position_management\") }}\n          </a>\n        </div>\n        <div>\n          <a :href=\"`${this.baseLink}/front/searchapp/search?isPosition=true`\" class=\"no-link\">\n            <p class=\"position\">\n              <span>{{ $t(\"position_management\") }}</span>\n              <span class=\"badge\">новое</span>\n            </p>\n          </a>\n        </div>\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/objects/stats`\" class=\"no-link\">\n            {{ $t(\"statistics\") }}\n          </a>\n        </div>\n        <div>\n          <a :href=\"`${this.baseLink}/front/host/add`\" class=\"no-link\">\n            {{ $t(\"create_new_ad\") }}\n          </a>\n        </div>\n        <div>\n          <a href=\"https://сдавайся.рф/strahovka\" target=\"_blank\" class=\"no-link\">\n            <p class=\"position\">\n              <span>{{ $t(\"free_insurance\") }}</span>\n              <span class=\"badge\">новое</span>\n            </p>\n          </a>\n        </div>\n        <hr />\n        <div v-if=\"hasReviews\">\n          <a :href=\"`${this.baseLink}/cabinet/objects/ocens`\" class=\"no-link\">\n            {{ $t(\"has_reviews\") }}\n          </a>\n        </div>\n        <a class=\"no-requests\" :class=\"{ view }\" :href=\"`${this.baseLink}/front/host/booking/list?from=sdavajsya`\">\n          <div>\n            <div class=\"title\">\n              <span v-if=\"data && data.hot_cnt_to_me && data.hot_cnt_to_me > 0\">{{ data.hot_cnt_to_me_text }}</span>\n              <span v-else>{{ $t(\"requests_for_selection_housing_empty\") }}</span>\n            </div>\n            {{ $t(\"send_suggestions\") }}\n          </div>\n          <div>\n            <img v-if=\"view === 'mobile'\" src=\"../assets/request-mobile.png\" alt=\"\" />\n            <img v-else src=\"../assets/request.png\" alt=\"\" />\n          </div>\n        </a>\n        <template v-if=\"data.user_is_owner > 0\">\n          <hr />\n          <div>\n            <a :href=\"`https://sutochno.ru/blog`\" class=\"no-link\">\n              {{ $t(\"blogPartners\") }}\n            </a>\n          </div>\n        </template>\n      </template>\n      <template v-else>\n        <div>\n          <a href=\"https://сдавайся.рф\" target=\"_blank\" class=\"no-link\">\n            {{ $t(\"howToStart\") }}\n          </a>\n        </div>\n      </template>\n    </BaseNavList>\n  </div>\n</template>\n\n<script>\nimport BaseNavList from \"../Base/BaseNavList.vue\";\nimport { mapActions, mapState, mapGetters } from \"vuex\";\n\nexport default {\n  components: {\n    BaseNavList,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n    isAuth: {\n      type: Boolean,\n    },\n    view: {\n      type: String,\n    },\n  },\n  computed: {\n    ...mapState(\"user\", [\"baseLink\"]),\n    hasReviews() {\n      return this?.data?.messages?.modules?.objects?.has_reviews\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.position {\n  position: relative;\n  margin: 0;\n  .badge {\n    background: #f51449;\n    font-size: 13px;\n    line-height: 14px;\n    font-weight: 100;\n    color: #fff;\n    border-radius: 9px;\n    padding: 2px 7px 2px 5px;\n    height: 18px;\n    position: absolute;\n    top: 0;\n    right: -55px;\n  }\n}\n.rent-house {\n  color: white;\n  &-title {\n    display: flex;\n  }\n}\n.no-requests {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #717171;\n  text-decoration: none;\n  font-size: 13px;\n  min-width: 300px;\n  &:hover {\n    background: #5d5d5d;\n  }\n  &.mobile {\n    min-width: auto;\n  }\n  > div {\n    padding: 10px 20px;\n    &:nth-child(1) {\n      .title {\n        color: #ffffff;\n      }\n    }\n    &:nth-child(2) {\n      padding: 10px 20px 10px 0;\n    }\n  }\n}\n.title-btn {\n  @media all and (max-width: 1120px) {\n    display: none;\n  }\n}\n</style>\n","const img = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAINSURBVEhL7ZVXawJBFIVXY+9ix4IFERsqiv4jf6tYwIqIL4IFEcHeWw7uECbJGteADyGeF70z47d37rl3FWSzWeY5EpLPJ+iF/qL/iVYqlX6/P5VKkZjSL9FCodBisSQSiXg8brfbz+cz2aD0MFoul/t8vnQ6rdPp+v3+4XAYDoeLxYJsU+KLFggEJpMpFotFIpHdblcsFrvdrsfjabfbCJfLJTlH6T5aKpUCkclkjEZjp9MpFAq9Xg+L0Wi01WpNJhO1Wv1w1gaDATki0+PxWCqVms3mbDbDOljgIpxOpwjh5Gq1uv7ikzjQYrHY5XIhTZvNhmrm83ncHTVldzUaTTgcbjQa8/kcIdLf7/eXy4XdpcWBTiaT8KpcLtfrddyXrF4F64LBYK1W+6jArWpAbwCRr5RQVrPZLJFITqcTkmIX9Xp9IBAAd71esysQjm02G046Bxo3HQwGyFcmk6Fn4aFCocA93G43uACRc1c5nc7RaPTxeFo3bQQCnVCpVNBnsAsIlPv7aNzyELrffGgP5IUi4AEYP1SAbDAMKoZdzlGE7qNZoejj8RiFQrlDoZBIJMIiPOQcFlZ80cgOLw2r1ZrL5WAGHIKrKpXqVntAD2SNQa9Wq6g4PICfXq/X4XCwQ8Qpvv/oWq0WULrt8FbBvGy3WxJ/E9+skR3NhTCBP3Ahvuhf6IX+or+IZph3A68HziWM5PYAAAAASUVORK5CYII=\";\n  export default img;","const img = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAAAAAAfl4auAAABuklEQVR4AWJIowAA2KlrxIZhKADDt1WYmZmZyTH7v2YpvLhWu2YSfmK9/+I3fuM39ld2iz/i+MAE5S/YX9oAMJfH0Z4ORxVoSWJfYelgT1N9tDU5KRzuqKA0gmKEGtsRksDZhYMzz37lJqhRYanCKw42z6C2wt/5KUpYxFh4xJmpjbPMX7Y95xQWokzHCw40TqB1I+Jilxy/Nzsg/ztOji1YF+93vOYQ/M5sCf2C/dUDGP3oYxUbdoGfnKELVxwfmrAt+552sGNzsVGWbri8BXMUfznyA2v/JVui64IncKj5X9pDR5a3ZfQpuGCDYei1OXxift/CmogL7gO7dvzJKkyfxjZcg0GqdwSUQfYyW1Rl8miMsHbBF9DYOGDMy0ERUxk9tRTpeQhDgdLUAGer0X+u7lLyFsN8mYECxsulrYh6D4AjsBtPZd0Q3nGPmcnmfjthNhK4RTm6xShfiwX6ErhOXYg5zC8Pp0NZApdpiqxtn9Dy38UlMQlcoJuwKPn6DiO/EJolJHCGhU79O3NGSYXYyeAk0L28mgnOkqEMjsH4vgUDkjLYr80eASVUSXxukFfuo5pHNY9qBgClEdhQz6PxugAAAABJRU5ErkJggg==\";\n  export default img;","<i18n>\n{\n  \"en\": {\n    \"allMessages\": \"All messages and notifications\",\n    \"archive\": \"Archive\",\n    \"currentBooks\": \"Current bookings\",\n    \"myBooks\": \"My bookings\",\n    \"books\": \"Bookings\",\n    \"noMessages\": \"No new messages\",\n    \"unreadButton\": \"See all items ({unread})\",\n    \"needAuth\": \"Need auth\",\n    \"requests_for_selection_housing_empty\":\"No request for the seaching of housing\",\n    \"send_suggestions\":\"Send suggestions for inquiries from guests who are looking for accommodation in your city.\"\n  },\n  \"ru\": {\n    \"allMessages\": \"Все сообщения\",\n    \"archive\": \"Архив\",\n    \"currentBooks\": \"Текущие бронирования\",\n    \"myBooks\": \"Мои бронирования\",\n    \"books\": \"Бронирования\",\n    \"noMessages\": \"Нет новых сообщений\",\n    \"unreadButton\": \"Посмотреть все ({unread})\",\n    \"needAuth\": \"Необходимо авторизоваться\",\n    \"requests_for_selection_housing_empty\":\"Нет запросов на подбор жилья\",\n    \"send_suggestions\":\"Отправляйте предложения на запросы от гостей, которые ищут жильё в вашем городе.\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"my-booking\">\n    <BaseNavList>\n\n      <!-- slot -->\n      <a\n        :href=\"`${this.baseLink}/cabinet/notices`\"\n        target=\"_blank\"\n        class=\"no-link sc-nav-list-block\"\n        v-if=\"view != 'mobile'\"\n        slot=\"title\"\n      >\n        <span class=\"my-booking-icon\">\n          <span class=\"sc-header-icon-tmp sc-header-icon-message\"></span>\n          <span v-if=\"ordersNew\" class=\"badge\">\n            {{ data.messages.modules.orders.new }}\n          </span>\n        </span>\n        <span class=\"title-btn\" v-if=\"data.user_is_owner && data.user_is_owner > 0\">\n          {{ $t(\"books\") }}\n        </span>\n        <span class=\"title-btn\" v-else>\n          {{ $t(\"myBooks\") }}\n        </span>\n      </a>\n      <!-- slot -->\n\n      <template v-if=\"!isAuth\">\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/notices`\" target=\"_blank\" class=\"no-link\">\n            <span>{{ $t(\"needAuth\") }}</span>\n          </a>\n        </div>\n      </template>\n\n      <template v-else>\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/notices`\" target=\"_blank\" class=\"no-link f-d-c\">\n            <div\n              class=\"new-messages\"\n              v-if=\"!ordersList\"\n            >\n              {{ $t(\"noMessages\") }}\n            </div>\n            <span>{{ $t(\"allMessages\") }}</span>\n          </a>\n        </div>\n        <div v-if=\"ordersList\">\n          <a\n            v-for=\"(elem, i) in data.messages.modules.orders.list\"\n            :href=\"elem.url\"\n            target=\"_blank\"\n            class=\"no-link order\"\n            :key=\"i\"\n          >\n            <span class=\"order-avatar\">\n              <img :src=\"elem.user_photo\" />\n            </span>\n            <span class=\"order-name\">\n              {{ elem.user_name }}\n            </span>\n            <span class=\"order-time\">\n              {{ elem.date_add }}\n            </span>\n          </a>\n\n          <div class=\"order-view-button\" v-if=\"data.messages.modules.orders.new > 1\">\n            <b-button\n              :href=\"`${this.baseLink}/cabinet/notices?filter[tp]=unread`\"\n              target=\"_blank\"\n              class=\"btn btn-transparent btn-view_all\"\n              variant=\"outline-light\"\n            >\n              {{ $t(\"unreadButton\", { unread: data.messages.modules.orders.new }) }}\n            </b-button>\n          </div>\n        </div>\n        <hr />\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/orders`\" target=\"_blank\" class=\"no-link\">\n            {{ $t(\"currentBooks\") }}\n          </a>\n        </div>\n        <hr />\n        <div>\n          <a\n            :href=\"`${this.baseLink}/cabinet/orders?filter[type]=past`\"\n            target=\"_blank\"\n            class=\"gray no-link\"\n          >\n            {{ $t(\"archive\") }}\n          </a>\n        </div>\n        <template v-if=\"isOwner\">\n          <hr />\n          <a\n            class=\"no-requests\"\n            :class=\"{ view }\"\n            :href=\"`${this.baseLink}/front/host/booking/list?from=bronirovaniya`\"\n          >\n            <div>\n              <div class=\"title\">\n                <span\n                  v-if=\"data && data.hot_cnt_to_me && data.hot_cnt_to_me > 0\"\n                  >{{ data.hot_cnt_to_me_text }}</span\n                >\n                <span v-else>{{\n                  $t(\"requests_for_selection_housing_empty\")\n                }}</span>\n              </div>\n              {{ $t(\"send_suggestions\") }}\n            </div>\n            <div>\n              <img src=\"../assets/request.png\" alt=\"\" />\n            </div>\n          </a>\n        </template>\n      </template>\n    </BaseNavList>\n  </div>\n</template>\n\n<script>\nimport BaseNavList from \"../Base/BaseNavList.vue\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  components: {\n    BaseNavList,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n    view: {\n      type: String,\n    },\n    isAuth: Boolean,\n  },\n  computed: {\n    ...mapState(\"user\", [\"baseLink\"]),\n    ordersNew() {\n      return this.data?.messages?.modules?.orders?.new\n        ? this.data?.messages?.modules?.orders?.new : null\n    },\n    ordersList() {\n      return this.data?.messages?.modules?.orders?.list?.length > 0\n        ? true : false\n    },\n    isOwner(){\n      return this.data?.user_is_owner > 0 ? true : false\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.no-requests {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #717171;\n  text-decoration: none;\n  font-size: 13px;\n  min-width: 300px;\n  &:hover {\n    background: #5d5d5d;\n  }\n  &.mobile {\n    min-width: auto;\n  }\n  > div {\n    padding: 10px 20px;\n    &:nth-child(1) {\n      .title {\n        color: #ffffff;\n      }\n    }\n    &:nth-child(2) {\n      padding: 10px 20px 10px 0;\n    }\n  }\n}\n.my-booking {\n  color: white;\n\n  &-icon {\n    position: relative;\n\n    .badge {\n      background: #f51449;\n      font-size: 13px;\n      line-height: 1.2;\n      color: #fff;\n      border-radius: 9px;\n      padding: 2px 5px 3px;\n      min-width: 18px;\n      height: 18px;\n      overflow: hidden;\n      text-align: center;\n      vertical-align: middle;\n      display: inline-block;\n      text-indent: 0;\n      position: absolute;\n      top: -7px;\n      right: -3px;\n    }\n  }\n  .new-messages {\n    color: #717171;\n  }\n\n  .order {\n    display: grid;\n    grid-template-areas:\n      \"avatar . name\"\n      \"avatar . time\";\n    grid-template-rows: 1fr 1fr;\n    grid-template-columns: 32px 8px auto;\n    &-avatar {\n      display: inline-block;\n      height: 32px;\n      width: 32px;\n      min-width: 32px;\n      border-radius: 50%;\n      overflow: hidden;\n      grid-area: avatar;\n      align-self: center;\n      img {\n        width: 100%;\n      }\n    }\n    &-name {\n      grid-area: name;\n      display: inline-block;\n      width: 100%;\n    }\n    &-time {\n      grid-area: time;\n      color: #717171;\n      display: inline-block;\n      width: 100%;\n    }\n  }\n  // .btn-unread {\n  //   padding: 10px 20px;\n  //   margin: 5px 20px;\n  // }\n  .order-view-button {\n    display: flex;\n  }\n  .btn-view_all {\n    flex-grow: 1;\n    margin: 0 20px;\n  }\n  .title-btn {\n    @media all and (max-width: 1120px) {\n      display: none;\n    }\n  }\n}\n.f-d-c {\n  flex-direction: column;\n}\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"favorite\": \"Избранное\"\n  },\n  \"en\": {\n    \"favorite\": \"favorites\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"favorite\">\n    <BaseNavList direction=\"right\">\n      <!-- slot -->\n      <a\n        v-if=\"view !== 'mobile'\"\n        slot=\"title\"\n        :href=\"`${this.baseLink}/cabinet/favorites`\"\n        class=\"no-link sc-nav-list-block\"\n        :aria-label=\"$t('favorite')\"\n      >\n        <span class=\"sc-header-icon-tmp sc-header-icon-favorite\"></span>\n        <span class=\"title-btn\">{{ favoriteTitle }}</span>\n      </a>\n      <div v-else>\n        <a\n          :href=\"`${this.baseLink}/cabinet/favorites`\"\n          class=\"count no-link\"\n          :aria-label=\"$t('favorite')\"\n        >\n          <span>{{ $t(\"favorite\") }}</span>\n          <span class=\"val\">{{ favorite }}</span>\n        </a>\n      </div>\n      <!-- slot -->\n\n      <template v-if=\"view !== 'mobile'\">\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/favorites`\" class=\"no-link\" style=\"display: flex;\">\n            {{ $t(\"favorite\") }}\n            <span class=\"right-value\">{{ favorite }}</span>\n          </a>\n        </div>\n      </template>\n    </BaseNavList>\n  </div>\n</template>\n\n<script>\nimport BaseNavList from \"../Base/BaseNavList.vue\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  components: {\n    BaseNavList,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n    isAuth: {\n      type: Boolean,\n    },\n    view: {\n      type: String,\n    },\n  },\n  computed: {\n    ...mapState(\"user\", [\"baseLink\"]),\n    // checkFavorites() {\n    //   return this.data?.objects?.favorites > 0 ? true : false;\n    // },\n    favorite() {\n      return this.data?.objects?.favorites >= 0\n        ? this.data.objects.favorites\n        : 0;\n    },\n    favoriteTitle() {\n      return this.data?.objects?.favorites > 0\n        ? `${this.$t(\"favorite\")}`\n        : this.$t(\"favorite\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.favorite {\n  color: white;\n  .icon-wps-heart {\n    color: #a6a6a6;\n  }\n  .right-value {\n    margin-left: auto;\n    color: #a6a6a6;\n  }\n  .title-btn {\n    white-space: nowrap;\n    @media all and (max-width: 1120px) {\n      display: none;\n    }\n  }\n}\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"modalText\": \"С момента последней загрузки этой страницы прошло много времени. Обновите, чтобы увидеть актуальную версию.\",\n    \"attention\": \"Обновите страницу\",\n    \"refresh\": \"Обновить\"\n  },\n  \"en\": {\n    \"modalText\": \"It has been a long time since this page was last uploaded. Please refresh to see the most current version.\",\n    \"attention\": \"Refresh page\",\n    \"refresh\": \"Refresh\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"disconnect\">\n    <div @click=\"refreshPage()\">\n      <BaseModal\n        ref=\"modalRef\"\n        class=\"custom-modal\"\n        :title=\"$t('attention')\"\n      >\n        <div class=\"modal-wrapper\">\n          {{ $t(\"modalText\") }}\n        </div>\n        <div slot=\"footer\" class=\"text-right\">\n          <b-button class=\"btn-blue\" @click=\"refreshPage()\">{{ $t('refresh') }}</b-button>\n        </div>\n      </BaseModal>\n    </div>\n  </div>\n</template>\n<script>\nimport BaseModal from \"./BaseModal.vue\";\n\nexport default {\n  name: \"BaseDisconnect\",\n  components: {\n    BaseModal\n  },\n  data() {\n    return {\n      disconnectDate: null,\n      disconnectInterval: null\n    }\n  },\n  mounted() {\n    this.initDate();\n    this.initDisconnectInterval();\n    document.addEventListener(\n      'visibilitychange', \n      () => this.handleVisibilityChange(),\n      false\n    );\n  },\n  destroyed() {\n    document.removeEventListener('visibilitychange',() => this.handleVisibilityChange());\n  },\n  methods: {\n    handleVisibilityChange() {\n      if(document.visibilityState === 'visible') {\n        this.disconnectCheckDate();\n      }\n    },\n    initDate() {\n      this.disconnectDate = new Date();\n      sessionStorage.setItem('timeout', JSON.stringify(this.disconnectDate));\n    },\n    initDisconnectInterval() {\n      this.disconnectInterval = setInterval(() => this.disconnectCheckDate(), 1800000);\n    },\n    disconnectCheckDate() {\n      const dateNow = Date.now();\n      const dateSaved = Date.parse(JSON.parse(sessionStorage.getItem('timeout')));\n\n      const dateSubstract = dateNow - dateSaved;\n\n      if(dateSubstract >= 43200000) {\n        \n        if(this.disconnectInterval && this.$refs.modalRef)\n          this.showModal();\n\n        clearInterval(this.disconnectInterval);\n        this.disconnectInterval = null;\n      }\n    },\n    hideModal() {\n      this.$refs.modalRef.close();\n    },\n    showModal() {\n      this.$refs.modalRef.show();\n    },\n    refreshPage() {\n      this.hideModal();\n      document.location.reload(true);\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.custom-modal {\n  .modal-wrapper {\n    padding: 10px 10px 20px 10px;\n    font-size: 16px;\n    color: #000;\n  }\n}\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"attantion\": \"Внимание!\",\n    \"warningText\": \"На вашем балансе недостаточно средств для оплаты подключенных услуг!\",\n    \"balance\": \"Средств на балансе:\",\n    \"writeOff\": \"К списанию в 00 часов:\",\n    \"upYourBalance\": \"Пополните баланс на {money} {currency}\",\n    \"btnBalance\": \"Пополнить баланс\"\n  },\n  \"en\": {\n    \"attantion\": \"Attantion!\",\n    \"warningText\": \"There are not enough funds on your balance to pay for the connected services!\"\n  }\n}\n</i18n>\n<template>\n  <transition name=\"fade\" tag=\"div\">\n    <div class=\"warning-balance\" v-if=\"warningView\">\n      <div class=\"warning-balance__wrap\">\n        <div class=\"warning-balance__close\" @click=\"warningClose\" />\n        <p class=\"warning-balance__title\">{{ $t('attantion') }}</p>\n        <p class=\"warning-balance__text\">{{ $t('warningText') }}</p>\n        <div class=\"warning-balance__resources\">\n          <div class=\"resources__item\">\n            <div class=\"resources__text\">{{ $t('balance') }}</div>\n            <div\n              class=\"resources__money\"\n              v-html=\"`${warning.balance}&nbsp;${warningCurrency.sign_html}`\"\n            />\n          </div>\n          <div class=\"resources__item\">\n            <div class=\"resources__text\">{{ $t('writeOff') }}</div>\n            <div\n              class=\"resources__money\"\n              v-html=\"`${warning.write_off}&nbsp;${warningCurrency.sign_html}`\"\n            />\n          </div>\n        </div>\n        <p\n          class=\"warning-balance__text\"\n          v-html=\"$t('upYourBalance', { money: warning.amount_up, currency: warningCurrency.sign_html })\"\n        />\n        <a\n          :href=\"payLink\"\n          class=\"btn btn-primary warning-balance__btn\"\n          target=\"_blank\"\n        >{{ $t('btnBalance') }}</a>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport VueCookies from \"vue-cookies\";\nimport { mapState, mapGetters } from \"vuex\";\n\nexport default {\n  name: \"WarningBalance\",\n  data() {\n    return {\n      warningShow: true,\n    };\n  },\n  mounted() {},\n  watch: {},\n  computed: {\n    ...mapState(\"user\", [\"currency\", \"userData\"]),\n    ...mapState(\"user\", [\"currenciesList\"]),\n    warningView() {\n      return this.warning &&\n        this.warningShow &&\n        !VueCookies.get(\"warning-info\") &&\n        location.pathname !== \"/cabinet/payments/\" &&\n        location.pathname !== \"/cabinet/objects/calendar/\"\n        ? true\n        : false;\n    },\n    warning() {\n      const warning = this?.userData?.warning_info;\n      return warning ? warning : false;\n    },\n    warningCurrency() {\n      return this?.currenciesList?.find(\n        (el) => el.id === this.warning.currency\n      );\n    },\n    payLink() {\n      const { protocol, host } = location;\n      return `${protocol}//${host}/cabinet/payments/?amount=${this.warning.amount}&amp;currency=${this.warning.currency}`;\n    },\n  },\n  methods: {\n    warningClose() {\n      this.warningShow = false;\n      VueCookies.set(\"warning-info\", true, \"1h\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\np {\n  margin: 0;\n}\n.header-desktop {\n  .warning-balance {\n    height: max-content;\n    margin: 0;\n  }\n}\n.warning-balance {\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  left: 0;\n  width: 100%;\n  bottom: 0;\n  z-index: 99999;\n  background: #ffeda2;\n  &__wrap {\n    position: relative;\n    width: 1200px;\n    height: 100%;\n    padding: 20px 20px 40px 270px;\n  }\n  &__title {\n    font-size: 22px;\n    line-height: 22px;\n  }\n  &__text {\n    margin-top: 15px;\n    font-size: 16px;\n    line-height: 18px;\n  }\n  &__resources {\n    display: flex;\n    flex-direction: column;\n    margin-top: 15px;\n    font-size: 13px;\n\n    .resources {\n      &__item {\n        color: #e10600;\n        display: flex;\n      }\n      &__text {\n        width: 145px;\n      }\n    }\n  }\n  &__btn {\n    margin-top: 15px;\n  }\n  &__close {\n    position: absolute;\n    top: 50%;\n    right: 20px;\n    background-image: url(\"../assets/cross.svg\");\n    background-size: contain;\n    width: 28px;\n    height: 28px;\n    transform: translate(0, -50%);\n    cursor: pointer;\n  }\n}\n// .header-mobile {\n//   .warning-balance {\n//     &__wrap {\n//       padding: 20px 60px 20px 20px;\n//     }\n//   }\n// }\n@media (min-width: 1024px) and (max-width: 1279px) {\n  .warning-balance {\n    &__wrap {\n      width: 1004px;\n      padding: 20px 20px 40px 270px;\n    }\n  }\n}\n@media (min-width: 768px) and (max-width: 1023px) {\n  .warning-balance {\n    &__wrap {\n      width: 768px;\n      padding: 20px 60px 40px 20px;\n    }\n  }\n}\n@media (max-width: 767px) {\n  .warning-balance {\n    &__wrap {\n      width: 100%;\n      padding: 20px 60px 40px 20px;\n    }\n  }\n}\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"noOrder\": \"Нет счетов на оплату\",\n    \"myBalance\": \"Всего средств\",\n    \"afi\": \"Получить бонус 1000 ₽\",\n    \"invoiceName\": \"Бронь №{id}\",\n    \"invoicePrice\": \"внесите предоплату \",\n    \"topUpBalance\":\"Пополнить баланс\",\n    \"header_invoices_list\":\"Счетов на оплату\",\n    \"header_see_all\":\"Посмотреть все ({count})\",\n    \"willEnter\": \"{price} поступит {date}\",\n    \"precostBooking\": \"предоплата по брони №{id}\",\n    \"totalFounds\": \"Всего средств\"\n  },\n  \"en\": {\n    \"noOrder\": \"No invoices\",\n    \"myBalance\": \"Total funds\",\n    \"afi\": \"Get bonus 1000 ₽\",\n    \"invoiceName\": \"Reservation №{id}\",\n    \"invoicePrice\": \"make a prepayment \",\n    \"topUpBalance\":\"Top up balance\",\n    \"header_invoices_list\":\"List of invoices\",\n    \"header_see_all\":\"See all items ({count})\",\n    \"willEnter\": \"{price} will enter {date}\",\n    \"precostBooking\": \"precoast reservation №{id}\",\n    \"totalFounds\": \"Total founds\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"wallet\">\n    <BaseNavList direction=\"right\">\n      <!-- slot -->\n      <a\n        v-if=\"view != 'mobile'\"\n        slot=\"title\"\n        :href=\"`${baseLink}/cabinet/payments`\"\n        target=\"_blank\"\n        class=\"no-link sc-nav-list-block\"\n        style=\"display: flex; align-items: center;\"\n      >\n        <span class=\"wallet-icon sc-header-icon-tmp sc-header-icon-wallet\">\n          <span v-if=\"data.invoices.cnt > 0\" class=\"badge\">{{\n            data.invoices.cnt\n          }}</span>\n        </span>\n        <span v-html=\"data.balance\" />\n      </a>\n      <!-- slot -->\n\n      <template v-if=\"data.invoices.cnt\">\n        <!-- <div v-if=\"data.invoices.cnt > 10\" class=\"invoices-list\">\n          <span>{{ $t(\"header_invoices_list\") }}</span>\n          <span>{{ data.invoices.cnt }}</span>\n        </div> -->\n        <div>\n          <template v-for=\"(elem, i) in data.invoices.list\">\n            <a\n              v-if=\"i < 5\"\n              :key=\"i\"\n              :href=\"invoiceLink(elem)\"\n              target=\"_blank\"\n              class=\"no-link order\"\n            >\n              <span class=\"order-name\">\n                {{ $t(\"invoiceName\", { id: elem.order_id }) }}\n              </span>\n              <span class=\"order-price\">\n                {{ $t(\"invoicePrice\") }} <span v-html=\"elem.amount_format\" />\n              </span>\n            </a>\n          </template>\n        </div>\n        <div v-if=\"data.invoices.cnt > 5\" class=\"invoices-list-all\">\n          <a href=\"/cabinet/payments\" class=\"btn-link\">\n            {{ $t(\"header_see_all\", { count: data.invoices.cnt }) }}\n          </a>\n        </div>\n        <!-- <template v-if=\"data.user_is_client >= 0 && data.user_is_owner == 0\">\n          <hr />\n          <div>\n            <a :href=\"`${baseLink}/afi`\" class=\"no-link\">\n              {{ $t(\"afi\") }}\n            </a>\n          </div>\n        </template> -->\n        <hr />\n      </template>\n\n      <template v-if=\"data.estimated && data.estimated.length > 0\">\n        <div>\n          <template v-for=\"(estimate, i) in data.estimated\">\n            <a\n              v-if=\"i < 5\"\n              :key=\"i\"\n              :href=\"`${baseLink}/cabinet/payments/#estimated`\"\n              target=\"_blank\"\n              class=\"no-link order\"\n            >\n              <span\n                class=\"order-name\"\n                v-html=\"\n                  $t('willEnter', {\n                    price: estimate.amount,\n                    date: estimate.date_format,\n                  })\n                \"\n              />\n              <div class=\"order-price\">\n                {{ $t(\"precostBooking\", { id: estimate.id }) }}\n              </div>\n            </a>\n          </template>\n        </div>\n        <div v-if=\"data.estimated.length > 5\" class=\"estimated-list-all\">\n          <a :href=\"`${baseLink}/cabinet/payments/#estimated`\" class=\"btn-link\">\n            {{ $t(\"header_see_all\", { count: data.estimated.length }) }}\n          </a>\n        </div>\n        <hr />\n      </template>\n\n      <template v-if=\"data.user_is_client > 0 || data.user_is_owner > 0\">\n        <div>\n          <a :href=\"`${baseLink}/cabinet/payments`\" class=\"count no-link\">\n            <span>{{ $t(\"totalFounds\") }}</span>\n            <span class=\"val\" v-html=\"data.balance\" />\n          </a>\n        </div>\n      </template>\n\n      <template v-if=\"data.user_is_client >= 0 && data.user_is_owner == 0\">\n        <hr />\n        <div>\n          <a :href=\"`${baseLink}/afi`\" class=\"no-link\">\n            {{ $t(\"afi\") }}\n          </a>\n        </div>\n      </template>\n    </BaseNavList>\n  </div>\n</template>\n\n<script>\nimport BaseNavList from \"../Base/BaseNavList.vue\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  components: {\n    BaseNavList,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n    view: {\n      type: String,\n    },\n  },\n  computed: {\n    ...mapState(\"user\", [\"currency\", \"baseLink\"]),\n  },\n  methods: {\n    invoiceLink(el) {\n      return (\n        this.baseLink +\n        (el?.order_id && el?.order_id > 0\n          ? `/pay/${el.order_id}`\n          : `/cabinet/payments/invoices/${el?.id}`)\n      );\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.wallet {\n  color: white;\n  &-icon {\n    position: relative;\n    .badge {\n      background: #f51449;\n      font-size: 13px;\n      line-height: 1;\n      color: #fff;\n      border-radius: 9px;\n      padding: 2px 5px 3px;\n      min-width: 18px;\n      height: 18px;\n      overflow: hidden;\n      text-align: center;\n      vertical-align: middle;\n      display: inline-block;\n      text-indent: 0;\n      position: absolute;\n      top: -7px;\n      right: -10px;\n    }\n  }\n  &-balance {\n    white-space: nowrap;\n  }\n  .order {\n    display: flex;\n    flex-direction: column;\n    line-height: 1.3;\n    &-name {\n    }\n    &-price {\n      color: #717171;\n    }\n  }\n}\n.btn-up-balance {\n  padding-top: 10px;\n  padding-bottom: 4px;\n}\n.invoices-list {\n  display: flex;\n  justify-content: space-between;\n  color: #717171;\n  font-size: 14px;\n  padding: 0 20px;\n  margin-bottom: 6px;\n}\n.invoices-list-all {\n  padding-top: 6px;\n  margin-bottom: 10px;\n}\n</style>\n","import axios from \"axios\";\nimport {\n  cacheAdapterEnhancer,\n  throttleAdapterEnhancer,\n  retryAdapterEnhancer,\n} from \"axios-extensions\";\nimport VueCookies from \"vue-cookies\";\n\n\n\n//проверка, является ли сайт партнерским (isWhiteLabel)\nconst IS_WHITE_LABEL = typeof window !== \"undefined\" && VueCookies.get(\"whiteLabel\");\n\n// проверяем на VK приложение для замены токена\nlet isVkApp = false;\nif (typeof location === \"object\" && location.search !== \"\") {\n  isVkApp = location.search.includes(\"vk_app_id\");\n}\n\nlet TOKEN = \"Hy6U3z61fflbgT2yJ/VdlQ2719\"\n\nif(\n  process &&\n  process.env &&\n  process.env.NODE_ENV &&\n  process.env.NODE_ENV === 'production'\n) {\n  if(isVkApp) {\n    TOKEN = \"c8DbUrMUVJDHEgBbLxkpEg289958783\"\n  } else if (IS_WHITE_LABEL) {\n    TOKEN = \"QeVopIr1QKyCIBK53/5gZQ294283465\"\n  }\n}\n\n// Common Base Instance\nexport default axios.create({\n  adapter: throttleAdapterEnhancer(\n    cacheAdapterEnhancer(retryAdapterEnhancer(axios.defaults.adapter))\n  ),\n  baseURL: \"/api\",\n  headers: {\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n    \"api-version\": \"1.7\",\n    platform: \"js\",\n    token: TOKEN,\n  },\n});\n","import axios from \"axios\";\n\n/**\n * long-polling\n *\n * @module pushUser\n * @return {object} Promise\n */\n\nexport default (data) =>\n  //disable mocking userData for prerender\n  process.env.NODE_ENV === \"development\"\n    ? new Promise((res) => {\n        // эмуляция апи\n        setTimeout(\n          () =>\n            res({\n              data:\n                // Вам пишут сообщение...\n                // {\n                //   id: 4,\n                //   channel: \"push-user-4292155\",\n                //   text:\n                //     \"=%7B%22callback%22%3A%22_writeToMe%22%2C%22order_id%22%3A%228941929%22%7D\",\n                //   tag: \"1\",\n                //   time: \"Mon, 16 Dec 2019 06:58:14 GMT\",\n                //   eventid: \"\",\n                // },\n\n              // Заявка на бронь аннулирована\n              {\n                \"id\": 3,\n                \"channel\": \"push-user-4292155\",\n                \"text\": \"=%7B%22token%22%3A%22cron_orderautorejectunreadowner%22%2C%22seven_id%22%3A8941929%7D\",\n                \"tag\": \"1\",\n                \"time\": \"Mon, 16 Dec 2019 06:55:15 GMT\",\n                \"eventid\": \"\"\n              }\n\n              // Клиент отменил заявку\n              // {\n              //   \"id\": 7,\n              //   \"channel\": \"push-user-4292155\",\n              //   \"text\": \"=%7B%22token%22%3A%22orderscancelbyclient%22%2C%22seven_id%22%3A8941936%7D\",\n              //   \"tag\": \"1\",\n              //   \"time\": \"Mon, 16 Dec 2019 07:07:34 GMT\",\n              //   \"eventid\": \"\"\n              // }\n\n              // Новое сообщение по бронированию\n              // {\n              //   \"id\": 7,\n              //   \"channel\": \"push-user-4292155\",\n              //   \"text\": \"=%7B%22token%22%3A%22ordersnewmessage%22%2C%22seven_id%22%3A8941922%7D\",\n              //   \"tag\": \"1\",\n              //   \"time\": \"Mon, 16 Dec 2019 07:07:34 GMT\",\n              //   \"eventid\": \"\"\n              // }\n            }),\n          3000\n        );\n      })\n    : axios.get(`/sub/push-user-${data.userId}`, {\n        params: {\n          callfunc: \"actionPolling\",\n          v: new Date().getTime(),\n        },\n        cache: false,\n      });\n","import HTTP from \"../http-common\";\n\n/**\n * getNewNotices\n *\n * @module getNewNotices\n * @return {object} Promise\n */\n\nexport default () =>\n  HTTP.get(\"json/noticer/getNewNotices\", {\n    headers: {\n      \"api-version\": String(null),\n    },\n    cache: false,\n  });","import HTTP from \"../http-common\";\n\n/**\n * setNoticeRead\n *\n * @module setNoticeRead\n * @return {object} Promise\n */\n\nexport default (note_id = null) => {\n  let formData = new FormData();\n  formData.append(\"note_id\", note_id);\n  HTTP.post(\"json/noticer/setNoticeRead\", formData, {\n    headers: {\n      \"api-version\": String(null),\n    },\n    cache: false,\n  });\n};","import HTTP from \"../http-common\";\n\n/**\n * getNewNotices\n *\n * @module getNewNotices\n * @return {object} Promise\n */\n\nexport default (payload) => {\n  let formData = new FormData();\n  formData.append(\"serviceName\", payload.serviceName || \"\");\n\n  return HTTP.post(\"json/payments/testPayedBonus\", formData, {\n    headers: {\n      \"api-version\": String(null), // Если указать версию, то будет минимум данных\n    },\n  });\n};\n","import HTTP from \"./http-common\";\n\n/**\n * Получение списка валют\n *\n * @module getCurrencies\n * @return {object} Promise\n */\n\nexport default (url) =>\n  HTTP.post(`${url}/json/currencies/getList`);\n","\n import HTTP from \"./http-common\";\n\n /**\n  * Установка валюты\n  *\n  * @module setCurrency\n  * @return {object} Promise\n  */\n\n export default (id) => {\n  let formData = new FormData();\n  formData.append(\"id\", id);\n  return HTTP.post(\"/json/currencies/setCurrency\", formData)\n}\n","import HTTP from \"./http-common\";\n\n/**\n * Получение данных о пользователе\n *\n * @module getUserData\n * @return {object} Promise\n */\n\nexport default (url, params) =>\n  HTTP.get(`${url}json/users/getUserData`, {\n    headers: {\n      \"api-version\": String(null), // Если указать версию, то будет минимум данных\n    },\n    params,\n    cache: false,\n  });\n","import HTTP from \"./http-common\";\n\n/**\n * checkEnoughContacts\n *\n * @module checkEnoughContacts\n * @return {object} Promise\n */\n\nexport default () =>\n  HTTP.post(\"json/users/checkEnoughContacts/\", {\n    headers: {\n      \"api-version\": String(null),\n    },\n    cache: false,\n  });\n","import HTTP from \"./http-common\";\n\n/**\n * initSessionDomain\n *\n * @module initSessionDomain\n * @return {object} Promise\n */\n\nexport default (url) => {\n  let formData = new FormData();\n  let friendInput = document.querySelector('#jsn-friend-id')\n\n  if (friendInput) {\n    formData.append(\"friend\", friendInput.value);\n  }\n\n  return HTTP.post(`${url}json/users/initSessionDomain/`, formData, {\n    headers: {\n      \"api-version\": String(null),\n    },\n    cache: false,\n  });\n}\n","import HTTP from \"./http-common\";\n\n/**\n * addMobileToNotAuthUser\n *\n * @module addMobileToNotAuthUser\n * @return {object} Promise\n */\n\nexport default (formData) =>\n  HTTP.post(\"json/users/addMobileToNotAuthUser/\", formData, {\n    headers: {\n      \"api-version\": String(null),\n    },\n    cache: false,\n  });\n","import HTTP from \"./http-common\";\n\n/**\n * Добавить пользователя в группу \"Отключены уведомления\"\n *\n * @module addUserToGroupDisableNotifications\n * @param {boolean} $enabled - вкл/выкл\n * @access admin\n * @return {Array}\n */\n\nexport default (enabled = false) =>{\n  let formData = new FormData();\n  formData.append(\"enabled\", enabled)\n  return HTTP.post(\"json/users/addUserToGroupDisabledNotifications\", formData, {\n    headers: {\n      \"api-version\": String(null),\n    },\n    cache: false,\n  });\n}\n","import HTTP from \"./http-common\";\n\n/**\n * clearSocialAccountData\n *\n * @module clearSocialAccountData\n * @return {object} Promise\n */\n\nexport default () =>\n  HTTP.post(\"json/users/clearSocialAccountData/\", {\n    headers: {\n      \"api-version\": String(null),\n    },\n    cache: false,\n  });\n","import HTTP from \"./http-common\";\n\n/**\n * Авторизация пользователя\n *\n * @module auth\n * @param {object} payload Информация для входа\n * @param {string} payload.name Имя\n * @param {string} payload.value Номер телефона\n * @param {string} payload.password Номер телефона\n * @param {boolean} payload.persistent [n=0] Запомнить?\n * @param {string} payload.status [n=\"auth-login\"] (\"auth-registration\" - регистрация, \"auth-login\" - авторизация )\n * @param {boolean} payload.forgot [n=0] Забыл пароль?\n * @param {boolean} payload.terms [n=0] Принял правила?\n * @return {object} Promise\n * @example\n *   auth({ value, password })\n */\nexport default (payload) => {\n  let formData = new FormData();\n  formData.append(\"name\", payload.name || \"\");\n  formData.append(\"value\", payload.value);\n  formData.append(\"password\", payload.password || \"\");\n  formData.append(\"persistent\", payload.persistent || 0);\n  formData.append(\"terms\", payload.terms || 0);\n  formData.append(\"forgot\", payload.forgot || 0);\n  formData.append(\"status\", payload.status || \"auth-login\");\n  if(!payload.isEmail) {\n    formData.append(\"transport_notice\", \"sms\");\n  }\n  // status: auth-registration\n  return HTTP.post(\"json/users/auth\", formData, {\n    headers: {\n      \"api-version\": String(null), // Если указать версию, то будет минимум данных\n    },\n  });\n};\n","import HTTP from \"./http-common\";\n\nexport default (formData) => {\n  return HTTP.post(\"/json/users/addContact\", formData)\n}\n","import HTTP from \"./http-common\";\n\nexport default (formData) => {\n  return HTTP.post(\"/json/users/requestApproveContact\", formData)\n}\n","<i18n>\n{\n  \"ru\": {\n    \"more\":\"ещё\"\n  },\n  \"en\": {\n    \"more\":\"more\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"language-switch\" :class=\"{ mobile: view == 'mobile' }\">\n    <BaseNavList direction=\"left\">\n      <!-- slot -->\n      <div\n        slot=\"title\"\n        class=\"language-switch-title sc-nav-list-block\"\n        @click=\"toggleLang = !toggleLang\"\n      >\n        <span\n          class=\"language-switch-icon\"\n          :class=\"`language-switch-icon__${this.$i18n.locale}`\"\n        ></span>\n        <template v-if=\"view == 'mobile'\">\n          <span>\n            {{\n              this.$i18n.locale == \"ru\"\n                ? \"Русский язык\"\n                : this.$i18n.locale == \"en\"\n                ? \"English language\"\n                : \"\"\n            }}\n          </span>\n          <span>·</span>\n        </template>\n        {{ currency.title }}\n      </div>\n      <!-- slot -->\n\n      <template v-if=\"(toggleLang && view == 'mobile') || view != 'mobile'\">\n        <div>\n          <span class=\"no-link\" @click=\"changeLang('ru')\">\n            <span\n              class=\"icon-wps-check\"\n              :class=\"{ active: this.$i18n.locale == 'ru' }\"\n            ></span>\n            Русский язык\n            <span class=\"language-switch-icon language-switch-icon__ru\"></span>\n          </span>\n        </div>\n        <div>\n          <span class=\"no-link\" @click=\"changeLang('en')\">\n            <span\n              class=\"icon-wps-check\"\n              :class=\"{ active: this.$i18n.locale == 'en' }\"\n            ></span>\n            English language\n            <span class=\"language-switch-icon language-switch-icon__en\"></span>\n          </span>\n        </div>\n        <hr />\n        <div class=\"currencies-list header-scroll\">\n          <template v-for=\"(item, index) in currenciesList\">\n            <span\n              v-if=\"index < currencies\"\n              :key=\"item.id\"\n              @click=\"applyСurrency(item)\"\n            >\n              <span\n                class=\"icon-wps-check\"\n                :class=\"{ active: currency.id == item.id }\"\n              ></span>\n              {{ item.code }} - {{ item.title }}\n            </span>\n          </template>\n        </div>\n        <div v-if=\"btnMore\" class=\"more\">\n          <button\n            class=\"btn-link\"\n            variant=\"outline-light\"\n            @click=\"currenciesAll\"\n          >\n            {{ $t(\"more\") }}\n          </button>\n        </div>\n      </template>\n    </BaseNavList>\n  </div>\n</template>\n\n<script>\nimport BaseNavList from \"../Base/BaseNavList.vue\";\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport VueCookies from \"vue-cookies\";\n\nexport default {\n  components: {\n    BaseNavList,\n  },\n  props: {\n    view: {\n      type: String,\n    },\n  },\n  created() {},\n  mounted() {\n    this.checkLang();\n    this.checkCurrency();\n  },\n  methods: {\n    ...mapActions(\"user\", [\"setCurrency\"]),\n    ...mapMutations(\"user\", { currencyMutate: \"currency\" }),\n    currenciesAll() {\n      this.currencies = this.currenciesList.length;\n      this.btnMore = false;\n    },\n    checkCurrency() {\n      if (\n        VueCookies.get(\"wp_currency_title\") &&\n        VueCookies.get(\"wp_currency_id\")\n      ) {\n        const curr = {\n          title: VueCookies.get(\"wp_currency_title\"),\n          id: VueCookies.get(\"wp_currency_id\"),\n        };\n        this.currencyMutate(curr);\n        this.$emit(\"input\", 0);\n        // this.setCurrency(curr)\n      }\n    },\n    applyСurrency(val) {\n      this.setCurrency({\n        code: val.code,\n        id: val.id,\n      }).then((res) => {\n        this.$emit(\"input\", 0);\n        if (!this.app) {\n          window.location.reload();\n        }\n      });\n    },\n    checkLang() {\n      let url = window.location.host;\n      if (url.indexOf(\".net\") !== -1 || url.indexOf(\".com\") !== -1) {\n        this.$root.$i18n.locale = \"en\";\n      } else {\n        this.$root.$i18n.locale = \"ru\";\n      }\n    },\n    changeLang(lang) {\n      // VueCookies.set(\"language_id\", lang, \"30d\")\n      // if (process.env.NODE_ENV === \"production\") {\n      let url = window.location.origin;\n      if (url.indexOf(\".test\") !== -1 || url.indexOf(\".net\") !== -1) {\n        if (lang == \"ru\") {\n          url = url.replace(\".net\", \".test\");\n        } else {\n          url = url.replace(\".test\", \".net\");\n        }\n        \n      } else {\n        if (lang == \"ru\") {\n          url = url.replace(\".com\", \".ru\");\n        } else {\n          url = url.replace(\".ru\", \".com\");\n        }\n      }\n      document.location.href = `${url}${window.location.pathname}${window.location.search}`\n      // } else {\n      //   //for test just change language with vuex\n      //   this.$root.$i18n.locale = lang;\n      // }\n      // }\n    },\n  },\n  computed: {\n    ...mapState(\"user\", [\"currency\", \"currenciesList\", \"app\"]),\n  },\n  data() {\n    return {\n      toggleLang: false,\n      currencies: 5,\n      btnMore: true,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.language-switch {\n  color: white;\n  &.mobile {\n    .language-switch-title {\n      width: 100%;\n      padding-left: 4px;\n      padding-top: 7px;\n      padding-bottom: 7px;\n      .language-switch-icon {\n        margin-left: 6px;\n        margin-right: 9px;\n        ~ span {\n          margin-right: 6px;\n        }\n      }\n    }\n    ::v-deep .sc-nav-list-body {\n      span {\n        padding-left: 20px;\n      }\n    }\n  }\n  &-title {\n    display: flex;\n    align-items: center;\n  }\n  &-icon {\n    margin-left: auto;\n    width: 20px;\n    min-width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    text-indent: -9999px;\n    background-size: 240px;\n    background-image: url(\"../assets/spr_header_2x.png\");\n    display: inline-block;\n    vertical-align: middle;\n    margin-right: 6px;\n    position: relative;\n    &__ru {\n      background-position: -120px 0;\n    }\n    &__en {\n      background-position: -140px 0;\n    }\n  }\n  ::v-deep .sc-nav-list-body {\n    span {\n      display: flex;\n    }\n  }\n  .more {\n    padding: 10px 30px 8px;\n    .btn {\n      padding: 7px 20px;\n      width: 100%;\n      &:hover {\n        border-color: #b2b2b2;\n      }\n    }\n    .btn-link {\n      margin: 0;\n      width: 100%;\n      color: #fff;\n      cursor: pointer;\n    }\n  }\n  .icon-wps-check {\n    position: relative;\n    top: -2px;\n    left: -8px;\n    font-size: 20px;\n    opacity: 0;\n    &.active {\n      opacity: 1;\n    }\n  }\n  .header-scroll {\n    max-height: calc(var(--vh, 1vh) * 100 - 169px);\n    @media all and (max-width: 960px) {\n      max-height: calc(var(--vh, 1vh) * 100 - 146px);\n    }\n  }\n}\n</style>\n","const img = \"data:image/svg+xml,%3csvg height='15' viewBox='0 0 18 15' width='18' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m875.684 273.223a1.757 1.757 0 0 1 -2.468.456l-3.291-2.12a1.8 1.8 0 0 1 -.763-1.542 6.394 6.394 0 0 1 -8.381.908 6.506 6.506 0 0 1 -2.675-4.209 6.579 6.579 0 0 1 1.04-4.9 6.4 6.4 0 0 1 8.976-1.658 6.619 6.619 0 0 1 2.124 8.263 1.75 1.75 0 0 1 1.7.178l3.293 2.12a1.815 1.815 0 0 1 .445 2.504zm-6.809-8.5a4.532 4.532 0 0 0 -1.864-2.935 4.464 4.464 0 0 0 -6.26 1.154 4.613 4.613 0 0 0 1.139 6.351 4.464 4.464 0 0 0 6.26-1.154 4.583 4.583 0 0 0 .725-3.414z' fill='white' transform='translate(-858 -259)'/%3e%3c/svg%3e\";\n  export default img;","<template>\n  <div v-if=\"owner\" class=\"info-client\">\n    <div class=\"info-client--title\">\n      <span class=\"icon-wps-man\"></span>\n      <span class=\"id-client\"> ID: {{ owner.owner_data.id }} </span>\n      <a\n        :href=\"`/admin/modules/users/admin_edit/id/${owner.owner_data.id}`\"\n        target=\"_blank\"\n        >{{ owner.owner_data.name }}</a\n      >\n    </div>\n    <div v-if=\"owner.answer_stat\" class=\"info-client--body\">\n      <p>\n        {{ owner.answer_stat.handle_request }}\n      </p>\n      <p>\n        {{ owner.answer_stat.response_time }}\n      </p>\n    </div>\n    <div class=\"info-client--edit\">\n      <a\n        class=\"btn btn-primary btn-price\"\n        :href=\"`/admin/modules/objects/admin_edit/id/${owner.object.id}/?mode=edit`\"\n        target=\"_blank\"\n      >\n        <span class=\"icon-wps-pencil\"></span>\n        Изменить объект\n      </a>\n    </div>\n    <div class=\"info-client--phone\">\n      <span v-for=\"(item, index) in owner.owner_data.phones\" :key=\"index\">\n        {{ item.phone_parse }}\n      </span>\n    </div>\n    <div class=\"info-client--path\">\n      <span>{{ pathObject }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"DetailClientInfo\",\n  props: {\n    owner: {\n      type: Object,\n      default: null\n    },\n    pathObject: {\n      type: String,\n      default: ''\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ndiv.info-client {\n  position: fixed;\n  bottom: 10px;\n  right: 10px;\n  z-index: 10000;\n  background-color: #f2dede;\n  width: 320px;\n  max-height: 90%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 20px 20px 40px;\n  color: #444444;\n  &--title {\n    margin-bottom: 15px;\n    font-size: 19px;\n    .icon-wps-man {\n      font-size: 19px;\n    }\n    .id-client {\n      font-weight: 500;\n    }\n    a:hover {\n      color: #f51449;\n    }\n  }\n  &--body {\n    p {\n      padding: 0;\n      margin: 0 0 10px;\n    }\n  }\n  &--edit {\n    margin-bottom: 10px;\n    .btn {\n      .icon-wps-pencil {\n        font-size: 14px;\n        margin-right: 4px;\n      }\n      &:hover {\n        color: #444444;\n      }\n    }\n  }\n  &--phone {\n    margin-bottom: 20px;\n  }\n  &--phone,\n  &--path {\n    span {\n      display: inline-block;\n      vertical-align: top;\n      background-color: #6fa759;\n      padding: 5px 10px;\n      font-size: 10px;\n      line-height: 1;\n      font-weight: 400;\n      margin: 0 2px 2px 0;\n      color: #fff;\n      white-space: normal;\n    }\n  }\n}\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"cabinet\": \"Личный кабинет\",\n    \"profile\": \"Профиль\",\n    \"settingsNotice\": \"Настройка уведомлений\",\n    \"passwordAndSecurity\": \"Пароль и безопасность\",\n    \"linkedAccounts\": \"Связаные аккаунты\",\n    \"exit\": \"Выход\",\n    \"priority_location\":\"Приоритетное размещение\",\n    \"requests_for_selection_housing\":\"Запросы на подбор жилья\",\n    \"my_orders\":\"Мои бронирования\",\n    \"title_help\":\"Помощь\",\n    \"favorites\":\"Избранное\",\n    \"add_rental_object\":\"Сдать жильё\",\n    \"housing_request\":\"Создать запрос на подбор жилья\",\n    \"text_select_city\":\"Для создания запроса на подбор жилья выберите город.\",\n    \"modal_select_city\":\"Выберите город\",\n    \"myBooks\": \"Мои бронирования\",\n    \"support\": \"Служба поддержки {tel}\",\n    \"rentHouse\": \"Сдавайся на Суточно.ру\"\n  },\n  \"en\": {\n    \"cabinet\": \"Your account\",\n    \"profile\": \"Profile\",\n    \"settingsNotice\": \"Configure Notifications\",\n    \"passwordAndSecurity\": \"Password and safety\",\n    \"linkedAccounts\": \"Linked accounts\",\n    \"exit\": \"Log out\",\n    \"priority_location\":\"Priority location\",\n    \"requests_for_selection_housing\":\"Requests for the selection of housing\",\n    \"my_orders\":\"My booking\",\n    \"title_help\":\"Help\",\n    \"favorites\":\"Favorites\",\n    \"add_rental_object\":\"Host`s proposal\",\n    \"housing_request\":\"Make a request to find housing\",\n    \"text_select_city\":\"To make a request on a search of housing,choose a city.\",\n    \"modal_select_city\":\"Choose a city\",\n    \"myBooks\": \"My bookings\",\n    \"support\": \"Support service {tel}\",\n    \"rentHouse\": \"Rent house on Sutochno.ru\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"account\">\n    <BaseNavList direction=\"right\">\n      <template v-if=\"auth.isAuth\">\n        <!-- slot -->\n        <a\n          slot=\"title\"\n          :href=\"`${this.baseLink}/cabinet`\"\n          class=\"account-user no-link sc-nav-list-block\"\n          :class=\"{ mobile: view == 'mobile' }\"\n          :aria-label=\"$t('cabinet')\"\n        >\n          <span class=\"account-user-avatar\">\n            <img\n              v-if=\"data && data.user && data.user.avatar\"\n              :src=\"data.user.avatar\"\n              alt=\"\"\n            />\n            <img v-else-if=\"auth.data.g == 2\" :src=\"defaultAvatarFemale\" />\n            <img v-else :src=\"defaultAvatar\" />\n          </span>\n          <span v-if=\"view == 'mobile' && auth.data\" class=\"account-user-name\">\n            <span class=\"text-gray\">{{ $t(\"cabinet\") }}:</span>\n            {{ auth.data.name }}\n          </span>\n          <span v-else-if=\"auth.data\" class=\"account-user-name\">\n            {{ auth.data.name }}\n          </span>\n          <span\n            v-else-if=\"data.user && data.user.name\"\n            class=\"account-user-name\"\n          >\n            {{ data.user.name }}\n          </span>\n        </a>\n        <!-- slot -->\n\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/profile/edit`\" class=\"no-link\">\n            {{ $t(\"profile\") }}\n          </a>\n        </div>\n        <div>\n          <a\n            :href=\"`${this.baseLink}/cabinet/profile/contacts`\"\n            class=\"no-link\"\n          >\n            {{ $t(\"settingsNotice\") }}\n          </a>\n        </div>\n        <div>\n          <a\n            :href=\"`${this.baseLink}/cabinet/profile/security`\"\n            class=\"no-link\"\n          >\n            {{ $t(\"passwordAndSecurity\") }}\n          </a>\n        </div>\n        <div>\n          <a :href=\"`${this.baseLink}/cabinet/profile/socials`\" class=\"no-link\">\n            {{ $t(\"linkedAccounts\") }}\n          </a>\n        </div>\n        <hr />\n      </template>\n      <template v-if=\"view == 'mobile'\">\n        <template v-if=\"auth.isAuth\">\n          <!-- <div>\n            <a :href=\"`${this.baseLink}/cabinet/objects/top`\" class=\"no-link\">\n              {{ $t(\"priority_location\") }}\n            </a>\n          </div> -->\n          <!-- <div>\n            <a class=\"no-link\" :href=\"housingSelection\" @click.prevent=\"housingSelectionFunc\">\n              {{ $t(\"requests_for_selection_housing\") }}\n            </a>\n          </div>\n          <hr /> -->\n          <!-- <div>\n            <a :href=\"`${this.baseLink}/cabinet/orders`\" class=\"no-link\">\n              {{ $t(\"my_orders\") }}\n            </a>\n          </div>\n          <div>\n            <a :href=\"`${this.baseLink}/cabinet/favorites`\" class=\"count no-link\">\n              <span>{{ $t(\"favorites\") }}</span>\n              <span\n                class=\"val\"\n                v-if=\"data && data.objects && data.objects.favorites\"\n              >\n                {{ data.objects.favorites }}\n              </span>\n            </a>\n          </div>\n          <hr /> -->\n        </template>\n\n        <template v-if=\"!auth.isAuth\">\n          <div>\n            <a :href=\"`${baseLink}/cabinet/notices`\" class=\"no-link\">\n              <span class=\"my-booking-icon\">\n                <span class=\"sc-header-icon-tmp sc-header-icon-message\" />\n              </span>\n              <span class=\"title-btn\">{{ $t(\"myBooks\") }}</span>\n            </a>\n          </div>\n          <hr />\n\n          <div>\n            <a :href=\"`${baseLink}/cabinet/favorites`\" class=\"no-link\">\n              <span class=\"sc-header-icon-tmp sc-header-icon-favorite\"></span>\n              <span>{{ favorite }}</span>\n            </a>\n          </div>\n          <hr />\n\n          <div>\n            <a\n              class=\"no-link\"\n              :href=\"housingSelection\"\n              @click.prevent=\"housingSelectionFunc\"\n            >\n              <span class=\"sc-header-icon-tmp sc-header-icon-plane\"></span>\n              <span>{{ $t(\"housing_request\") }}</span>\n            </a>\n          </div>\n          <hr />\n\n          <div>\n            <a\n              :href=\"`${baseLink}/help/${\n                isAuth && data.user_is_owner > 0 ? 'arendodateli' : 'gosti'\n              }`\"\n              target=\"_blank\"\n              class=\"no-link\"\n            >\n              <span class=\"sc-header-icon-tmp sc-header-icon-help\"></span>\n              <span>{{ $t(\"title_help\") }}</span>\n            </a>\n          </div>\n          <hr />\n\n          <div>\n            <a href=\"tel:88004448049\" target=\"_blank\" class=\"no-link\">\n              <span class=\"sc-header-icon-tmp sc-header-icon-phone\"></span>\n              <span>{{ $t(\"support\", { tel: \"8 800 444 8049\" }) }}</span>\n            </a>\n          </div>\n          <hr />\n\n          <div>\n            <a :href=\"`https://сдавайся.рф`\" target=\"_blank\" class=\"no-link\">\n              <span class=\"sc-header-icon-tmp sc-header-icon-rent-house\"></span>\n              <span>{{ $t(\"rentHouse\") }}</span>\n            </a>\n          </div>\n          <hr />\n        </template>\n      </template>\n      <div v-if=\"!auth.isAuth\" class=\"lang\">\n        <LanguageSwitch view=\"mobile\" />\n      </div>\n      <template v-if=\"auth.isAuth\">\n        <template v-if=\"data.user_is_owner <= 0 && view == 'mobile'\">\n          <div>\n            <a\n              v-if=\"!isVkApp\"\n              :href=\"housingSelection\"\n              class=\"no-link\"\n              @click.prevent=\"housingSelectionFunc\"\n            >\n              {{ $t(\"housing_request\") }}\n            </a>\n          </div>\n          <hr />\n          <div>\n            <a\n              v-if=\"!isVkApp\"\n              :href=\"`https://сдавайся.рф`\"\n              target=\"_blank\"\n              class=\"no-link\"\n            >\n              {{ $t(\"rentHouse\") }}\n            </a>\n          </div>\n          <hr />\n        </template>\n        <template v-if=\"view == 'mobile'\">\n          <LanguageSwitch view=\"mobile\" />\n          <hr />\n          <div>\n            <a\n              :href=\"`${this.baseLink}/help/${\n                isAuth && data.user_is_owner > 0 ? 'arendodateli' : 'gosti'\n              }`\"\n              class=\"no-link\"\n              target=\"_blank\"\n            >\n              {{ $t(\"title_help\") }}\n            </a>\n          </div>\n          <div>\n            <a href=\"tel:88004448049\" target=\"_blank\" class=\"no-link\">\n              <span>{{ $t(\"support\", { tel: \"8 800 444 8049\" }) }}</span>\n            </a>\n          </div>\n        </template>\n        <template v-if=\"data.user_is_owner <= 0 && view != 'mobile'\">\n          <div>\n            <a\n              v-if=\"!isVkApp\"\n              :href=\"`https://сдавайся.рф`\"\n              target=\"_blank\"\n              class=\"no-link\"\n            >\n              {{ $t(\"rentHouse\") }}\n            </a>\n          </div>\n          <hr />\n        </template>\n        <hr v-if=\"view == 'mobile'\" />\n        <div>\n          <a v-if=\"!isVkApp\" href=\"/logout.html\" class=\"no-link gray\">\n            {{ $t(\"exit\") }}\n          </a>\n        </div>\n        <template v-if=\"auth.isAuth && data.user_is_moder\">\n          <hr />\n          <div>\n            <a class=\"count no-link\" @click=\"showClientInfo\">\n              <span>Информация о владельце</span>\n              <span class=\"val\">\n                <input v-model=\"isClientInfo\" type=\"checkbox\" />\n              </span>\n            </a>\n          </div>\n          <div>\n            <a class=\"count no-link\" @click=\"showFiltersParams\">\n              <span>Дополнительные фильтры</span>\n              <span class=\"val\">\n                <input v-model=\"isSupportFilters\" type=\"checkbox\" />\n              </span>\n            </a>\n          </div>\n          <div>\n            <a class=\"count no-link\" @click=\"showSearch\">\n              <span>Быстрый поиск</span>\n              <span class=\"val\">\n                <input v-model=\"isSearchAdmin\" type=\"checkbox\" />\n              </span>\n            </a>\n          </div>\n          <div>\n            <a class=\"count no-link\" @click=\"editLocation\">\n              <span>Редактировать локацию</span>\n            </a>\n          </div>\n          <div>\n            <a class=\"count no-link\" @click=\"editSeo\">\n              <span>Редактировать SEO</span>\n            </a>\n          </div>\n          <div>\n            <a class=\"count no-link\" @click=\"editArticle\">\n              <span>Редактировать статью</span>\n            </a>\n          </div>\n          <!-- <div>\n            <a class=\"count no-link\" @click=\"setTranslationMode\">\n              <span>Режим перевода</span>\n              <span class=\"val\">\n                <input v-model=\"isTranslationMode\" type=\"checkbox\" />\n              </span>\n            </a>\n          </div> -->\n          <div>\n            <a class=\"count no-link\" @click=\"searchAppUrls\">\n              <span>Отключить searchApp urls</span>\n              <span class=\"val\">\n                <input v-model=\"isSearchAppUrls\" type=\"checkbox\" />\n              </span>\n            </a>\n          </div>\n          <div>\n            <a class=\"count no-link\" @click=\"disabledNotifications($event)\">\n              <span>Отключить уведомления</span>\n              <span class=\"val\">\n                <input v-model=\"isDisabledNotifications\" type=\"checkbox\" />\n              </span>\n            </a>\n          </div>\n          <div>\n            <a class=\"count no-link\" @click=\"showSearchGeocoderMap\">\n              <span>Поиск по геокодеру карты</span>\n              <span class=\"val\">\n                <input v-model=\"isSearchGeocoderMap\" type=\"checkbox\" />\n              </span>\n            </a>\n          </div>\n        </template>\n      </template>\n    </BaseNavList>\n    <BaseModal\n      ref=\"modalRef\"\n      class=\"custom-modal\"\n      :title=\"$t('modal_select_city')\"\n    >\n      <div class=\"modal-wrapper\">\n        {{ $t(\"text_select_city\") }}\n      </div>\n      <div slot=\"footer\" class=\"text-right\">\n        <b-button class=\"btn-blue\" @click=\"hideModal()\">Ok</b-button>\n      </div>\n    </BaseModal>\n    <template v-if=\"isAuth && data.user_is_moder\">\n      <SearchAdmin v-if=\"isSearchAdmin\" />\n      <DetailClientInfo v-if=\"isClientInfo\" :owner=\"owner\" :pathObject=\"pathObject\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport defaultAvatar from \"../assets/default-avatar_small.jpg\";\nimport defaultAvatarFemale from \"../assets/default-avatar_small_female.jpg\";\nimport API from \"../API\";\nimport BaseNavList from \"./BaseNavList.vue\";\nimport BaseModal from \"../Base/BaseModal.vue\";\nimport LanguageSwitch from \"./LanguageSwitch.vue\";\nimport SearchAdmin from \"./searchAdmin.vue\";\nimport DetailClientInfo from \"./DetailClientInfo.vue\";\nimport { mapMutations, mapState, mapGetters } from \"vuex\";\nimport VueCookies from \"vue-cookies\";\nimport HTTP from \"../API/http-common\";\n\nexport default {\n  components: {\n    BaseNavList,\n    BaseModal,\n    LanguageSwitch,\n    SearchAdmin,\n    DetailClientInfo,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n    view: {\n      type: String,\n    },\n    isAuth: {\n      type: Boolean,\n    },\n  },\n  data() {\n    return {\n      modalHead: null,\n      isSearchAdmin: false,\n      isClientInfo: false,\n      isSupportFilters: false,\n      isSearchGeocoderMap: false,\n      isTranslationMode: false,\n      isSearchAppUrls: false,\n      defaultAvatar,\n      defaultAvatarFemale,\n      owner: null,\n    };\n  },\n  watch: {\n    modalHead: function (val) {\n      this.$emit(\"input\", val);\n    },\n    isSupportFilters(val) {\n      this.setSupportFilters(val);\n    },\n    isClientInfo(val) {\n      if (val && !this.owner) {\n        this.adminGetDopDatas()\n      }\n    },\n    data() {\n      if (this.data.user_is_moder && this.$route.name == 'Detail') {\n        this.adminGetDopDatas()\n      }\n    }\n  },\n  computed: {\n    ...mapState(\"user\", [\"isVkApp\", \"location\", \"app\", \"auth\", \"baseLink\"]),\n    ...mapGetters(\"user\", [\"getPermission\"]),\n    ...mapGetters(\"search\", [\"maxGuests\"]),\n    pathObject() {\n      if (this.owner) {\n        // если нужно отобразить гостей в новом формате\n        // const listQuery = [\"guests_adults\", \"guests_childrens\", \"occupied\"];\n        // const filteredObj = _.pick(this.$route.query, listQuery);\n        //\n        // return `https://sutochno.ru/${this.owner.object.id}?${Object.entries(filteredObj).map(v=>v.join(\"=\")).join(\"&\")}`\n\n        let occupied = this.$route.query.occupied\n            ? `&occupied=${this.$route.query.occupied}`\n            : \"\";\n        return `https://sutochno.ru/${this.owner.object.id}?max_guests=${this.maxGuests}${occupied}`;\n      }\n    },\n    favorite() {\n      return this.data?.objects?.favorites > 0\n        ? `${this.$t(\"favorites\")} (${this.data.objects.favorites})`\n        : this.$t(\"favorites\");\n    },\n    housingSelection() {\n      if (this.$store.state.search?.location?.url) {\n        return `${this.$store.state.search.location.url}`;\n      }\n      if (this.data && this.data.location_url) {\n        return `${this.data.location_url}/podbor`;\n      } else if (this.$store.state.search?.location?.subdomain) {\n        let domain = this.$store.state.search?.location?.subdomain\n          ? `${this.$store.state.search?.location?.subdomain}.`\n          : null;\n        if (domain) return `//${domain}sutochno.ru/podbor`;\n      } else {\n        return `${this.baseLink}/podbor`;\n      }\n    },\n    getSearchappUrls() {\n      return VueCookies.get(\"admin_disableSearchAppMode\") &&\n        VueCookies.get(\"admin_disableSearchAppMode\") != 0\n        ? true\n        : false;\n    },\n    article() {\n      const SELECTOR =\n        document?.querySelector(\".article-wrapper\") ||\n        document?.querySelector(\".old-article-wrapper\");\n      const ARTICLE = SELECTOR?.getAttribute(\"data-article-id\");\n      return ARTICLE ? ARTICLE : null;\n    },\n    supportFilters() {\n      return VueCookies.get(\"admin_showExtendedFilters\") &&\n        VueCookies.get(\"admin_showExtendedFilters\") != 0\n        ? 1\n        : 0;\n    },\n    isDisabledNotifications: {\n      get() {\n        return this.getPermission(\"disabled_notifications\");\n      },\n      set(val) {\n        this.setPermission(val);\n        API.addUserToGroupDisabledNotifications(val)\n          .then((response) => {\n            if (response.data?.errors?.length) {\n              this.setPermission(!val);\n              console.log(response.data?.errors[0]);\n            }\n          })\n          .catch((err) => {\n            this.setPermission(!val);\n            console.log(err);\n          });\n      },\n    },\n  },\n  mounted() {\n    if (this.$route.name == 'Detail') {\n      this.isClientInfo = true;\n    }\n    this.isSearchAppUrls = this.getSearchappUrls;\n    this.isSupportFilters = this.supportFilters;\n    if (this.isAuth && this.data.user_is_moder) {\n      this.getLocalStoragAdmin();\n    }\n  },\n  methods: {\n    ...mapMutations(\"search\", [\"setSupportFilters\"]),\n    ...mapMutations(\"user\", [\"removePermission\", \"addPermission\"]),\n    hideModal() {\n      this.$refs.modalRef.close();\n      window.scrollTo(\n        0,\n        this.$parent.$parent.$parent.$refs.blockSearch.offsetTop\n      );\n    },\n    housingSelectionFunc() {\n      if (this.location?.id && this.location?.type)\n        location.href = `${this.baseLink}/front/host/booking/request?type=${this.location?.type}&id=${this.location?.id}`;\n      else location.href = `${this.baseLink}/front/host/booking/request`;\n    },\n    // housingSelection() {\n    //   if (this.$store.state.search?.location?.url) {\n    //     location.href = `https://${this.$store.state.search.location.url}`;\n    //   }\n    //   if (this.$route.name == \"Main\") {\n    //     this.$refs.modalRef.show();\n    //   } else {\n    //     if (this.data && this.data.location_url) {\n    //       location.href = `${this.data.location_url}/podbor`;\n    //     } else {\n    //       // let domain = /:\\/\\/([^\\/]+)/.exec(window.location.href)[1];\n    //       let domain = this.$store.state.search?.location?.subdomain\n    //         ? `${this.$store.state.search?.location?.subdomain}.`\n    //         : null;\n    //       if (domain) location.href = `https://${domain}sutochno.ru/podbor`;\n    //     }\n    //   }\n    // },\n    setLocalStoragAdmin() {\n      this.$localStorage._lsSet(\n        \"adminInfo\",\n        {\n          search: this.isSearchAdmin,\n          infoClient: this.isClientInfo,\n          filter: this.isSupportFilters,\n          isSearchGeocoderMap: this.isSearchGeocoderMap,\n        },\n        Object\n      );\n    },\n    getLocalStoragAdmin() {\n      const adminInfo = this.$localStorage.get(\"adminInfo\", null, Object);\n      if (this.app && adminInfo) {\n        this.isSearchAdmin = adminInfo.search;\n        this.isSupportFilters = adminInfo.filter;\n        this.isSearchGeocoderMap = adminInfo.isSearchGeocoderMap;\n        this.setSupportFilters(this.isSupportFilters);\n        if (adminInfo.infoClient && !this.owner) {\n          this.isClientInfo = adminInfo.infoClient;\n          this.adminGetDopDatas()\n        }\n      }\n    },\n    setSupportFiltersCookie() {\n      const param = Number(!this.isSupportFilters);\n      VueCookies.set(\"admin_showExtendedFilters\", param, \"30d\");\n      location.reload();\n    },\n    showSearch() {\n      this.isSearchAdmin = !this.isSearchAdmin;\n      this.setLocalStoragAdmin();\n    },\n    showClientInfo() {\n      this.isClientInfo = !this.isClientInfo;\n      this.setLocalStoragAdmin();\n    },\n    showFiltersParams() {\n      if (!this.app) this.setSupportFiltersCookie();\n      this.isSupportFilters = !this.isSupportFilters;\n      this.setLocalStoragAdmin();\n    },\n    editLocation() {\n      const locations = {\n        city: \"citiesedit\",\n        country: \"countriesedit\",\n        region: \"regionsedit\",\n      };\n\n      location.href = `/admin/modules/locations/${\n        locations[this.location.type]\n      }/id/${this.location.id}`;\n    },\n    editSeo() {\n      location.href = `/admin/modules/locations/seo/?operation=list_urls&locationId=${this.location.id}&locationType=${this.location.type}`;\n    },\n    editArticle() {\n      if (this.article)\n        location.href = `/admin/modules/text/editarticle/id/${this.article}`;\n      else {\n        alert(\"На странице нет статьи\");\n      }\n    },\n    setTranslationMode() {\n      // VueCookies.set(\"admin_enableTranslationMode\", !this.isTranslationMode, \"30d\")\n    },\n    searchAppUrls() {\n      const param = Number(!this.isSearchAppUrls);\n      const { host } = window.location;\n      let newHost = host;\n\n      newHost = newHost.split(\".\");\n\n      if (newHost.length >= 3) {\n        newHost = newHost.slice(1);\n      }\n\n      newHost = newHost.join(\".\");\n      VueCookies.set(\"admin_disableSearchAppMode\", param, \"30d\", \"/\", newHost);\n      location.reload();\n    },\n    showSearchGeocoderMap() {\n      this.isSearchGeocoderMap = !this.isSearchGeocoderMap;\n      this.setLocalStoragAdmin();\n    },\n    disabledNotifications(e) {\n      if (e?.target?.tagName !== \"INPUT\")\n        this.isDisabledNotifications = !this.isDisabledNotifications;\n    },\n    setPermission(val) {\n      if (val === true) {\n        this.addPermission(\"disabled_notifications\");\n      } else if (val === false) {\n        this.removePermission(\"disabled_notifications\");\n      }\n    },\n    adminGetDopDatas() {\n      HTTP.post(\"json/objects/adminGetDopDatas/\")\n        .then((response) => {\n          if (response.data.data.owner_data) {\n            this.owner = response.data.data;\n          }\n        })\n        .catch((error) => {\n          console.log(\"Ajax error:\", error);\n        });\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.account {\n  color: white;\n  .language-switch {\n    &.mobile {\n      padding: 0 9px;\n    }\n  }\n  .lang {\n    padding: 0 7px;\n  }\n  &-user {\n    display: flex;\n    align-items: center;\n    // white-space: nowrap;\n    overflow: hidden;\n\n    &.mobile {\n      padding-left: 20px;\n    }\n\n    &-avatar {\n      display: inline-block;\n      height: 32px;\n      width: 32px;\n      min-width: 32px;\n      border-radius: 50%;\n      overflow: hidden;\n      img {\n        width: 100%;\n      }\n    }\n    &-name {\n      line-height: 1.2;\n      padding-left: 8px;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n      max-width: 65px;\n      @media all and (min-width: 1280px) {\n        max-width: 60px;\n      }\n      @media all and (min-width: 1366px) {\n        max-width: 230px;\n      }\n      @media all and (max-width: 768px) {\n        max-width: 100%;\n      }\n    }\n  }\n}\n.modal-wrapper {\n  font-size: 15px;\n  padding: 18px 20px;\n}\n::v-deep .base-modal-body {\n  min-height: 100%;\n}\n</style>\n","const img = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAYEBAQFBAYFBQYJBgUGCQsIBgYICwwKCgsKCgwQDAwMDAwMEAwODxAPDgwTExQUExMcGxsbHCAgICAgICAgICD/2wBDAQcHBw0MDRgQEBgaFREVGiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICD/wgARCABQAFADAREAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAMEBQIBBv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAfugAAAAADosgrHIAANMnBAZgAANYkBGZIAANoAGKAADVJQQGYAACwaQMkjAABOaYMg4AB6Xy0AeFQogAsFwlBEUyuD/xAAgEAACAgICAgMAAAAAAAAAAAABAgADECAREhQyBDBA/9oACAEBAAEFAvtVS08czxzGUrvSOExcOU2r9MWen4Km7Li1+o2pbhsO/ZtqVJbDKVOgiUAaEAxvj6pcywXIZyJyIbkEe5mz/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAwEBPwFJ/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAgEBPwFJ/8QAIRAAAQMDBAMAAAAAAAAAAAAAAQAQICExUREiMHFAQWH/2gAIAQEABj8C5aK6uqz7fqYc+J9M9MvrMH0HrLdWO2OQrvdYD//EACAQAQABAwQDAQAAAAAAAAAAAAERABAgITFBUWFxoTD/2gAIAQEAAT8h/VKBLRzgp4w0lAhzEe9TcV71Gfx3+PMIIukkZwq77N9v8Gb9a9upxnDTyXjg9OIlg5rVtTrjACEkonVR4aSGHjDRGjqnuhNmaQ3YrunqtELn/9oADAMBAAIAAwAAABAAAAAAACQAAASSAAACQAAACQAAACSAAASSAAASQAAACSSAACQAD//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8QSf/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8QSf/EACUQAQAABAUEAwEAAAAAAAAAAAEAESExECBBUXFhgZGhsdHwMP/aAAgBAQABPxD+v5ON4YVzoT+oIVzqS+4/JxtnVTcPj1iqu4fPrP6vH3ecAFAoGIIqjRM6218pipGuOjrn1xpd9HFhZYdjOKaqbpppirlPA8ZVO8pE6RIE/J3gAJBILGMgJNGJ1NO15hmuUOuQg45ucMb27U+7RYDgxYDkxvbtX7tBDxxd5cf/2Q==\";\n  export default img;","const img = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAYEBAQFBAYFBQYJBgUGCQsIBgYICwwKCgsKCgwQDAwMDAwMEAwODxAPDgwTExQUExMcGxsbHCAgICAgICAgICD/2wBDAQcHBw0MDRgQEBgaFREVGiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICD/wgARCABQAFADAREAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAMEBQECBv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAfugAAAAAATnCEAAA0SyCoUAAAbQBwxgACQ1gAZB4ABeLgAKJTAPRrnQAeTHAB7JTROlArngA6aROACsZwALBcJQRFIgB//EACAQAAIBBAIDAQAAAAAAAAAAAAECAwAQESAEMBITITH/2gAIAQEAAQUC7hDJRicdEKYFpo/nSfzWMZfRxh9OOuvIX7dRkgYGjL5DQOwpfc13Eq15voBkrCg1eEHVJmFCVDWayKMyCnmZr//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8BSf/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8BSf/EACAQAAAFBQADAAAAAAAAAAAAAAABESAhEBIwMVFAQYH/2gAIAQEABj8Cz6wXezrcX3wCabbm3MQI1G7EV2pDbEHWxBtmSG69HCr/AP/EACAQAAEDBAMBAQAAAAAAAAAAAAEAESAhMVFhEEFxMMH/2gAIAQEAAT8h+xXTerPPPgN1o85FlCQXQDBuQchmTJ3Fo7jdLwRoMqGDC5n7QABYREUu42IgiuC2UKAPXfFafkRMGJtBrsdXmrca/wDkjRf0LHPUANiiC5Zd07SpA8Of/9oADAMBAAIAAwAAABAAAAAAAAAAAACQAACCSAAASSQAASSAACSSAAASSQAQSSAACSQQD//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8QSf/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8QSf/EACMQAQABAgUFAQEAAAAAAAAAAAERADEgIVFxgRBBYZGh4TD/2gAIAQEAAT8Q/qCsBK2KBn3IoeWDl8v/AAFD3vD9dWIItNTXEJBrQALGR1FmwR5pIYw82nYzcPhlRs5mGA779XDGK3sFsBvQKFUEMBAYbFwydHs0kMaYAIO0lim+WsHuiiUgh1eekuNFdtyp8KuTgcBEoltUIjz2esJDtPdSIo3MBJzVnNa+6ZfyrEOzVgNzFfJmf7agXaV3d6//2Q==\";\n  export default img;","<i18n>\n{\n  \"en\": {\n    \"faq\": \"F.A.Q.\",\n    \"help\": \"Help\",\n    \"support\": \"Support\",\n    \"text_messages_from_administration\":\"Support messages\"\n  },\n  \"ru\": {\n    \"faq\": \"Вопросы и ответы\",\n    \"help\": \"Помощь\",\n    \"support\": \"Служба поддержки\",\n    \"text_messages_from_administration\":\"Сообщения от службы поддержки\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"help\">\n    <BaseNavList direction=\"left\">\n      <!-- slot -->\n      <a\n        slot=\"title\"\n        :href=\"`${this.baseLink}/help/${\n          isAuth && data.user_is_owner > 0 ? 'arendodateli' : 'gosti'\n        }`\"\n        target=\"_blank\"\n        class=\"no-link sc-nav-list-block\"\n      >\n        <span class=\"help-icon sc-header-icon-tmp sc-header-icon-help\">\n          <span v-if=\"adminMessages\" class=\"badge\">\n            {{ data.messages.modules.messages.new }}\n          </span>\n        </span>\n        <span class=\"title-btn\">{{ $t(\"help\") }}</span>\n      </a>\n      <!-- slot -->\n\n      <div>\n        <a\n          :href=\"`${this.baseLink}/help/${\n            isAuth && data.user_is_owner > 0 ? 'arendodateli' : 'gosti'\n          }`\"\n          target=\"_blank\"\n          class=\"no-link\"\n        >\n          {{ $t(\"faq\") }}\n        </a>\n      </div>\n      <div>\n        <a\n          :href=\"`${this.baseLink}/about/feedback`\"\n          target=\"_blank\"\n          class=\"no-link\"\n        >\n          {{ $t(\"support\") }}\n        </a>\n      </div>\n      <div v-if=\"isAuth\">\n        <a\n          :href=\"`${this.baseLink}/cabinet/notices?filter[tp]=admin`\"\n          target=\"_blank\"\n          class=\"no-link count\"\n        >\n          <span>{{ $t(\"text_messages_from_administration\") }}</span>\n          <span v-if=\"adminMessages\" class=\"val\">\n            {{ data.messages.modules.messages.new }}\n          </span>\n        </a>\n      </div>\n    </BaseNavList>\n  </div>\n</template>\n\n<script>\nimport BaseNavList from \"../Base/BaseNavList.vue\";\nimport { mapState, mapGetters } from \"vuex\";\n\nexport default {\n  components: {\n    BaseNavList,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n    isAuth: {\n      type: Boolean,\n    },\n  },\n  computed: {\n    ...mapState(\"user\", [\"baseLink\", \"app\"]),\n    adminMessages() {\n      return this.data?.messages?.modules?.messages?.new > 0;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.help {\n  color: white;\n  &-icon {\n    position: relative;\n    .badge {\n      background: #f51449;\n      font-size: 13px;\n      line-height: 1;\n      color: #fff;\n      border-radius: 9px;\n      padding: 2px 5px 3px;\n      min-width: 18px;\n      height: 18px;\n      overflow: hidden;\n      text-align: center;\n      vertical-align: middle;\n      display: inline-block;\n      text-indent: 0;\n      position: absolute;\n      top: -7px;\n      right: -10px;\n    }\n  }\n  .icon-wps-question {\n    font-size: 20px;\n    color: #a6a6a6;\n    margin-right: 6px;\n  }\n}\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"auth\": \"Вход\",\n    \"valuePlaceholder\": \"Введите e-mail или телефон\",\n    \"passwordPlaceholder\": \"Введите пароль\",\n    \"persistentAuth\": \"запомнить меня\",\n    \"forgotPassword\": \"Забыли пароль?\",\n    \"buttonAuth\": \"Войти\",\n    \"questionAuth\": \"Уже зарегистрированы?\",\n    \"viaPhoneOrMail\": \"С помощью телефона или почты\",\n    \"socialTitle\": \"через социальную сеть\"\n  },\n  \"en\": {\n    \"auth\": \"Log in\",\n    \"valuePlaceholder\": \"phone number or e-mail address\",\n    \"passwordPlaceholder\": \"enter your password\",\n    \"persistentAuth\": \"remember me\",\n    \"forgotPassword\": \"lost your password?\",\n    \"buttonAuth\": \"Login\",\n    \"questionAuth\": \"Already have an account?\",\n    \"viaPhoneOrMail\": \"via phone or e-mail\",\n    \"socialTitle\": \"with your social account\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"auth-header-wrapp\">\n    <div class=\"auth-header-title-wrapp\">\n      <h5 class=\"auth-header-title\">{{ $t(\"auth\") }}</h5>\n      <span class=\"close\" @click=\"$emit('close')\">&times;</span>\n    </div>\n    <div class=\"social-login-wrapp\">\n      <div class=\"social-login space-between\">\n        <b-button\n          type=\"button\"\n          class=\"btn btn-vk\"\n          @click=\"loginSocial('vk')\"\n        >\n          <span class=\"name-btn\">С помощью Вконтакте</span>\n        </b-button>\n        <b-button\n          type=\"button\"\n          class=\"btn btn-mailru\"\n          @click=\"loginSocial('ml')\"\n        >\n          <span class=\"name-btn\">С помощью mail.ru</span>\n        </b-button>\n        <!-- <div class=\"fb\" @click=\"loginSocial('fb')\"></div> -->\n      </div>\n      <div class=\"social-login bot\">\n        <div class=\"icon yandex\" @click=\"loginSocial('ya')\"></div>\n        <div class=\"icon google\" @click=\"loginSocial('gg')\"></div>\n        <div class=\"icon ok\" @click=\"loginSocial('ok')\"></div>\n      </div>\n    </div>\n    <div class=\"field-text\">\n      {{ $t(\"viaPhoneOrMail\") }}\n    </div>\n    <Input \n      v-model.trim=\"val\"\n      class=\"auth-header-form-input\"\n      :class=\"{\n      'is-invalid': valid.value === false\n      }\"\n      :placeholder=\"$t('valuePlaceholder')\"\n      keyup=\"enter\"\n      @enter=\"$emit('onAuth')\"\n    />\n    <div class=\"field-password\">\n      <Input \n        v-model.trim=\"pass\"\n        class=\"auth-header-form-input\"\n        :class=\"{\n          'is-invalid': valid.password === false,\n          'mbottom-4': textError.length\n        }\"\n        :placeholder=\"$t('passwordPlaceholder')\"\n        :type=\"togglePassword ? 'password' : 'text'\"\n        keyup=\"enter\"\n        @enter=\"$emit('onAuth')\"\n      />\n      <div v-if=\"textError.length\" class=\"field-error\">\n      <div v-for=\"(item, index) in textError\" :key=\"index\">\n        {{ item }}\n      </div>\n      </div>\n      <div\n      class=\"btn-show-hide-password\"\n      :class=\"{ show: togglePassword }\"\n      @click=\"$emit('changeTogglePass', !togglePassword)\"\n      >\n      <span class=\"icon\"></span>\n      </div>\n    </div>\n    <div class=\"forgot-password\">\n      <b-form-checkbox v-model=\"persis\" value=\"1\">\n      {{ $t(\"persistentAuth\") }}\n      </b-form-checkbox>\n      <a href=\"#\" @click.prevent=\"$emit('changeState', 'forgot')\">{{ $t(\"forgotPassword\") }}</a>\n    </div>\n    <button\n      type=\"button\"\n      class=\"btn btn-success w-100\"\n      :disabled=\"!val || !pass\"\n      @click=\"$emit('onAuth')\"\n    >{{ $t(\"buttonAuth\") }}</button>\n  </div>\n</template>\n\n<script>\nimport Input from \"@sutochno/input\";\n\nexport default {\n  name: 'BaseFormAuthAuth',\n  props: {\n    password: {\n      type: String,\n      required: true\n    },\n    value: {\n      type: String,\n      required: true\n    },\n    persistent: {\n      type: [Number, Boolean, String],\n      required: true\n    },\n    togglePassword: {\n      type: Boolean,\n      required: true\n    },\n    valid: {\n      type: Object,\n      required: true\n    },\n    textError: {\n      required: true\n    }\n  },\n  data () {\n    return {\n      val: this.value,\n      pass: this.password,\n      persis: this.persistent\n    }\n  },\n  components: {\n    Input\n  },\n  methods: {\n    loginSocial(type) {\n      const url = `/auth.html?type=${type}&js`;\n      const popupWindowOpts = {\n        width: 640,\n        height: 480,\n      };\n      const centerPopup = {\n        left: (window.innerWidth - popupWindowOpts.width) / 2,\n        top: (window.innerHeight - popupWindowOpts.height) / 2,\n      };\n\n      window.open(\n          url,\n          \"soc_auth_popup_window\",\n          `width=${popupWindowOpts.width},\n      height=${popupWindowOpts.height},\n      left=${centerPopup.left},\n      top=${centerPopup.top},\n      resizable=yes,scrollbars=no,toolbar=no,menubar=no,location=no,directories=no,status=yes`\n      );\n    },\n  },\n  watch: {\n    pass (pass) {\n      this.$emit('changePassword', pass)\n    },\n    val (value) {\n      this.$emit('changeValue', value)\n    },\n    persis (persistent) {\n      this.$emit('changePersistent', persistent)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .auth-header-wrapp {\n    .auth-header-title-wrapp {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n    .social-login-wrapp {\n      margin-top: 20px;\n      margin-bottom: 30px;\n      .social-login {\n        display: flex;\n        align-items: center;\n        padding: 6px 0 0;\n        margin: 0 auto 10px;\n        width: 100%;\n        .btn-mailru,\n        .btn-vk {\n          width: 100%;\n          padding: 13px 26px 12px 27px;\n          border-radius: 3px;\n        }\n        .btn-vk {\n          border: 0;\n          margin-right: 10px;\n          text-align: left;\n          background-color: #4d77a1;\n          outline: none;\n          position: relative;\n          &:before {\n            content: '';\n            display: block;\n            cursor: pointer;\n            width: 20px;\n            height: 12px;\n            background: url(\"./../../assets/icon/vk-1@3x.png\") 0 0 no-repeat;\n            background-size: contain;\n            transform: translate(0, -50%);\n            position: absolute;\n            top: 50%;\n            left: 27px;\n          }\n          &:hover {\n            background-color: rgba(77, 119, 161, .9);\n          }\n          .name-btn {\n            margin-left: 27px;\n            color: #fff;\n            font-size: 14px;\n            font-weight: normal;\n            font-stretch: normal;\n            font-style: normal;\n            line-height: normal;\n            letter-spacing: normal;\n          }\n        }\n        .btn-mailru {\n          border: 0;\n          text-align: left;\n          background-color: #0059fd;\n          outline: none;\n          position: relative;\n          &:before {\n            content: '';\n            display: block;\n            cursor: pointer;\n            width: 16px;\n            height: 16px;\n            background: url(\"./../../assets/icon/mailru@3x.png\") 0 0 no-repeat;\n            background-size: contain;\n            transform: translate(0, -50%);\n            position: absolute;\n            top: 50%;\n            left: 27px;\n          }\n          &:hover {\n            background-color: rgba(0, 89, 253, .85);\n          }\n          .name-btn {\n            margin-left: 27px;\n            color: #fff;\n            font-size: 14px;\n            font-weight: normal;\n            font-stretch: normal;\n            font-style: normal;\n            line-height: normal;\n            letter-spacing: normal;\n          }\n        }\n        &.space-between {\n          justify-content: space-between;\n        }\n        &.bot {\n          margin-bottom: 6px;\n          .icon {\n            width: 42px;\n            height: 42px;\n            margin-right: 10px;\n            padding: 15px;\n            background-color: #f6f6f6;\n            border-radius: 50%;\n            cursor: pointer;\n            position: relative;\n            &:last-child {\n              margin-right: 0;\n            }\n            &:before {\n              content: '';\n              display: block;\n            }\n          }\n        }\n        .fb {\n          cursor: pointer;\n          width: 135px;\n          height: 40px;\n          background: url(\"./../../assets/spr_login_vk_fb_2x.png\") 100% 0 no-repeat;\n          background-size: 270px;\n        }\n        .ok:before {\n          width: 13px;\n          height: 20px;\n          background: url(\"./../../assets/icon/ok@3x.png\") 0 0 no-repeat;\n          background-size: contain;\n          transform: translate(-50%, -50%);\n          position: absolute;\n          top: 50%;\n          left: 50%;\n        }\n        .yandex:before {\n          width: 10px;\n          height: 20px;\n          background: url(\"./../../assets/icon/yandex@3x.png\") 0 0 no-repeat;\n          background-size: contain;\n          transform: translate(-50%, -50%);\n          position: absolute;\n          top: 50%;\n          left: 50%;\n        }\n        .google:before {\n          width: 16px;\n          height: 16px;\n          background: url(\"./../../assets/icon/google@3x.png\") 0 0 no-repeat;\n          background-size: contain;\n          transform: translate(-50%, -50%);\n          position: absolute;\n          top: 50%;\n          left: 50%;\n        }\n      }\n    }\n    .mobile & {\n      .close {\n        display: none;\n      }\n      .social-login {\n        &.space-between {\n          flex-direction: column;\n          .btn {\n            text-align: center;\n            &:before {\n              display: inline-block;\n              transform: unset;\n              position: unset;\n            }\n            .name-btn {\n              margin-left: 10px;\n            }\n          }\n          .btn-vk {\n            margin: 0 0 10px 0;\n          }\n        }\n      }\n    }\n  }\n</style>","<i18n>\n{\n  \"ru\": {\n    \"forgot\": \"Напомнить пароль\",\n    \"forgotAbout\": \"Введите адрес электронной почты или номер телефона, указанный при регистрации.\",\n    \"forgotButton\": \"Восстановить пароль\",\n    \"forgotSend\": \"Сейчас вам придет смс на номер {tel}. Используйте цифры как пароль\",\n    \"forgotSendEmail\": \"На электронную почту {email} был выслан пароль для входа на сайт\",\n    \"telMailPlaceholder\": \"Введите e-mail или телефон\"\n  },\n  \"en\": {\n    \"forgot\": \"Reset password\",\n    \"forgotAbout\": \"Enter your e-mail address or phone number provided during registration.\",\n    \"forgotButton\": \"Restore password\",\n    \"forgotSend\": \"Now you will receive an SMS to the {tel} number. Use numbers as password\",\n    \"forgotSendEmail\": \"A password has been sent to the email address {email} to enter the site\",\n    \"telMailPlaceholder\": \"Phone number or e-mail address\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"wrapp\">\n    <div class=\"auth-header-title-wrapp\">\n      <h5 class=\"auth-header-title\">\n        <span class=\"back-login\" @click=\"$emit('backLogin')\"></span>\n        {{ $t(\"forgot\") }}\n      </h5>\n      <span class=\"close\" @click=\"$emit('close')\">&times;</span>\n    </div>\n    <div class=\"field-text\">\n      {{ $t(\"forgotAbout\") }}\n    </div>\n    <Input \n      v-model.trim=\"val\"\n      class=\"auth-header-form-input\"\n      :class=\"{\n        'is-invalid': valid.value === false,\n        'mbottom-4': textError.length\n      }\"\n      :placeholder=\"$t('telMailPlaceholder')\"\n      keyup=\"enter\"\n      @enter=\"$emit('onForgot')\"\n    />\n    <div v-if=\"textError.length\" class=\"field-error\">\n      <div v-for=\"(item, index) in textError\" :key=\"index\">\n        {{ item }}\n      </div>\n    </div>\n    <button\n      type=\"button\"\n      class=\"btn btn-success w-100\"\n      :disabled=\"!value\"\n      @click=\"$emit('onForgot')\"\n    >{{ $t(\"forgotButton\") }}</button\n    >\n  </div>\n</template>\n\n<script>\nimport Input from \"@sutochno/input\";\n\nexport default {\n  props: {\n    value: {\n      type: String,\n      required: true\n    },\n    valid: {\n      type: Object,\n      required: true\n    },\n    textError: {\n      required: true\n    }\n  },\n  data () {\n    return {\n      val: this.value\n    }\n  },\n  components: {\n    Input\n  },\n  watch: {\n    val (value) {\n      this.$emit('changeValue', value)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .wrapp {\n    .auth-header-title-wrapp {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-bottom: 20px;\n    }\n    .auth-header-form-input {\n      margin-bottom: 20px!important;\n    }\n  }\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"forgotPassword\": \"Забыли пароль?\",\n    \"passwordPlaceholder\": \"Введите пароль\",\n    \"iAgreeTo\": \"Я согласен на\",\n    \"personalDataProcessing\": \"обработку персональных данных\",\n    \"userAgreement\": \"пользовательского соглашения\",\n    \"loginToSite\":\"Войти на сайт\",\n    \"placeholderPhone\":\"Введите номер телефона\",\n    \"thisPhoneNumberIsRegistered\":\"Этот номер телефона уже зарегистрирован в системе. Для работы с сайтом введите пароль\",\n    \"passwordWasSentToPhone\":\"На номер телефона {phone} был отправлен пароль\",\n    \"telMailPlaceholder\": \"Введите e-mail или телефон\"\n  },\n  \"en\": {\n    \"forgotPassword\": \"lost your password?\",\n    \"passwordPlaceholder\": \"enter your password\",\n    \"iAgreeTo\": \"I agree to \",\n    \"personalDataProcessing\": \"personal data processing\",\n    \"userAgreement\": \"the Terms of Use\",\n    \"loginToSite\":\"Login to the site\",\n    \"placeholderPhone\":\"enter phone number\",\n    \"thisPhoneNumberIsRegistered\":\"This phone number is already registered in the system. Enter your password to use the site\",\n    \"passwordWasSentToPhone\":\"A password has been sent to the phone number {phone}\",\n    \"telMailPlaceholder\": \"Phone number or e-mail address\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"wrapp-reg-social\">\n    <div class=\"auth-header-title-wrapp\">\n      <h5 class=\"auth-header-title\">\n        {{ `${dataSocialNetwork.data.translation.soc_your_enter_from} ${dataSocialNetwork.data.translation[dataSocialNetwork.data.enter_from]}` }}\n      </h5>\n      <span class=\"close\" @click=\"$emit('close')\">&times;</span>\n    </div>\n    <template v-if=\"viewSocial === 'enter-phone'\">\n      <div class=\"field-text\">\n        {{ dataSocialNetwork.data.translation.soc_for_continue_work_with_site }}\n      </div>\n      <div class=\"mb-15\">\n        <Input\n          v-model.trim=\"phon\"\n          :placeholder=\"$t('placeholderPhone')\"\n        />\n        <div v-if=\"errorSocial && errorSocial.length\" class=\"field-error social\">\n          <div v-for=\"(item, index) in errorSocial\" :key=\"index\">\n            {{ item }}\n          </div>\n        </div>\n      </div>\n      <button\n        type=\"button\"\n        class=\"btn btn-success w-100 mb-0\"\n        @click=\"$emit('onRegistrationSocial')\"\n      >\n        <span v-html=\"dataSocialNetwork.data.translation.soc_button_first\"></span>\n      </button>\n    </template>\n    <template v-else-if=\"viewSocial === 'number-registered'\">\n      <div class=\"field-text\">\n        {{ $t(\"thisPhoneNumberIsRegistered\") }}\n      </div>\n      <Input \n        v-model.trim=\"code\"\n        @enter=\"$emit('onLoginSite', 'give me password please')\"\n        class=\"code-social auth-header-form-input\"\n        :class=\"{\n          'is-invalid': valid.password === false,\n          'mbottom-4': textError.length\n        }\"\n        :placeholder=\"$t('passwordPlaceholder')\"\n        :type=\"togglePassword ? 'password' : 'text'\"\n        keyup=\"enter\"\n      />\n      <div v-if=\"errorSocial && errorSocial.length\" class=\"field-error social pdt-2 mb-0\">\n        <div v-for=\"(item, index) in errorSocial\" :key=\"index\">\n          {{ item }}\n        </div>\n      </div>\n      <div\n        class=\"btn-show-hide-password\"\n        :class=\"{ show: togglePassword }\"\n        @click=\"$emit('changeTogglePass', !togglePassword)\"\n      >\n        <span class=\"icon\"></span>\n      </div>\n      <div v-if=\"!forgotSocial\" class=\"forgot-password-link\">\n        <span @click=\"$emit('forgotPasswordSocial')\">{{ $t(\"forgotPassword\") }}</span>\n      </div>\n      <div v-else class=\"field-text pt-10\">\n        {{ forgotSocial }}\n      </div>\n      <button\n        type=\"button\"\n        class=\"btn btn-success w-100 mb-0\"\n        @click=\"$emit('onLoginSite', 'give me password please')\"\n      >\n        {{ $t(\"loginToSite\") }}\n      </button>\n    </template>\n    <template v-else-if=\"viewSocial === 'registered'\">\n      <div class=\"field-text\">\n        {{ $t(\"passwordWasSentToPhone\", { phone }) }}\n      </div>\n      <Input \n        v-model.trim=\"code\"\n        @enter=\"$emit('onLoginSite', 'give me password')\"\n        class=\"auth-header-form-input\"\n        :class=\"{\n          'is-invalid': valid.password === false,\n          'mbottom-4': textError.length\n        }\"\n        :placeholder=\"$t('passwordPlaceholder')\"\n        :type=\"togglePassword ? 'password' : 'text'\"\n        keyup=\"enter\"\n      />\n      <div v-if=\"errorSocial && errorSocial.length\" class=\"field-error social pt-0\">\n        <div v-for=\"(item, index) in errorSocial\" :key=\"index\">\n          {{ item }}\n        </div>\n      </div>\n      <div\n        class=\"btn-show-hide-password\"\n        :class=\"{ show: togglePassword }\"\n        @click=\"$emit('changeTogglePass', !togglePassword)\"\n      >\n        <span class=\"icon\"></span>\n      </div>\n      <b-form-checkbox v-model=\"term\" value=\"1\" v-if=\"actionsAuthSocial === 'give me terms'\">\n        {{ $t(\"iAgreeTo\") }}\n        <a href=\"//sutochno.ru/rules/agreement\">{{\n          $t(\"personalDataProcessing\")\n          }}</a>\n        {{ $t(\"andAcceptTerms\") }}\n        <a href=\"//sutochno.ru/rules\">{{ $t(\"userAgreement\") }}</a>\n      </b-form-checkbox>\n      <button\n        type=\"button\"\n        class=\"btn btn-success w-100\"\n        @click=\"$emit('onLoginSite', 'give me password')\"\n      >\n        {{ $t(\"loginToSite\") }}\n      </button>\n    </template>\n  </div>\n</template>\n\n<script>\n// import inputPhones from \"@sutochno/inputPhone\";\nimport Input from \"@sutochno/input\";\n\nexport default {\n  props: {\n    phone: {\n      type: [String, Number],\n      required: true\n    },\n    codeSocial: {\n      type: String,\n      required: true\n    },\n    terms: {\n      type: [Number, Boolean, String],\n      required: true\n    },\n    actionsAuthSocial: {\n      type: String,\n      required: true\n    },\n    forgotSocial: {\n      type: String,\n      required: true\n    },\n    dataSocialNetwork: {\n      type: Object,\n      required: true\n    },\n    viewSocial: {\n      required: true\n    },\n    togglePassword: {\n      type: Boolean,\n      required: true\n    },\n    valid: {\n      type: Object,\n      required: true\n    },\n    errorSocial: {\n      required: true\n    },\n    textError: {\n      required: true\n    }\n  },\n  data () {\n    return {\n      code: this.codeSocial,\n      phon: this.phone,\n      term: this.terms\n    }\n  },\n  components: {\n    Input,\n    // inputPhones\n  },\n  mounted () {\n    console.log(this.viewSocial)\n  },\n  watch: {\n    phon (phone) {\n      this.$emit('changePhone', phone)\n    },\n    code (code) {\n      this.$emit('changeCodeSocial', code)\n    },\n    term (terms) {\n      this.$emit('changeTerms', terms)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .wrapp-reg-social {\n    .auth-header-title-wrapp {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-bottom: 20px;\n    }\n  }\n</style>","<i18n>\n{\n  \"ru\": {\n    \"registration\": \"Регистрация\",\n    \"namePlaceholder\": \"Введите имя\",\n    \"placeholderPhone\":\"Введите номер телефона\",\n    \"passwordWillPhoneNumber\": \"на номер телефона будет отправлен пароль\",\n    \"iAgreeTo\": \"Я согласен на\",\n    \"personalDataProcessing\": \"обработку персональных данных\",\n    \"andAcceptTerms\": \"и принимаю условия\",\n    \"userAgreement\": \"пользовательского соглашения\",\n    \"buttonRegistration\": \"Зарегистрироваться\"\n  },\n  \"en\": {\n    \"registration\": \"Join\",\n    \"namePlaceholder\": \"enter a name\",\n    \"placeholderPhone\":\"enter phone number\",\n    \"passwordWillPhoneNumber\": \"a phone number will be dialed\",\n    \"iAgreeTo\": \"I agree to \",\n    \"personalDataProcessing\": \"personal data processing\",\n    \"andAcceptTerms\": \" and accept the conditions\",\n    \"userAgreement\": \"the Terms of Use\",\n    \"buttonRegistration\": \"Sign up\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"registration-wrapp\">\n    <div class=\"auth-header-title-wrapp\">\n      <h5 class=\"auth-header-title\">{{ $t(\"registration\") }}</h5>\n      <span class=\"close\" @click=\"$emit('close')\">&times;</span>\n    </div>\n    \n    <Input \n      v-model.trim=\"nameValue\"\n      :placeholder=\"$t('namePlaceholder')\"\n      class=\"auth-header-form-input\"\n      :class=\"{\n        'is-invalid': valid.name\n      }\"\n      keyup=\"enter\"\n      @enter=\"$emit('onRegistration')\"\n    />\n    <Input\n      v-model.trim=\"phone\"\n      :is-valid=\"false\"\n      class=\"input-phone\"\n      :class=\"{ 'error' : textError.length }\"\n      :placeholder=\"$t('placeholderPhone')\"\n    />\n    <div v-if=\"textError.length\" class=\"field-error\">\n      <div v-for=\"(item, index) in textError\" :key=\"index\">\n        {{ item }}\n      </div>\n    </div>\n    <div class=\"field-hint\">\n      {{ $t(\"passwordWillPhoneNumber\") }}\n    </div>\n    <b-form-checkbox v-model=\"termsValue\" value=\"1\">\n      <span class=\"agree-to-wrapp\">\n        {{ $t(\"iAgreeTo\") }}\n        <a href=\"//sutochno.ru/rules/agreement\">{{ $t(\"personalDataProcessing\") }}</a>\n        {{ $t(\"andAcceptTerms\") }}\n        <a href=\"//sutochno.ru/rules\">{{ $t(\"userAgreement\") }}</a>\n      </span>\n    </b-form-checkbox>\n    <button\n      type=\"button\"\n      class=\"btn btn-success w-100\"\n      @click=\"$emit('onRegistration')\"\n    >{{ $t(\"buttonRegistration\") }}</button>\n  </div>\n</template>\n\n<script>\n// import inputPhones from \"@sutochno/inputPhone\";\nimport Input from \"@sutochno/input\";\n\nexport default {\n  props: {\n    name: {\n      type: String,\n      required: true\n    },\n    value: {\n      type: String,\n      required: true\n    },\n    terms: {\n      type: [Number, Boolean, String],\n      required: true\n    },\n    valid: {\n      type: Object,\n      required: true\n    },\n    textError: {\n      required: true\n    }\n  },\n  data () {\n    return {\n      nameValue: this.name,\n      phone: this.value,\n      termsValue: this.terms\n    }\n  },\n  components: {\n    // inputPhones,\n    Input\n  },\n  watch: {\n    nameValue (name) {\n      this.$emit('changeName', name)\n    },\n    phone (value) {\n      this.$emit('changeValue', value)\n    },\n    termsValue (terms) {\n      this.$emit('changeTerms', terms)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .registration-wrapp {\n    .auth-header-title-wrapp {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-bottom: 20px;\n    }\n    .input-phone {\n      margin-bottom: 10px;\n    }\n    .field-hint {\n      margin-bottom: 20px;\n      color: #000;\n      font-weight: 500;\n      font-size: 14px;\n    }\n    .agree-to-wrapp {\n      font-size: 14px;\n      font-weight: 500;\n    }\n  }\n</style>","<i18n>\n{\n  \"ru\": {\n    \"registration\": \"Регистрация\",\n    \"forgot\": \"Напомнить пароль\",\n    \"forgotSend\": \"Сейчас вам придет смс на номер {tel}. Используйте цифры как пароль\",\n    \"passwordPlaceholder\": \"Введите пароль\"\n  },\n  \"en\": {\n    \"registration\": \"Join\",\n    \"forgot\": \"Reset password\",\n    \"forgotSend\": \"Now you will receive an SMS to the {tel} number. Use numbers as password\",\n    \"passwordPlaceholder\": \"enter your password\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"auth-header-registration-last\">\n    <div class=\"auth-header-title-wrapp\">\n      <h5 class=\"auth-header-header-title\">\n        <span class=\"back-login\" @click=\"$emit(lastForm)\"></span>\n        <template v-if=\"forgotStatus === 'registration'\">\n          {{ $t(\"registration\") }}\n        </template>\n        <template v-else>\n          {{ $t(\"forgot\") }}\n        </template>\n      </h5>\n      <span class=\"close\" @click=\"$emit('close')\">&times;</span>\n    </div>\n    <div class=\"text-forgot\">\n      <template v-if=\"forgotStatus === 'registration'\">\n        {{ $t('forgotSend', { tel: value }) }}\n      </template>\n      <template v-else>\n        <div v-html=\"textForgot\"></div>\n      </template>\n    </div>\n    <div class=\"field-password\">\n      <Input \n        v-model.trim=\"pass\"\n        :placeholder=\"$t('passwordPlaceholder')\"\n        :type=\"togglePassword ? 'password' : 'text'\"\n        class=\"auth-header-form-input\"\n        :class=\"{\n          'is-invalid': valid.password,\n          'mbottom-4': textError.length\n        }\"\n        keyup=\"enter\"\n        @enter=\"$emit('onAuthLast')\"\n      />\n      <div v-if=\"textError.length\" class=\"field-error\">\n        <div v-for=\"(item, index) in textError\" :key=\"index\">\n          {{ item }}\n        </div>\n      </div>\n      <div\n        class=\"btn-show-hide-password\"\n        :class=\"{ show: togglePassword }\"\n        @click=\"$emit('changeTogglePass', !togglePassword)\"\n      >\n        <span class=\"icon\"></span>\n      </div>\n    </div>\n    <button\n      type=\"button\"\n      class=\"btn btn-success w-100\"\n      :disabled=\"!value || !password\"\n      @click=\"$emit('onAuthLast')\"\n    >Ok</button>\n  </div>\n</template>\n\n<script>\nimport Input from \"@sutochno/input\";\n\nexport default {\n  props: {\n    forgotStatus: {\n      type: String,\n      required: true\n    },\n    textForgot: {\n      type: String,\n      required: true\n    },\n    value: {\n      type: String,\n      required: true\n    },\n    password: {\n      type: String,\n      required: true\n    },\n    togglePassword: {\n      type: Boolean,\n      required: true\n    },\n    valid: {\n      type: Object,\n      required: true\n    },\n    textError: {\n      required: true\n    },\n    lastForm: {\n      type: String,\n      required: true\n    }\n  },\n  data () {\n    return {\n      pass: this.password\n    }\n  },\n  components: {\n    Input\n  },\n  watch: {\n    pass (pass) {\n      this.$emit('changePassword', pass)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .auth-header-registration-last {\n    .auth-header-title-wrapp {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-bottom: 20px;\n    }\n  }\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"userAgreementText\":\"Пользовательское соглашение\",\n    \"terms-error\":\"Чтобы зарегистрироваться на сайте, нужно принять условия\",\n    \"terms-error-link\":\"пользовательского соглашения\",\n    \"doNotAccept\":\"Не принимаю\",\n    \"iAccept\":\"Принимаю\"\n  },\n  \"en\": {\n    \"userAgreementText\":\"Terms of use\",\n    \"terms-error\":\"To register on the site, you must accept the conditions\",\n    \"terms-error-link\":\"user agreement\",\n    \"doNotAccept\":\"Do not accept\",\n    \"iAccept\":\"I accept\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"terms-of-use-wrapp\">\n    <div class=\"auth-header-title-wrapp\">\n      <h5 class=\"text-center auth-header-title\">{{ $t(\"userAgreementText\") }}</h5>\n      <span class=\"close\" @click=\"$emit('close')\">&times;</span>\n    </div>\n    {{ $t(\"terms-error\") }} <a href=\"//sutochno.ru/rules\">{{ $t(\"terms-error-link\") }}</a>\n    <div class=\"btn-footer text-center\">\n      <b-button type=\"button\" class=\"btn btn-white\" @click=\"$emit('changeState', 'registration')\">\n        {{ $t(\"doNotAccept\") }}\n      </b-button>\n      <button type=\"button\" class=\"btn btn-success\" @click=\"$emit('iAccept')\">\n        {{ $t(\"iAccept\") }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'BaseFormTermsOfUse',\n  props: {\n    state: {\n      type: String,\n      required: true\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .terms-of-use-wrapp {\n    .auth-header-title-wrapp {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n  }\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"enterPasswordTitle\":\"Введите пароль\",\n    \"youAlreadyRegistered\":\"Вы уже зарегистрированы в системе\",\n    \"passwordPlaceholder\": \"Введите пароль\",\n    \"persistentAuth\": \"запомнить меня\",\n    \"forgotPassword\": \"Забыли пароль?\"\n  },\n  \"en\": {\n    \"enterPasswordTitle\":\"Enter the password\",\n    \"youAlreadyRegistered\":\"You are already registered in the system\",\n    \"passwordPlaceholder\": \"enter your password\",\n    \"persistentAuth\": \"remember me\",\n    \"forgotPassword\": \"lost your password?\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"wrapp\">\n    <div class=\"auth-header-title-wrapp\">\n      <h5 class=\"auth-header-title\">\n        <span class=\"back-login\" @click.prevent=\"$emit('backLoginReg')\"></span>\n        {{ $t(\"enterPasswordTitle\") }}\n      </h5>\n      <span class=\"close\" @click=\"$emit('close')\">&times;</span>\n    </div>\n    <div class=\"text-forgot\">\n      {{ $t(\"youAlreadyRegistered\") }}\n    </div>\n    <div class=\"field-password\">\n        <Input \n          v-model.trim=\"pass\"\n          :placeholder=\"$t('passwordPlaceholder')\"\n          :type=\"togglePassword ? 'password' : 'text'\"\n          class=\"auth-header-form-input\"\n          :class=\"{\n            'is-invalid': valid.password,\n            'mbottom-4': textError.length\n          }\"\n          keyup=\"enter\"\n          @enter=\"$emit('onAuthLast')\"\n        />\n      <div\n        class=\"btn-show-hide-password\"\n        :class=\"{ show: togglePassword }\"\n        @click=\"$emit('changeTogglePass', togglePassword = !togglePassword)\"\n      >\n        <span class=\"icon\"></span>\n      </div>\n    </div>\n    <div v-if=\"textError.length\" class=\"field-error\">\n      <div v-for=\"(item, index) in textError\" :key=\"index\">\n        {{ item }}\n      </div>\n    </div>\n    <div class=\"forgot-password\">\n      <b-form-checkbox v-model=\"pers\" value=\"1\">\n        {{ $t(\"persistentAuth\") }}\n      </b-form-checkbox>\n      <a href=\"#\" @click.prevent=\"$emit('changeState', 'forgot')\">{{ $t(\"forgotPassword\") }}</a>\n    </div>\n    <button\n      type=\"button\"\n      class=\"btn btn-success w-100\"\n      :disabled=\"!password\"\n      @click=\"$emit('onAuthLast')\"\n    >Ok</button>\n  </div>\n</template>\n\n<script>\nimport Input from \"@sutochno/input\";\n\nexport default {\n  name: 'BaseFormAlreadyRegistered',\n  props: {\n    state: {\n      type: String,\n      required: true\n    },\n    togglePassword: {\n      type: Boolean,\n      required: true\n    },\n    password: {\n      type: String,\n      required: true\n    },\n    persistent: {\n      type: [Number, Boolean, String],\n      required: true\n    },\n    valid: {\n      type: Object,\n      required: true\n    },\n    textError: {\n      required: true\n    }\n  },\n  data () {\n    return {\n      pers: this.persistent,\n      pass: this.password\n    }\n  },\n  components: {\n    Input\n  },\n  watch: {\n    pass (password) {\n      this.$emit('changePassword', password)\n    },\n    pers (persistent) {\n      this.$emit('changePersistent', persistent)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .wrapp {\n    .auth-header-title-wrapp {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-bottom: 20px;\n    }\n  }\n</style>","const img = \"data:image/svg+xml,%3csvg fill='none' height='11' viewBox='0 0 15 11' width='15' xmlns='http://www.w3.org/2000/svg'%3e%3cpath clip-rule='evenodd' d='m1 4h1v-1h-1-1v1 6 1h1 10 1v-1-1h-1v1h-10z' fill='%23d1d1d1' fill-rule='evenodd'/%3e%3cg stroke='%23d1d1d1'%3e%3cpath d='m3.5.5h11v7h-11z'/%3e%3cpath d='m4 1.5h10'/%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","<i18n>\n{\n  \"ru\": {\n    \"auth\": \"Вход\",\n    \"questionRegistration\": \"Нет аккаунта?\",\n    \"registration\": \"Регистрация\",\n    \"questionAuth\": \"Уже зарегистрированы?\",\n    \"smsRegistration\": \"Пароль не пришел?\",\n    \"smsAgainRegistration\": \"Запросить повторно\",\n    \"youCanRequestNewPasswordVia\":\"Вы можете запросить новый пароль через\",\n    \"minutes\": \" |{n} минута |{n} минуты|{n} минут\",\n    \"seconds\": \" |{n} секунда |{n} секунды|{n} секунд\"\n  },\n  \"en\": {\n    \"auth\": \"Log in\",\n    \"questionRegistration\": \"No account? Sign up!\",\n    \"registration\": \"Join\",\n    \"questionAuth\": \"Already have an account?\",\n    \"smsRegistration\": \"Didn’t wait for the call?\",\n    \"smsAgainRegistration\": \"request again\",\n    \"youCanRequestNewPasswordVia\":\"You can request a new password via\",\n    \"minutes\": \" |{n} minute |{n} minutes|{n} minutes\",\n    \"seconds\": \" |{n} second |{n} seconds|{n} seconds\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"auth-header-footer\">\n    <template v-if=\"state == 'auth'\">\n      {{ $t(\"questionRegistration\") }}\n      <a href=\"#\" @click.prevent=\"$emit('changeState', 'registration')\">{{\n        $t(\"registration\")\n        }}</a>\n    </template>\n    <template v-if=\"state === 'registration'\">\n      {{ $t(\"questionAuth\") }}\n      <a href=\"#\" @click.prevent=\"$emit('changeState', 'auth')\">{{ $t(\"auth\") }}</a>\n    </template>\n    <template v-if=\"state === 'registration-last'\">\n      <template v-if=\"timers === 0\">\n        <div class=\"text-left\">\n          {{ $t(\"smsRegistration\") }}\n          <a href=\"#\" @click.prevent=\"$emit('onResendSms')\">\n            {{ $t(\"smsAgainRegistration\") }}\n          </a>\n        </div>\n      </template>\n      <template v-else-if=\"timers > 0\">\n        <div class=\"text-left\">\n          {{ $t(\"youCanRequestNewPasswordVia\", this.timers) }}\n          {{ $tc(\"minutes\", Math.floor(this.timers / 60)) }}\n          {{ $tc(\"seconds\", this.timers % 60) }}\n        </div>\n      </template>\n      <div v-if=\"linkHost\" class=\"link-host text-left\">\n        <a :href=\"`//${linkHost}`\" target=\"_blank\">\n          <img src=\"./../../assets/link-to.svg\" alt=\"\" />\n        </a>\n        {{ $t(\"goTo\") }}\n        <a :href=\"`//${linkHost}`\" target=\"_blank\">{{ linkHost }}</a>\n      </div>\n    </template>\n    <template v-if=\"state === 'you-already-registered'\">\n      <div class=\"text-left\">\n        {{ $t(\"smsRegistration\") }}\n        <a href=\"#\" @click.prevent=\"$emit('onResendSms', 'you-already-registered')\">\n          {{ $t(\"smsAgainRegistration\") }}\n        </a>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'BaseFormNotRegistrationLast',\n  props: {\n    state: {\n      type: String,\n      required: true\n    },\n    timers: {\n      required: true\n    },\n    linkHost: {\n      type: String,\n      required: true\n    }\n  }\n}\n</script>\n","<i18n>\n{\n  \"ru\": {\n    \"didntReceiveYourPassword\":\"Пароль не пришёл?\",\n    \"getPasswordAgain\":\"получить пароль повторно\",\n    \"youCanRequestNewPasswordVia\":\"Вы можете запросить новый пароль через\"\n  },\n  \"en\": {\n    \"didntReceiveYourPassword\":\"I didn't get my password?\",\n    \"getPasswordAgain\":\"get your password again\",\n    \"youCanRequestNewPasswordVia\":\"You can request a new password via\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"auth-header-footer\">\n    <div class=\"footer-social\">\n      <template v-if=\"timers === 0\">\n        <div class=\"text-left\">\n          {{ $t(\"didntReceiveYourPassword\") }}\n          <a href=\"#\" @click.prevent=\"$emit('forgotPasswordSocial')\">\n            {{ $t(\"getPasswordAgain\") }}\n          </a>\n        </div>\n      </template>\n      <template v-if=\"timers > 0\">\n        <div class=\"text-left\">\n          {{ $t(\"youCanRequestNewPasswordVia\") }}<br>\n          {{ `${Math.floor(this.timers / 60)}:${this.timers % 60}` }}\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'BaseFormLoginSocial',\n  props: {\n    timers: {\n      type: Number,\n      required: true\n    }\n  }\n}\n</script>","<i18n>\n{\n  \"ru\": {\n    \"forgotSend\": \"Сейчас вам придет смс на номер {tel}. Используйте цифры как пароль\",\n    \"forgotSendEmail\": \"На электронную почту {email} был выслан пароль для входа на сайт\"\n  },\n  \"en\": {\n    \"forgotSend\": \"Now you will receive an SMS to the {tel} number. Use numbers as password\",\n    \"forgotSendEmail\": \"A password has been sent to the email address {email} to enter the site\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"auth-header\" v-if=\"isVisible\">\n    <div class=\"auth-header-close\" @click=\"close\">\n      <div class=\"auth-header-close-icon\"></div>\n    </div>\n    <div class=\"auth-header-container\">\n      <!-- Авторизация -->\n      <Auth\n        v-if=\"state === 'auth'\"\n        @close=\"close\"\n        @changeState=\"changeState\"\n        @changeTogglePass=\"changeTogglePass\"\n        @changePassword=\"changePassword\"\n        @changeValue=\"changeValue\"\n        @changePersistent=\"changePersistent\"\n        @onAuth=\"onAuth\"\n        :togglePassword=\"togglePassword\"\n        :password=\"password\"\n        :value=\"value\"\n        :persistent=\"persistent\"\n        :valid=\"valid\"\n        :textError=\"textError\"\n      />\n\n      <!-- Забыл пароль -->\n      <ForgotPass\n        v-if=\"state === 'forgot'\"\n        @close=\"close\"\n        @backLogin=\"backLogin\"\n        @onForgot=\"onForgot\"\n        @changeValue=\"changeValue\"\n        :valid=\"valid\"\n        :textError=\"textError\"\n        :value=\"value\"\n      />\n\n      <!-- регистрация через соц сети ВК -->\n      <RegistrationSocial\n        v-if=\"state === 'login-via-social-network' && dataSocialNetwork\"\n        @close=\"close\"\n        @onLoginSite=\"onLoginSite\"\n        @forgotPasswordSocial=\"forgotPasswordSocial\"\n        @onRegistrationSocial=\"onRegistrationSocial\"\n        @changePhone=\"changePhone\"\n        @changeCodeSocial=\"changeCodeSocial\"\n        @changeTerms=\"changeTerms\"\n        @changeTogglePass=\"changeTogglePass\"\n        :phone=\"phone\"\n        :codeSocial=\"codeSocial\"\n        :terms=\"terms\"\n        :actionsAuthSocial=\"actionsAuthSocial\"\n        :forgotSocial=\"forgotSocial\"\n        :dataSocialNetwork=\"dataSocialNetwork\"\n        :viewSocial=\"viewSocial\"\n        :errorSocial=\"errorSocial\"\n        :valid=\"valid\"\n        :togglePassword=\"togglePassword\"\n        :textError=\"textError\"\n      />\n\n      <!-- Регистрация -->\n      <Registration\n        v-if=\"state === 'registration'\"\n        @close=\"close\"\n        @onRegistration=\"onRegistration\"\n        @changeName=\"changeName\"\n        @changeValue=\"changeValue\"\n        @changeTerms=\"changeTerms\"\n        :name=\"name\"\n        :value=\"value\"\n        :terms=\"terms\"\n        :valid=\"valid\"\n        :textError=\"textError\"\n      />\n\n      <!-- Окончание авторизации вход по паролю -->\n      <RegistrationLast\n        v-if=\"state === 'registration-last'\"\n        @close=\"close\"\n        @backLoginReg=\"backLoginReg\"\n        @backLogin=\"backLogin\"\n        @onAuthLast=\"onAuthLast\"\n        @changeTogglePass=\"changeTogglePass\"\n        @changePassword=\"changePassword\"\n        :forgotStatus=\"forgotStatus\"\n        :textForgot=\"textForgot\"\n        :togglePassword=\"togglePassword\"\n        :password=\"password\"\n        :value=\"value\"\n        :valid=\"valid\"\n        :textError=\"textError\"\n        :lastForm=\"lastForm\"\n      />\n\n      <!-- Пользовательское соглашение, нужно вкл. галку -->\n      <TermsOfUse\n        v-if=\"state === 'registration-last-user-agreement'\"\n        @close=\"close\"\n        @changeState=\"changeState\"\n        :state=\"state\"\n      />\n\n      <!-- Вы уже зарегистрированы в системе -->\n      <AlreadyRegistered\n        v-if=\"state === 'you-already-registered'\"\n        @close=\"close\"\n        @changeState=\"changeState\"\n        @backLoginReg=\"backLoginReg\"\n        @onAuthLast=\"onAuthLast\"\n        @changeTogglePass=\"changeTogglePass\"\n        @changePassword=\"changePassword\"\n        @changePersistent=\"changePersistent\"\n        :state=\"state\"\n        :togglePassword=\"togglePassword\"\n        :password=\"password\"\n        :persistent=\"persistent\"\n        :valid=\"valid\"\n        :textError=\"textError\"\n      />\n\n      <NotRegistrationLast\n        v-if=\"state !== 'forgot' && state !== 'registration-last-user-agreement'\"\n        @close=\"close\"\n        @changeState=\"changeState\"\n        @onResendSms=\"onResendSms\"\n        :state=\"state\"\n        :timers=\"timers\"\n        :linkHost=\"linkHost\"\n      />\n\n      <!-- подвал связанный с регистрацией через соц сети ВК -->\n      <LoginSocial\n        v-if=\"state === 'login-via-social-network' && timeoutSocial\"\n        @close=\"close\"\n        @forgotPasswordSocial=\"forgotPasswordSocial\"\n        :timers=\"timers\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\n  import API from \"./../../API\";\n  import VueCookies from \"vue-cookies\";\n  import { mapActions, mapState } from \"vuex\";\n  import inputPhones from \"@sutochno/inputPhone\";\n  import Input from \"@sutochno/input\";\n\n  //components import\n  import Auth from './Auth.vue'\n  import ForgotPass from './ForgotPass.vue'\n  import RegistrationSocial from './RegistrationSocial.vue'\n  import Registration from './Registration.vue'\n  import RegistrationLast from './RegistrationLast.vue'\n  import TermsOfUse from './TermsOfUse.vue'\n  import AlreadyRegistered from './AlreadyRegistered.vue'\n  import NotRegistrationLast from './NotRegistrationLast.vue'\n  import LoginSocial from './LoginSocial.vue'\n\n  export default {\n    name: \"BaseFormAuth\",\n    components: {\n      inputPhones,\n      Input,\n      Auth,\n      ForgotPass,\n      RegistrationSocial,\n      Registration,\n      RegistrationLast,\n      TermsOfUse,\n      AlreadyRegistered,\n      NotRegistrationLast,\n      LoginSocial\n    },\n    mounted() {\n      this.toggleAuth();\n    },\n    methods: {\n      changeState (state) {\n        this.state = state\n      },\n      changeTogglePass (toggle) {\n        this.togglePassword = toggle\n      },\n      changeName (name) {\n        this.name = name\n      },\n      changeValue (val) {\n        this.value = val\n      },\n      changeTerms (terms) {\n        this.terms = terms\n      },\n      changePassword (pass) {\n        this.password = pass\n      },\n      changePhone (phone) {\n        this.phone = phone\n      },\n      changeCodeSocial (code) {\n        this.codeSocial = code\n      },\n      changePersistent (persistent) {\n        this.persistent = persistent\n      },\n      ...mapActions(\"user\", [\"loadUserData\"]),\n      toggleAuth() {\n        document.addEventListener('toggleAuthForm', () => {\n          this.isVisible = true;\n        });\n      },\n      show(state) {\n        this.isVisible = true;\n        if ([\"auth\", \"registration\", \"login-via-social-network\"].includes(state)) this.state = state;\n      },\n      onLoginSite(status) {\n        const formData = new FormData();\n        formData.append(\"phone\", this.phone)\n        formData.append(\"code\", this.codeSocial)\n        formData.append(\"status\", (this.actionsAuthSocial == \"give me terms\") ? \"give me terms\" : status)\n        if (this.terms) {\n          formData.append(\"terms\", \"1\")\n        }\n\n        API.addMobileToNotAuthUser(formData)\n          .then(response => {\n            this.errorSocial = response.data.errors;\n            if (response.data.success) {\n              this.close();\n              this.loadUserData();\n            }\n            this.actionsAuthSocial = response.data.actions.auth || \"\";\n            // if (response.data.actions.redirect) {\n            //   document.location.href = response.data.actions.redirect;\n            // }\n          })\n          .catch(err => {\n            console.error(err);\n          })\n      },\n      onRegistrationSocial() {\n        const formData = new FormData();\n        formData.append(\"phone\", this.phone)\n\n        API.addMobileToNotAuthUser(formData)\n          .then(response => {\n            this.errorSocial = response.data.errors;\n            if (response.data.success) {\n              this.close();\n              this.loadUserData();\n            }\n            if (response.data.data.messages.phone) {\n              this.viewSocial = \"number-registered\";\n            }\n            if (response.data.data.timeout) {\n              this.viewSocial = \"registered\";\n              this.timers = response.data.data.timeout;\n              this.timeoutSocial = response.data.data.timeout;\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      },\n      clearSocialAccount() {\n        API.clearSocialAccountData()\n          .then(response => {\n            const { host } = window.location\n            let newHost = host;\n\n            newHost = newHost.split('.')\n\n            if(newHost.length >= 3) {\n              newHost = newHost.slice(1)\n            }\n\n            newHost = newHost.join('.')\n\n            VueCookies.set(\"_ia_\", '1', \"30d\", \"/\", `.${newHost}`)\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      },\n      close() {\n        this.isVisible = false;\n        if (this.state == \"login-via-social-network\") {\n          this.clearSocialAccount();\n        }\n        this.state = \"auth\";\n        this.timers = 0;\n        this.$store.commit(\"user/authStateMutate\", \"\")\n      },\n      onAuth() {\n        const { value, password, persistent } = this;\n        this.valid.value = null\n        API.auth({\n          value,\n          password,\n          persistent,\n        })\n            .then((response) => {\n              if (\n                  response.data.data.messages.already &&\n                  response.data.errors.length == 0\n              ) {\n                this.isVisible = false;\n                this.loadUserData();\n                this.valid.value = true;\n                this.valid.password = null;\n                this.textError = [];\n              }\n              if (response.data.errors.length) {\n                this.valid.value = false;\n                this.valid.password = false;\n                this.textError = response.data.errors;\n                \n              }\n            })\n            .catch((error) => {\n              console.log(\"Ajax error: \", error);\n            });\n      },\n      onAuthLast() {\n        const { value, password, status = \"auth-header-login-last\", persistent } = this;\n        API.auth({\n          value,\n          password,\n          status,\n          persistent,\n        })\n            .then((response) => {\n              if (response.data.data.user_id && response.data.errors.length == 0) {\n                this.isVisible = false;\n                \n                this.loadUserData();\n                this.valid.value = null;\n                this.valid.password = null;\n                this.textError = [];\n              }\n              if (response.data.errors.length) {\n                this.valid.value = false;\n                this.valid.password = false;\n                this.textError = response.data.errors;\n              }\n            })\n            .catch((error) => {\n              console.log(\"Ajax error: \", error);\n            });\n      },\n      forgotPasswordSocial() {\n        const formData = new FormData();\n        formData.append(\"phone\", this.phone)\n        formData.append(\"status\", \"remind\")\n\n        API.addMobileToNotAuthUser(formData)\n          .then(response => {\n            this.errorSocial = response.data.errors;\n            this.forgotSocial = response.data.data?.messages?.forgot || \"\"\n            if (response.data.data?.timeout) {\n              this.timers = response.data.data.timeout || 0;\n              this.timeoutSocial = response.data.data.timeout || 0;\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      },\n      onRegistration() {\n        const { name, value, status = \"auth-header-registration\", terms } = this;\n        API.auth({\n          name,\n          value,\n          status,\n          terms,\n        })\n            .then((response) => {\n              if (response.data.errors.length) {\n                this.valid.value = false;\n                this.textError = response.data.errors;\n              }\n              if (response.data.errors.length == 0) {\n                this.timers = response.data.actions.auth != \"show terms\" ? 180 : 0;\n                this.state = response.data.actions.auth != \"show terms\" ? \"registration-last\" : \"registration-last-user-agreement\";\n                this.textError = [];\n                this.forgotStatus = \"registration\";\n                this.textForgot = response.data.data.messages.registration || \"\";\n              }\n\n              if (\n                  (response.data.data.messages.already &&\n                      response.data.data.messages.already ==\n                      \"Вы уже зарегистрированы в системе\") ||\n                  (response.data.actions && response.data.actions.auth && response.data.actions.auth == \"show password for new user\")\n              ) {\n                this.state = \"you-already-registered\";\n                this.textError = response.data.errors;\n              }\n            })\n            .catch((error) => {\n              console.log(\"Ajax error: \", error);\n            });\n      },\n      onResendSms(state) {\n        this.password = \"\";\n        this.forgotStatus = \"forgot\";\n        const {\n          name,\n          value,\n          password,\n          status = \"auth-header-registration-last\",\n          forgot = \"1\",\n          terms,\n          transport_notice = \"sms\"\n        } = this;\n        API.auth({\n          name,\n          value,\n          password,\n          status,\n          forgot,\n          terms,\n          transport_notice\n        })\n            .then((response) => {\n              this.timers = response.data.data.timeout;\n              if (state === \"you-already-registered\") {\n                this.state = \"registration-last\";\n                this.textForgot = response.data.data.messages.forgot || \"\";\n                this.textError = [];\n              }\n            })\n            .catch((error) => {\n              console.log(\"Ajax error: \", error);\n            });\n      },\n      onForgot() {\n        this.password = \"\";\n        this.textForgot = \"\";\n        this.linkHost = \"\";\n        this.forgotStatus = \"forgot\";\n        const {\n          name,\n          value,\n          password,\n          status = \"auth-header-forgot\",\n          forgot = \"1\",\n          terms\n        } = this;\n        API.auth({\n          name,\n          value,\n          password,\n          status,\n          forgot,\n          terms,\n          isEmail: this.isEmail\n        })\n            .then((response) => {\n              if (response.data.errors.length == 0) {\n                // this.timers = 180;\n                this.timers = response.data.data.timeout || 180\n                this.state = \"registration-last\";\n                this.valid.value = null;\n                this.textError = [];\n                if(this.isEmail) {\n                  this.textForgot = this.$t('forgotSendEmail', {email: this.value})\n                } else {\n                  this.textForgot = this.$t('forgotSend', {tel: this.value})\n                }\n                this.linkHost = response.data.data.messages.host || \"\";\n              }\n              if (response.data.errors.length) {\n                this.valid.value = false;\n                this.textError = response.data.errors;\n              }\n            })\n            .catch((error) => {\n              console.log(\"Ajax error: \", error);\n            });\n      },\n      \n      backLogin() {\n        this.state = \"auth\";\n        this.timers = 0;\n      },\n      backLoginReg() {\n        this.state = \"registration\";\n        this.timers = 0;\n      },\n      iAccept() {\n        this.terms = 1;\n        this.onRegistration();\n      }\n    },\n    data() {\n      return {\n        isVisible: false,\n        state: \"auth\",\n        value: \"\",\n        name: \"\",\n        password: \"\",\n        persistent: false,\n        terms: false,\n        timers: 0,\n        valid: {\n          value: null,\n          password: null,\n          name: null,\n        },\n        togglePassword: true,\n        textError: [],\n        textForgot: \"\",\n        linkHost: \"\",\n        forgotStatus: \"forgot\",\n        phone: \"\",\n        errorSocial: [],\n        codeSocial: \"\",\n        timeoutSocial: 0,\n        forgotSocial: \"\",\n        viewSocial: \"enter-phone\",\n        actionsAuthSocial: \"\",\n        lastForm: 'backLogin'\n      };\n    },\n    watch: {\n      state(val) {\n        if (val === 'auth') {\n          this.lastForm = \"backLogin\";\n        } else if (val === 'registration') {\n          this.lastForm = \"backLoginReg\";\n        }\n        if (val != \"registration-last\" && val != \"you-already-registered\" && val != \"registration-last-user-agreement\") {\n          this.value = \"\";\n          this.name = \"\";\n          this.password = \"\";\n          this.textError = [];\n          this.valid = {\n            value: null,\n            password: null,\n            name: null,\n          };\n        }\n      },\n      timers(value) {\n        if (value > 0) {\n          setTimeout(() => {\n            this.timers -= 1;\n          }, 950);\n        }\n      },\n      isVisible (val) {\n        if (val) {\n          document.body.style.overflow = 'hidden';\n        } else {\n          document.body.style.overflow = '';\n        }\n      }\n    },\n    computed: {\n      ...mapState(\"user\", [\"dataSocialNetwork\"]),\n      isEmail() {\n        const validEmail = /\\S+@\\S+\\.\\S+/;\n        return validEmail.test(this.value)\n      }\n    }\n  };\n</script>\n<style lang=\"scss\">\n  .sc-header {\n    .auth-header-form-input {\n      margin-bottom: 10px!important;\n    }\n    .auth-header input {\n      width: 100%;\n      height: auto;\n      padding: 13px 15px;\n      padding-right: 45px;\n      border-radius: 3px;\n      border: solid 1px #d8d8d8;\n      background-color: #ffffff;\n    }\n    .mobile & {\n      .auth-header {\n        flex-direction: column;\n      }\n    }\n    .auth-header {\n      &-close {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: 50;\n      }\n      .desktop & {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: 200;\n        overflow: auto;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: rgba(0, 0, 0, 0.5);\n        &-container {\n          display: block;\n          width: 530px;\n          padding: 19px 20px;\n          background-color: #fff;\n          box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);\n          position: relative;\n          z-index: 200;\n          .close {\n            display: block;\n            padding: 15px 20px;\n            font-size: 18px;\n            color: #a6a6a6;\n            cursor: pointer;\n            position: absolute;\n            right: 0;\n            top: 0;\n            &:hover {\n              color: #666;\n            }\n          }\n        }\n        .modal-close {\n          cursor: pointer;\n          width: 16px;\n          height: 16px;\n          position: absolute;\n          right: 20px;\n          top: 20px;\n          opacity: .7;\n          &:after,\n          &:before {\n            content: \"\";\n            display: block;\n            width: 18px;\n            height: 1px;\n            background: #3e3e3e;\n            position: relative;\n            top: 8px;\n            left: 0;\n          }\n          &:after {\n            transform: rotate(45deg);\n          }\n          &:before {\n            transform: rotate(-45deg);\n          }\n        }\n      }\n      .mobile & {\n        .auth-header-close {\n          display: block;\n          width: 100%;\n          height: 50px;\n          background-color: #f6f6f6;\n          cursor: pointer;\n          position: relative;\n          &-icon {\n            margin-top: 14px;\n            margin-left: 20px;\n            &:after,\n            &:before {\n              content: \"\";\n              display: block;\n              width: 18px;\n              height: 1px;\n              background: #3e3e3e;\n              position: relative;\n              top: 8px;\n              left: 0;\n            }\n            &:after {\n              transform: rotate(45deg);\n            }\n            &:before {\n              transform: rotate(-45deg);\n            }\n          }\n        }\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: 200;\n        overflow: auto;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: rgba(0, 0, 0, 0.5);\n        &-container {\n          background: #fff;\n          display: block;\n          padding: 30px 20px 20px;\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n          \n        }\n      }\n      &-container {\n        .form-control,\n        .sc-checkbox {\n          margin-bottom: 15px;\n          &.is-invalid,\n          &:invalid {\n            background: #fff;\n            border-color: red;\n            &:focus {\n              box-shadow: none;\n            }\n          }\n        }\n        .mbottom-4 {\n          margin-bottom: 4px;\n        }\n        .auth-header-footer {\n          margin: 10px -20px -20px -20px;\n          padding: 15px 20px 14px;\n          background: #ededef;\n          text-align: center;\n          font-size: 15px;\n          line-height: 1.4;\n          .text-left {\n            text-align: left;\n          }\n          .link-host {\n            padding-top: 4px;\n            img {\n              margin-right: 4px;\n            }\n          }\n        }\n      }\n      &-title {\n        font-weight: 600;\n        line-height: 19px;\n        margin-top: 0;\n        margin-bottom: 0;\n      }\n      .auth-header-title {\n        font-size: 22px!important;\n        font-weight: 500;\n      }\n      h5 {\n        font-size: 17px;\n      }\n      .field-password {\n        position: relative;\n        padding-bottom: 15px;\n        .btn-show-hide-password {\n          cursor: pointer;\n          position: absolute;\n          top: 0;\n          right: 0;\n          height: 30px;\n          width: 46px;\n          text-align: center;\n          .icon {\n            display: inline-block;\n            vertical-align: middle;\n            width: 25px;\n            height: 16px;\n            background-image: url(\"./../../assets/icon/show@2x.png\");\n            background-position: 0;\n            background-repeat: no-repeat;\n            background-size: contain;\n            margin-top: 50%;\n            transform: translate(0, -50%);\n          }\n          &.show {\n            .icon {\n              background-image: url(\"./../../assets/icon/not_show@2x.png\");\n            }\n          }\n        }\n        .form-control {\n          &.is-invalid {\n            background: #fff;\n          }\n          &.error {\n            border-color: red;\n          }\n        }\n      }\n      .btn-secondary.disabled,\n      .btn-secondary:disabled {\n        color: #ffffff;\n        background-color: #498bc3;\n        border-color: #3671a3;\n        opacity: 1;\n        &:hover,\n        &:focus,\n        &:active {\n          background-color: #498bc3;\n          border-color: #3671a3;\n        }\n      }\n      .btn-primary:hover,\n      .btn-primary:focus,\n      .btn-primary:active,\n      .btn-blue:hover,\n      .btn-blue:focus,\n      .btn-blue:active {\n        background-color: #5c97c9;\n        border-color: #498bc3;\n        color: #ffffff;\n      }\n      .btn.btn-primary {\n        margin-bottom: 10px;\n      }\n      .btn.btn-success {\n        height: 42px;\n        margin-bottom: 15px;\n        border-radius: 3px;\n        background-color: #6fa759;\n        border: 0;\n        &:hover {\n          background-color: rgba(110, 167, 88, .9);\n        }\n      }\n      .field-text {\n        line-height: 17px;\n        margin-bottom: 15px;\n        color: #000;\n        font-size: 14px;\n        font-weight: normal;\n        &.pt-10 {\n          padding-top: 10px;\n        }\n      }\n      .text-forgot {\n        line-height: 1.4;\n        margin-bottom: 10px;\n        font-size: 15px;\n        span, ::v-deep > div > span {\n          text-decoration: underline;\n        }\n      }\n      ::v-deep .custom-control-label {\n        line-height: 1.2;\n      }\n      .back-login {\n        display: inline-block;\n        vertical-align: middle;\n        cursor: pointer;\n        position: relative;\n        height: 20px;\n        width: 16px;\n        &:after,\n        &:before {\n          content: \"\";\n          display: block;\n          width: 8px;\n          height: 1px;\n          background: #000;\n          position: absolute;\n          top: 0;\n          left: 0;\n          transform: rotate(-45deg);\n          margin: 6px 0 0 2px;\n        }\n        &:before {\n          top: 5px;\n          transform: rotate(45deg);\n        }\n      }\n      .field-error {\n        color: #e10600;\n        font-size: 13px;\n        line-height: 1.3;\n        padding: 0 10px;\n        margin-bottom: 14px;\n        &.social {\n          padding: 10px 0 0;\n          &.pdt-2 {\n            padding-top: 2px;\n          }\n        }\n      }\n      a {\n        color: #0056b3;\n        &:hover {\n          color: #f51449 !important;\n        }\n      }\n      .forgot-password {\n        display: flex;\n        justify-content: space-between;\n      }\n      .error-input {\n        border-color: #e10600;\n      }\n      .registration-terms-error {\n        color: #e10600;\n        font-size: 12px;\n        a {\n          color: #e10600;\n        }\n      }\n      .text-center {\n        text-align: center;\n      }\n      .btn-footer {\n        padding-top: 14px;\n        .btn {\n          margin: 0 10px;\n        }\n      }\n      .code-social {\n        margin-bottom: 6px;\n      }\n      .forgot-password-link {\n        text-align: right;\n        font-size: 14px;\n        margin-bottom: 6px;\n        span {\n          cursor: pointer;\n          color: #2d6cb4;\n          text-transform: lowercase;\n          &:hover {\n            color: #f51449;\n          }\n        }\n      }\n      .footer-social {\n        font-size: 14px;\n        line-height: 16px;\n        text-align: center;\n        .text-left {\n          text-align: center;\n        }\n      }\n    }\n  }\n</style>\n","<i18n>\n{\n  \"en\": {\n    \"loginButton\": \"Login\"\n  },\n  \"ru\": {\n   \"loginButton\": \"Войти\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"header-desktop\">\n    <BaseDisconnect />\n    <a :href=\"baseLink\" title=\"Суточно.ру — сервис бронирования жилья для поездок\" class=\"logo\"></a>\n\n    <template\n      v-if=\"\n        !!this.$slots['suggest-desktop'] ||\n        !!this.$scopedSlots['suggest-desktop']\n      \"\n    >\n      <slot name=\"suggest-desktop\"></slot>\n    </template>\n    <!-- <BaseSuggestionsSearchHeader\n      v-if=\"this.$route.name != 'Main' && this.$route.name != 'Search'\"\n    /> -->\n    <SelectRent :data=\"userData\" :is-auth=\"isAuth\"/>\n    <div class=\"header-right\">\n      <template v-if=\"viewRentHouse\">\n        <RentHouse :data=\"userData\" :is-auth=\"auth.isAuth\" />\n      </template>\n\n      <Favorite :data=\"userData\" :is-auth=\"auth.isAuth\" />\n      <MyBooking :data=\"userData\" :is-auth=\"auth.isAuth\" />\n      <!-- v-if=\"auth.isAuth\" -->\n      <Wallet v-if=\"isAuth\" :data=\"userData\" />\n      <Account v-if=\"auth.isAuth\" :data=\"userData\" :is-auth=\"auth.isAuth\" />\n\n      <span>\n        <BaseFormAuth ref=\"FormAuth\" />\n      </span>\n\n      <b-button\n        v-if=\"auth.isAuth === false\"\n        target=\"_blank\"\n        class=\"btn btn-transparent btn-login\"\n        variant=\"outline-light\"\n        @click=\"$refs.FormAuth.show('auth')\"\n      >\n        {{ $t(\"loginButton\") }}\n      </b-button>\n\n      <LanguageSwitch />\n      <Help :data=\"userData\" :is-auth=\"auth.isAuth\" />\n    </div>\n    <WarningBalance />\n  </div>\n</template>\n\n<script>\nimport SelectRent from \"../Base/SelectRent.vue\";\nimport RentHouse from \"../Base/RentHouse.vue\";\nimport MyBooking from \"../Base/MyBooking.vue\";\nimport Favorite from \"../Base/Favorite.vue\";\nimport BaseDisconnect from \"../Base/BaseDisconnect.vue\";\n\nimport WarningBalance from \"../Base/WarningBalance.vue\";\n\nimport Wallet from \"../Base/Wallet.vue\";\nimport Account from \"../Base/Account.vue\";\nimport LanguageSwitch from \"../Base/LanguageSwitch.vue\";\nimport Help from \"../Base/Help.vue\";\nimport BaseFormAuth from \"../Base/BaseFormAuth/index.vue\";\n// import BaseSuggestionsSearchHeader from \"@/components/base/BaseSuggestions/SearchHeader\";\nimport { mapActions, mapState, mapGetters } from \"vuex\";\n\nexport default {\n  name: \"HeaderDesktop\",\n  components: {\n    SelectRent,\n    RentHouse,\n    MyBooking,\n    Favorite,\n    Wallet,\n    Account,\n    LanguageSwitch,\n    Help,\n    BaseDisconnect,\n    WarningBalance,\n    // BaseSuggestionsSearchHeader,\n\n    BaseFormAuth,\n  },\n  methods: {\n    ...mapActions(\"user\", [\"loadUserData\", \"initSessionDomain\"]),\n    ...mapActions(\"user\", [\"getCurrencies\"]),\n  },\n  computed: {\n    ...mapState(\"user\", [\"userData\", \"isAuth\", \"dataSocialNetwork\", \"authState\"]),\n    ...mapState(\"user\", [\"currency\", \"baseLink\", \"auth\"]),\n    viewRentHouse() {\n      return !this.auth.isAuth || this.userData?.user_is_owner > 0\n        ? true\n        : false\n    },\n    searchPagePlatform() {\n      if (window) {\n        return window.location.host.split(\".\").length > 2 ? true : false;\n      } else {\n        return false;\n      }\n    },\n  },\n  watch: {\n    // location(val) {\n    //   if (this.$route.name == \"Search\") {\n    //     this.loadUserData({\n    //       location_id: val.id,\n    //       location_type: val.type,\n    //     });\n    //   }\n    // },\n    \"$i18n.locale\": function (val) {\n      setTimeout(() => {\n        this.getCurrencies();\n      }, 1000);\n    },\n    dataSocialNetwork(val) {\n      if (val) {\n        this.$refs.FormAuth.show(\"login-via-social-network\");\n      }\n    },\n    authState(newVal){\n      switch (newVal) {\n        case \"open\":\n          this.$refs.FormAuth.show('auth')\n          break;\n        case \"registration\":\n          this.$refs.FormAuth.$data.state = \"registration\"\n          this.$refs.FormAuth.$data.isVisible = true\n          break;\n        default:\n          break;\n      }\n    }\n  },\n  mounted() {\n    // this.loadUserData()\n    //   .then(() => {\n    //     if (!this.isAuth) {\n    //       this.initSessionDomain();\n    //     }\n    //   })\n    //   .catch((err) => {\n    //     console.log(err);\n    //   });\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.header-desktop {\n  background-color: #333333;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  height: 50px;\n  font-size: 13px;\n  .choice-city {\n    font-size: 16px;\n  }\n\n  .logo {\n    display: flex;\n    margin-left: 20px;\n    width: 173px;\n    height: 50px;\n    background: url(\"../assets/logo-horizontal.svg\") 0 50% no-repeat;\n    background-size: 100% auto;\n    @media only screen and (max-width: 1024px) {\n      width: 32px;\n      height: 28px;\n      overflow: hidden;\n      background-size: 173px auto;\n    }\n  }\n\n  .rent-house {\n    margin-left: auto;\n  }\n  .btn {\n    align-self: center;\n  }\n  .header-right {\n    margin-left: auto;\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    height: 50px;\n  }\n  &,\n  .header-right{\n    > div,\n    > a {\n      height: inherit;\n      margin: 0 5px;\n    }\n    ::v-deep a:hover {\n      color: #ffffff;\n    }\n  }\n}\n.btn-login {\n  margin: 0 8px;\n  padding-left: 20px;\n  padding-right: 20px;\n  &:hover,\n  &:focus,\n  &:active {\n    border-color: #b2b2b2;\n    background: transparent;\n    color: #ffffff;\n    box-shadow: none;\n  }\n}\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"loginOrRegister\": \"Войти или зарегистрироваться\"\n  },\n  \"en\": {\n    \"loginOrRegister\": \"Sign in or sign up\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"collapse-menu\">\n    <div class=\"sc-header-navbar-nav\">\n      <div v-if=\"isAuth === false\" class=\"nav-item\">\n        <a\n          class=\"nav-link\"\n          target=\"_blank\"\n          @click=\"$parent.$refs.FormAuth.show('auth')\"\n        >\n          <span class=\"ico-authorization\"></span>{{ $t(\"loginOrRegister\") }}\n        </a>\n      </div>\n    </div>\n    <Account\n      v-model=\"modalHead\"\n      :data=\"userData\"\n      :is-auth=\"isAuth\"\n      view=\"mobile\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport Account from \"../Base/Account.vue\";\n\nexport default {\n  name: \"Burger\",\n  components: {\n    Account,\n  },\n  computed: {\n    ...mapState(\"user\", [\"userData\", \"isAuth\"]),\n  },\n  watch: {\n    modalHead: function (val) {\n      this.$emit(\"input\", val);\n    },\n  },\n  data() {\n    return {\n      modalHead: null,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.collapse-menu {\n  .navbar-nav {\n    width: 100%;\n  }\n  & > *:not(:first-child):not(:last-child) {\n    border-bottom: 1px solid #626262;\n  }\n}\n.sc-header-navbar-nav {\n  border-top: 1px solid #626262;\n  .nav-item {\n    padding: 12px 25px;\n    border-bottom: 1px solid #626262;\n    .nav-link {\n      display: inline-block;\n      color: #ffffff;\n      .ico-authorization {\n        display: inline-block;\n        vertical-align: sub;\n        width: 20px;\n        height: 20px;\n        background-repeat: no-repeat;\n        background-size: 240px;\n        background-image: url(\"../assets/spr_header_2x.png\");\n        background-position: -100px 0;\n        margin-right: 10px;\n      }\n    }\n  }\n}\n::v-deep .sc-nav-list-title .sc-nav-list-block.account-user {\n  padding: 10px 20px 0;\n  width: 100%;\n}\n</style>\n","<i18n>\n{\n  \"ru\": {\n    \"cityTitle\": \"Выбрать направление\",\n    \"loginOrRegister\": \"Войти или зарегистрироваться\"\n  },\n  \"en\": {\n    \"cityTitle\": \"\",\n    \"loginOrRegister\": \"Sign in or sign up\"\n  }\n}\n</i18n>\n\n<template>\n  <div>\n    <div class=\"site-header\">\n      <BaseDisconnect />\n      <div\n        ref=\"header-wr\"\n        class=\"site-header-in\"\n        :class=\"{\n          'inner-page': isAuth,\n        }\"\n      >\n        <a\n          v-if=\"isVkApp\"\n          href=\"#\"\n          title=\"Суточно.ру — сервис бронирования жилья для поездок\"\n          class=\"logo\"\n          @click=\"routerHandler\"\n        ></a>\n        <a\n          v-else\n          :href=\"baseLink\"\n          title=\"Суточно.ру — сервис бронирования жилья для поездок\"\n          class=\"logo\"\n        ></a>\n        <div\n          class=\"site-header-right\"\n          :style=\"isVkApp ? 'visibility:hidden;' : ''\"\n        >\n          <template v-if=\"isAuth\">\n            <template\n              v-if=\"userData.user_is_owner && userData.user_is_owner > 0\"\n            >\n              <button\n                v-if=\"!isVkApp\"\n                class=\"btn-head\"\n                :class=\"{ active: activeMod == 1 }\"\n                @click=\"openPopup(1)\"\n              >\n                <span\n                  class=\"sc-header-icon-tmp sc-header-icon-rent-house\"\n                ></span>\n              </button>\n            </template>\n            <button\n              v-if=\"!isVkApp\"\n              class=\"btn-head\"\n              :class=\"{ active: activeMod === 5 }\"\n              @click=\"openPopup(5)\"\n            >\n              <span class=\"sc-header-icon-tmp sc-header-icon-favorite\"></span>\n            </button>\n            <button\n              class=\"btn-head\"\n              :class=\"{ active: activeMod == 2 }\"\n              @click=\"openPopup(2)\"\n            >\n              <span class=\"sc-header-icon-tmp sc-header-icon-message\">\n                <span\n                  v-if=\"userData.messages.modules.orders.new > 0\"\n                  class=\"badge\"\n                >\n                  {{ userData.messages.modules.orders.new }}\n                </span>\n              </span>\n            </button>\n            <button\n              class=\"btn-head wallet\"\n              :class=\"{ active: activeMod == 3 }\"\n              @click=\"openPopup(3)\"\n            >\n              <span class=\"sc-header-icon-tmp sc-header-icon-wallet\">\n                <span v-if=\"userData.invoices.cnt > 0\" class=\"badge\">\n                  {{ userData.invoices.cnt }}\n                </span>\n              </span>\n              <span v-html=\"userData.balance\" />\n            </button>\n          </template>\n\n          <b-button\n            :aria-expanded=\"activeMod == 4 ? 'true' : 'false'\"\n            :class=\"burgerClass\"\n            class=\"burger\"\n            aria-label=\"menu\"\n            @click=\"openPopup(4)\"\n          >\n            <div class=\"burger-line\"></div>\n            <div class=\"burger-line\"></div>\n            <div class=\"burger-line\"></div>\n          </b-button>\n        </div>\n      </div>\n\n      <template v-if=\"isAuth\">\n        <div v-if=\"activeMod == 1\" class=\"popup\">\n          <RentHouse :data=\"userData\" :is-auth=\"isAuth\" view=\"mobile\" />\n        </div>\n        <div v-if=\"activeMod == 2\" class=\"popup\">\n          <MyBooking :data=\"userData\" :is-auth=\"isAuth\" view=\"mobile\" />\n        </div>\n        <div v-if=\"activeMod == 3\" class=\"popup\">\n          <Wallet :data=\"userData\" view=\"mobile\" />\n        </div>\n        <div v-if=\"activeMod == 5\" class=\"popup\">\n          <Favorite :data=\"userData\" :is-auth=\"isAuth\" view=\"mobile\" />\n        </div>\n      </template>\n      <template v-if=\"activeMod == 4 && !isVkApp\">\n        <Burger v-model=\"activeMod\" />\n      </template>\n    </div>\n    <BaseFormAuth ref=\"FormAuth\" />\n    <WarningBalance />\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState } from \"vuex\";\nimport BaseFormAuth from \"../Base/BaseFormAuth/index.vue\";\nimport MyBooking from \"../Base/MyBooking.vue\";\nimport Wallet from \"../Base/Wallet.vue\";\nimport RentHouse from \"../Base/RentHouse.vue\";\nimport Burger from \"./Burger.vue\";\nimport BaseDisconnect from \"../Base/BaseDisconnect.vue\";\nimport WarningBalance from \"../Base/WarningBalance.vue\";\nimport Favorite from \"../Base/Favorite.vue\";\n\nexport default {\n  name: \"Header\",\n  components: {\n    BaseFormAuth,\n    RentHouse,\n    MyBooking,\n    Wallet,\n    Burger,\n    BaseDisconnect,\n    WarningBalance,\n    Favorite,\n  },\n  methods: {\n    ...mapActions(\"user\", [\"loadUserData\", \"initSessionDomain\"]),\n    ...mapActions(\"user\", [\"getCurrencies\"]),\n    openPopup(val) {\n      this.key = this.activeMod;\n      this.activeMod = val;\n      if (this.key == this.activeMod) {\n        this.activeMod = 0;\n      }\n    },\n    routerHandler(e) {\n      if (this.isVkApp) {\n        e.preventDefault();\n        this.$router.push(\"/\");\n      }\n    },\n  },\n  computed: {\n    ...mapState(\"user\", [\n      \"userData\",\n      \"isAuth\",\n      \"dataSocialNetwork\",\n      \"isVkApp\",\n      \"authState\",\n    ]),\n    ...mapState(\"user\", [\"currency\", \"baseLink\"]),\n    burgerClass() {\n      return {\n        \"burger--hide\": this.isVkApp && !this.isAuth,\n        collapsed: this.activeMod == 4,\n      };\n    },\n    // location: {\n    //   get() {\n    //     return this.$store.state.search.location;\n    //   },\n    //   set(value) {\n    //     // NOTHING\n    //   },\n    // },\n  },\n  watch: {\n    $route(to) {\n      this.activeMod = 0;\n    },\n    // currency: function () {\n    //   setTimeout(() => {\n    //     this.loadUserData();\n    //   }, 1000);\n    // },\n    \"$i18n.locale\": function (val) {\n      setTimeout(() => {\n        this.getCurrencies();\n      }, 1000);\n    },\n    dataSocialNetwork(val) {\n      if (val) {\n        this.$refs.FormAuth.show(\"login-via-social-network\");\n      }\n    },\n    authState(newVal) {\n      switch (newVal) {\n        case \"open\":\n          this.$refs.FormAuth.show(\"auth\");\n          break;\n        case \"registration\":\n          this.$refs.FormAuth.$data.state = \"registration\";\n          this.$refs.FormAuth.$data.isVisible = true;\n          break;\n        default:\n          break;\n      }\n    },\n    // location(val) {\n    //   if (this.$route.name == \"Search\") {\n    //     this.loadUserData({\n    //       location_id: val.id,\n    //       location_type: val.type,\n    //     });\n    //   }\n    // },\n  },\n  data() {\n    return {\n      key: 0,\n      activeMod: 0\n    };\n  },\n};\n</script>\n<style lang=\"scss\">\n.site-header {\n  width: 100%;\n  background: #333;\n  color: #ffffff;\n  position: relative;\n  z-index: 1;\n  .site-header-in {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    .site-header-right {\n      display: flex;\n    }\n    &.inner-page {\n      .logo {\n        width: 35px;\n        overflow: hidden;\n        background-size: 173px auto;\n      }\n      .site-header-right {\n        width: 100%;\n        display: flex;\n        .search-top {\n          align-self: center;\n          width: 100%;\n          padding-right: 10px;\n          .search-city {\n            background-color: #666666;\n            color: white;\n            border-radius: 4px;\n            padding: 4px 12px;\n          }\n          .search-top-in {\n            width: 100%;\n          }\n        }\n      }\n    }\n  }\n  .logo {\n    display: flex;\n    margin: 0 10px;\n    width: 173px;\n    height: 50px;\n    background: url(\"../assets/logo-horizontal.svg\") 0 50% no-repeat;\n    background-size: 100% auto;\n  }\n  .burger {\n    padding: 15px 10px;\n    margin: 0 0 0 auto;\n    border: none;\n    font-size: 0;\n    line-height: 0;\n    background: transparent;\n    outline-style: none;\n    border-radius: 0;\n    box-shadow: none;\n    height: 50px;\n    width: 40px;\n    &:hover,\n    &:active,\n    &:focus {\n      background: none;\n      box-shadow: none;\n    }\n    &:active:focus {\n      box-shadow: none;\n    }\n    .burger-line {\n      display: block;\n      width: 20px;\n      height: 4px;\n      margin-top: 4px;\n      background-color: #fff;\n      border-radius: 2px;\n      &:first-child {\n        margin-top: 0;\n      }\n    }\n  }\n\n  .btn-head {\n    display: block;\n    padding: 0;\n    margin: 0;\n    outline-style: none;\n    border: none;\n    background: transparent;\n    color: #ffffff;\n    font-size: 13px;\n    flex-grow: 1;\n    &.active {\n      background: #5e5e5e;\n    }\n    .badge {\n      background: #f51449;\n      font-size: 13px;\n      line-height: 1;\n      color: #fff;\n      border-radius: 9px;\n      padding: 2px 5px 3px;\n      min-width: 18px;\n      height: 18px;\n      overflow: hidden;\n      text-align: center;\n      vertical-align: middle;\n      display: inline-block;\n      text-indent: 0;\n      position: absolute;\n      top: -7px;\n      right: -10px;\n    }\n  }\n  .btn-icon {\n    width: 20px;\n    height: 20px;\n    min-width: 20px;\n    background-repeat: no-repeat;\n    text-indent: -9999px;\n    // background-size: 240px;\n    // background-image: url(\"../assets/spr_header_2x.png\");\n    display: inline-block;\n    vertical-align: top;\n    margin-right: 6px;\n    position: relative;\n    &.rent-house-icon {\n      background-position: -220px 0;\n    }\n    &.my-booking-icon {\n      background: none;\n      text-indent: 0;\n      .icon-wps-message {\n        color: #afafaf;\n        font-size: 20px;\n        position: absolute;\n        top: -1px;\n        left: -2px;\n      }\n    }\n    &.wallet-icon {\n      background-position: -60px 0;\n    }\n  }\n}\n.popup {\n  // position: absolute;\n  // left: 0;\n  // top: 50px;\n  width: 100%;\n  z-index: 200;\n  background: #333;\n  border: 1px solid #444;\n  color: #ffffff;\n  font-size: 14px;\n  padding: 5px 0;\n  a {\n    color: #ffffff;\n  }\n}\n</style>\n","<template>\n  <div class=\"header-wl__items\" :class=\"{ open }\">\n    <a \n      href=\"https://cian.ru/snyat/\"\n      class=\"header-wl-item link\"\n      target=\"_blank\"\n    >Аренда</a>\n    <a \n      href=\"https://cian.ru/kupit/\"\n      class=\"header-wl-item link\"\n      target=\"_blank\"\n    >Продажа</a>\n    <a\n      href=\"https://cian.ru/novostrojki/\"\n      class=\"header-wl-item link\"\n      target=\"_blank\"\n    >Новостройки</a>\n    <a\n      href=\"https://cian.ru/commercial/\"\n      class=\"header-wl-item link\"\n      target=\"_blank\"\n    >Коммерческая</a>\n    <a\n      href=\"https://cian.ru/kalkulator-nedvizhimosti/\"\n      class=\"header-wl-item link\"\n      target=\"_blank\"\n    >Оценка</a>\n    <a\n      href=\"https://cian.ru/ipoteka-main\"\n      class=\"header-wl-item link\"\n      target=\"_blank\"\n    >Ипотека</a>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"MenuItems\",\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.header-wl {\n\n  &__items {\n    display: flex;\n    align-items: center;\n  }\n\n  &-item {\n    margin-right: 16px;\n    // color: #ffffff;\n    display: block;\n    height: 70px;\n    line-height: 70px;\n    font-size: 14px;\n    position: relative;\n\n    &:before {\n      content: '';\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      height: 4px;\n      background: #ced1d7;\n      opacity: 0;\n    }\n\n    &:hover {\n      &:before {\n        opacity: 1;\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"header-wl\">\n    <a href=\"/\" title=\"\" class=\"logo\">\n      <img class=\"logo-image\" :src=\"logoLink\" alt=\"\" loading=\"lazy\" />\n    </a>\n    <button\n      class=\"burger\"\n      @click=\"openMenu\"\n    >\n      <div class=\"burger-line\"></div>\n      <div class=\"burger-line\"></div>\n      <div class=\"burger-line\"></div>\n    </button>\n    <MenuItems :open=\"menu\"/>\n  </div>\n</template>\n\n<script>\nimport VueCookies from \"vue-cookies\";\nimport MenuItems from './MenuItems.vue'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: \"HeaderWhiteLabel\",\n  components: {\n    MenuItems\n  },\n  data(){\n    return {\n      menu: false\n    }\n  },\n  computed: {\n    ...mapState(\"user\", [\"whitelabel\"]),\n    logoLink() {\n      return `https://storage.yandexcloud.net/whitelabel.sutochno.ru/${this.whitelabel?.name}/images/logo.svg`;\n    },\n  },\n  methods: {\n    openMenu() {\n      this.menu = !this.menu\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.header-wl {\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: 100%;\n  font-size: 13px;\n\n  div {\n    height: inherit;\n    margin: 0 5px;\n  }\n\n  .logo {\n    height: inherit;\n    margin-left: 20px;\n\n    &-image {\n      min-height: 1px;\n      width: 171px;\n      align-self: center;\n    }\n  }\n}\n\n.burger {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  margin: 0 0 0 auto;\n  border: none;\n  font-size: 0;\n  line-height: 0;\n  background: transparent;\n  outline-style: none;\n  border-radius: 0;\n  box-shadow: none;\n  height: 70px;\n  width: 60px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  outline: none;\n\n  &:hover,\n  &:active,\n  &:focus {\n    background: none;\n    box-shadow: none;\n    outline: none;\n    background: #f1f1f1;\n  }\n  &:active:focus {\n    box-shadow: none;\n  }\n  .burger-line {\n    display: block;\n    width: 25px;\n    height: 4px;\n    background-color: #484848;\n    margin: 4px 0 0 0;\n    // border-radius: 2px;\n    &:first-child {\n      margin-top: 0;\n    }\n  }\n}\n</style>\n","<template>\n  <ul class=\"header-grandtrain__items\" :class=\"{ open }\">\n    <li class=\"header-grandtrain-item\">\n      <a \n        href=\"https://grandtrain.ru/\"\n        class=\"link\"\n        target=\"_blank\"\n      >Купить билет</a>\n    </li>\n    <li class=\"header-grandtrain-item\">\n      <a \n        href=\"https://grandtrain.ru/raspisanie/\"\n        class=\"link\"\n        target=\"_blank\"\n      >Расписание</a>\n    </li>\n    <li class=\"header-grandtrain-item dropdown\">\n      <a\n        :href=\"viewPort === 'desktop' ? `https://grandtrain.ru/trains/` : null\"\n        class=\"link\"\n        target=\"_blank\"\n        @click=\"view.train = !view.train\"\n      >Поезда</a>\n      <ul class=\"header-grandtrain__submenu\" v-show=\"view.train || viewPort === 'desktop'\">\n        <li>\n          <a \n            href=\"https://grandtrain.ru/trains/ge/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Гранд Экспресс</a>\n        </li>\n        <li>\n          <a \n            href=\"https://grandtrain.ru/trains/tav/\"\n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Таврия</a>\n        </li>\n      </ul>\n    </li>\n    <li class=\"header-grandtrain-item dropdown\">\n      <a\n        :href=\"viewPort === 'desktop' ? `https://grandtrain.ru/passazhiram/` : null\"\n        class=\"link\"\n        target=\"_blank\"\n        @click=\"view.passanger = !view.passanger\"\n      >Пассажирам</a>\n      <ul class=\"header-grandtrain__submenu\" v-show=\"view.passanger || viewPort === 'desktop'\">\n        <li>\n          <a \n            href=\"https://grandtrain.ru/vozvrat-biletov/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Возврат билетов</a>\n        </li>\n        <li>\n          <a \n            href=\"https://grandtrain.ru/obratnaya-svyaz/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Обратная связь</a>\n        </li>\n        <li>\n          <a \n            href=\"https://grandtrain.ru/passazhiram/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Частые вопросы</a>\n        </li>\n        <li>\n          <a \n            href=\"https://grandtrain.ru/sales/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Акции и льготы</a>\n        </li>\n      </ul>\n    </li>\n    <li class=\"header-grandtrain-item dropdown\">\n      <a\n        :href=\"viewPort === 'desktop' ? `https://grandtrain.ru/uslugi/` : null\"\n        class=\"link\"\n        target=\"_blank\"\n        @click=\"view.service = !view.service\"\n      >Услуги</a>\n      <ul class=\"header-grandtrain__submenu\" v-show=\"view.service || viewPort === 'desktop'\">\n        <li>\n          <a \n            href=\"https://grandtrain.ru/uslugi/individualnoe-puteshestvie/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Индивидуальное путешествие</a>\n        </li>\n        <li>\n          <a \n            href=\"https://grandtrain.ru/biznes-zaly/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Бизнес-залы</a>\n        </li>\n        <li>\n          <a \n            href=\"https://grandtrain.ru/uslugi/pitanie/tavria/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Питание в поездах Таврия</a>\n        </li>\n        <li>\n          <a \n            href=\"https://grandtrain.ru/uslugi/perevozka-avtomobilya/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Автомобилевозы</a>\n        </li>\n      </ul>\n    </li>\n    <li class=\"header-grandtrain-item dropdown\">\n      <a\n        :href=\"viewPort === 'desktop' ? `https://grandtrain.ru/o-kompanii/` : null\"\n        class=\"link\"\n        target=\"_blank\"\n        @click=\"view.about = !view.about\"\n      >О компании</a>\n      <ul class=\"header-grandtrain__submenu\" v-show=\"view.about || viewPort === 'desktop'\">\n        <li>\n          <a \n            href=\"https://grandtrain.ru/news/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Новости</a>\n        </li>\n        <li>\n          <a \n            href=\"https://grandtrain.ru/o-kompanii/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Миссия и ценности</a>\n        </li>\n        <li>\n          <a \n            href=\"https://grandtrain.ru/blagotvoritelnost/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Благотворительность</a>\n        </li>\n        <li>\n          <a \n            href=\"https://grandtrain.ru/oprosy/\" \n            class=\"header-grandtrain__submenu-item\"\n            target=\"_blank\"\n          >Опросы</a>\n        </li>\n      </ul>\n    </li>\n    <li class=\"header-grandtrain-item\">\n      <a\n        href=\"https://grandtrain.ru/avtobusnye-perevozki-v-krumy/\"\n        class=\"link\"\n        target=\"_blank\"\n      >Автобусные перевозки</a>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  name: \"MenuItems\",\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      view: {\n        train: false,\n        passanger: false,\n        service: false,\n        about: false\n      }\n    }\n  },\n  computed: {\n    ...mapState(\"user\", [\"viewPort\"]),\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.header-grandtrain {\n\n}\n</style>\n","<template>\n  <div class=\"header-grandtrain\">\n    <a href=\"/\" title=\"\" class=\"logo\">\n      <img class=\"logo-image\" :src=\"logoLink\" alt=\"\" loading=\"lazy\" />\n    </a>\n    <button\n      class=\"burger\"\n      @click=\"openMenu\"\n    >\n      <div class=\"burger-line\"></div>\n      <div class=\"burger-line\"></div>\n      <div class=\"burger-line\"></div>\n    </button>\n    <MenuItems :open=\"menu\"/>\n  </div>\n</template>\n\n<script>\nimport VueCookies from \"vue-cookies\";\nimport MenuItems from './MenuItems.vue'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: \"HeaderWhiteLabel\",\n  components: {\n    MenuItems\n  },\n  data(){\n    return {\n      menu: false\n    }\n  },\n  computed: {\n    ...mapState(\"user\", [\"viewPort\", \"whitelabel\"]),\n    logoLink() {\n      return `https://storage.yandexcloud.net/whitelabel.sutochno.ru/${this.whitelabel?.name}/images/logo.svg`;\n    },\n  },\n  methods: {\n    openMenu() {\n      this.menu = !this.menu\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n</style>\n","<template>\n  <div class=\"header-wl-wrap\">\n    <BaseDisconnect />\n    <template v-if=\"whitelabel\">\n      <Cian v-if=\"whitelabel.name === 'cian'\" />\n      <Grandtrain v-if=\"whitelabel.name === 'grandtrain'\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport BaseDisconnect from \"../Base/BaseDisconnect.vue\";\nimport Cian from \"./cian/index.vue\";\nimport Grandtrain from \"./grandtrain/index.vue\";\nimport { mapState } from 'vuex'\n\nexport default {\n  name: \"HeaderWhiteLabel\",\n  components: {\n    BaseDisconnect,\n    Cian,\n    Grandtrain\n  },\n  computed: {\n    ...mapState(\"user\", [\"whitelabel\"])\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.header-wl-wrap {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","<i18n>\n{\n  \"en\": {\n    \"Cron_OrderAutoRejectUnreadOwner_title\": \"Reservation request cancelled\",\n    \"Cron_OrderAutoRejectUnreadOwner_body\": \"Application №{sevenId} annulled: you did not make a decision in time.New booking message\",\n    \"Cron_OrderAutoRejectUnreadOwner_btn\": \"To access the correspondence\",\n\n    \"OrdersCancelByClient_title\": \"The client canceled the application\",\n    \"OrdersCancelByClient_body\": \"Application №{sevenId} cancelled by the customer.\",\n    \"OrdersCancelByClient_btn\": \"To access the correspondence\",\n\n    \"OrdersNewMessage_title\": \"New booking message\",\n    \"OrdersNewMessage_body\": \"New booking message №{sevenId}\",\n    \"OrdersNewMessage_btn\": \"Read the message\"\n  },\n  \"ru\": {\n    \"Cron_OrderAutoRejectUnreadOwner_title\": \"Заявка на бронь аннулирована\",\n    \"Cron_OrderAutoRejectUnreadOwner_body\": \"Заявка №{sevenId} аннулирована: вы не приняли решение вовремя.Новое сообщение по бронированию\",\n    \"Cron_OrderAutoRejectUnreadOwner_btn\": \"Открыть переписку\",\n\n    \"OrdersCancelByClient_title\": \"Клиент отменил заявку\",\n    \"OrdersCancelByClient_body\": \"Заявка №{sevenId} отменена клиентом.\",\n    \"OrdersCancelByClient_btn\": \"Открыть переписку\",\n\n    \"OrdersNewMessage_title\": \"Новое сообщение по бронированию\",\n    \"OrdersNewMessage_body\": \"Новое сообщение по бронированию №{sevenId}\",\n    \"OrdersNewMessage_btn\": \"Прочитать сообщение\"\n  }\n}\n</i18n>\n<template>\n  <transition name=\"message--fade\">\n    <div v-if=\"visible && body\" class=\"orders-message\" :class=\"bgColor\">\n      <div class=\"orders-message--header\">\n        {{ title }}\n      </div>\n      <div class=\"orders-message--body\">\n        {{ body }}\n      </div>\n      <div class=\"orders-message--footer\">\n        <a :href=\"`/cabinet/notices/${sevenId}/`\" :class=\"bgColor\">{{ btn }}</a>\n      </div>\n      <div class=\"orders-message--close\" @click=\"hide\"></div>\n    </div>\n  </transition>\n</template>\n\n<script>\nexport default {\n  name: \"ModalMessage\",\n  props: {\n    token: {\n      type: String,\n      default: \"\",\n    },\n    sevenId: {\n      type: String,\n      defauld: \"\",\n    },\n  },\n  data() {\n    return {\n      visible: true,\n      title: \"\",\n      body: \"\",\n      btn: \"\",\n      bgColor: \"\",\n    };\n  },\n  mounted() {\n    switch (this.token) {\n      // Заявка на бронь аннулирована\n      case \"Cron_OrderAutoRejectUnreadOwner\":\n        this.title = this.$t(\"Cron_OrderAutoRejectUnreadOwner_title\");\n        this.body = this.$t(\"Cron_OrderAutoRejectUnreadOwner_body\", {\n          sevenId: this.sevenId,\n        });\n        this.btn = this.$t(\"Cron_OrderAutoRejectUnreadOwner_btn\");\n        this.bgColor = \"red\";\n        break;\n      // Клиент отменил заявку\n      case \"OrdersCancelByClient\":\n        this.title = this.$t(\"OrdersCancelByClient_title\");\n        this.body = this.$t(\"OrdersCancelByClient_body\", {\n          sevenId: this.sevenId,\n        });\n        this.btn = this.$t(\"OrdersCancelByClient_btn\");\n        this.bgColor = \"red\";\n        break;\n      // Новое сообщение по бронированию\n      case \"OrdersNewMessage\":\n        this.title = this.$t(\"OrdersNewMessage_title\");\n        this.body = this.$t(\"OrdersNewMessage_body\", { sevenId: this.sevenId });\n        this.btn = this.$t(\"OrdersNewMessage_btn\");\n        break;\n    }\n  },\n  methods: {\n    show() {\n      this.visible = true;\n    },\n    hide() {\n      this.visible = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.message--fade-enter-active,\n.message--fade-leave-active {\n  opacity: 1;\n  transition: opacity 0.35s ease;\n}\n.message--fade-enter,\n.message--fade-leave-to {\n  opacity: 0;\n}\n.orders-message {\n  position: relative;\n  background-color: #fff;\n  border: 1px solid #d9d9d9;\n  color: #444;\n  padding: 20px 40px 20px 20px;\n  width: 320px;\n  margin-bottom: 20px;\n  &.red {\n    background-color: #fee;\n    border: 1px solid #ffd6d6;\n  }\n  &.green {\n    background-color: #f9fffa;\n    border: 1px solid #d2e2d1;\n  }\n  &--header {\n    font-size: 17px;\n    line-height: 1;\n    margin-bottom: 12px;\n  }\n  &--body {\n    margin-bottom: 5px;\n    font-size: 15px;\n    line-height: 20px;\n  }\n  &--footer {\n    a {\n      display: inline-block;\n      vertical-align: top;\n      font-size: 14px;\n      line-height: 16px;\n      border-radius: 3px;\n      color: #3e76a5;\n      text-decoration: none;\n      background: #fff;\n      border: 1px solid #3e76a5;\n      padding: 8px 20px;\n      &.red {\n        color: #000;\n        background-color: #ffd0d0;\n        border: 1px solid #dc7a7a;\n      }\n      &.green {\n        background-color: #f9fffa;\n        border: 1px solid #d2e2d1;\n      }\n    }\n  }\n  &--close {\n    cursor: pointer;\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    width: 16px;\n    height: 16px;\n    &:after,\n    &:before {\n      content: \"\";\n      display: block;\n      width: 16px;\n      height: 1px;\n      background: #555;\n      position: absolute;\n      top: 0;\n      left: 0;\n      margin: 7px 0 0;\n    }\n    &:after {\n      transform: rotate(-45deg);\n    }\n    &:before {\n      transform: rotate(45deg);\n    }\n  }\n}\n</style>\n","<i18n>\n{\n  \"en\": {\n  },\n  \"ru\": {\n  }\n}\n</i18n>\n<template>\n  <div ref=\"modalNotice\" class=\"modal-notice\">\n    <Modal\n      id=\"BootstrapModalWindow\"\n      v-model=\"noteGiveReview\"\n      class=\"give-review\"\n      :title=\"title\"\n      :min-width=\"'630px'\"\n      :max-width=\"'750px'\"\n      @close=\"readNotice()\"\n    >\n      <template v-if=\"notices && notices[0] && modal\">\n        <div slot=\"head\" v-html=\"modal.header\"></div>\n        <div class=\"modal-body\" v-html=\"modal.text\"></div>\n        <div slot=\"footer\" v-html=\"modal.footer\"></div>\n      </template>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { Polling } from \"../API/index.js\";\nimport Modal from \"@sutochno/modal\";\nimport VueCookies from \"vue-cookies\";\n\nexport default {\n  name: \"ModalNotice\",\n  components: {\n    Modal,\n  },\n  data() {\n    return {\n      notices: [],\n      noteGiveReview: false,\n      modal: null,\n    };\n  },\n  computed: {\n    ...mapState(\"user\", [\"userData\", \"isAuth\"]),\n    title() {\n      return this.modal?.title || \"\";\n    },\n  },\n  watch: {\n    isAuth(val) {\n      if (val) {\n        this.init();\n      }\n    },\n  },\n  methods: {\n    init() {\n      Polling.getNewNotices().then((response) => {\n        if (response?.data?.data?.notices?.length) {\n          this.notices = response.data.data.notices;\n          this.noteGiveReview = true;\n          if (this.notices[0].type == \"modal\") {\n            let params = JSON.parse(this.notices[0].params);\n            if (params) {\n              params.id = this.notices[0].id;\n              // eslint-disable-next-line prettier/prettier\n              const \n                // eslint-disable-next-line prettier/prettier\n                // все элементы перед этим пойдут в header окна\n                HEADER = \"<!--[/HEADER]-->\",\n                //\n                // все элементы после этого пойдут в footer окна\n                FOOTER = \"<!--[FOOTER]-->\",\n                // класс элемента в окне, при клике на который окно будет считаться прочитанным\n                READ = \"jsn-button-mark-read\",\n                //\n                // класс к любому элементу в окне, если нужно чтобы оно считалось непрочитанным\n                DONT_READ = \"jsn-dont-mark-read\",\n                //\n                // класс к элементу, чтобы при закрытии окна считать его непрочитанным и\n                // отложить следующий показ на время указанное в атрибуте data-delay элемента\n                DELAY = \"jsn-button-mark-close-delay\";\n              //\n              // header\n              if (!!!params.title && params.text.indexOf(HEADER) > -1) {\n                params.header = params.text.substring(\n                  0,\n                  params.text.indexOf(HEADER)\n                );\n                params.text = params.text.substring(\n                  params.text.indexOf(HEADER) + HEADER.length,\n                  params.text.length\n                );\n              }\n              //\n              //footer\n              if (params.text.indexOf(FOOTER) > -1) {\n                params.footer = params.text.substring(\n                  params.text.indexOf(FOOTER),\n                  params.text.length\n                );\n                params.text = params.text.substring(\n                  0,\n                  params.text.indexOf(FOOTER)\n                );\n              }\n              //\n              // поиск классов в тексте\n              const FULL_TEXT = `${\n                params.header + params.text + params.footer\n              }`;\n              params.read = !FULL_TEXT.includes(DONT_READ);\n              this.modal = params;\n              this.$nextTick(() => {\n                const MODAL = this.$refs.modalNotice;\n                //\n                // поиск времени для куки\n                this.modal.delay =\n                  MODAL.getElementsByClassName(DELAY)[0]?.getAttribute(\n                    \"data-delay\"\n                  ) || 0;\n                if (this.modal.delay > 0) this.modal.read = true;\n                //\n                // поиск элементов по клику на которые будем отправлять запрос о прочтении\n                this.$refs.modalNotice\n                  .getElementsByClassName(READ)\n                  ?.forEach((e) => (e.onclick = () => this.readNotice()));\n              });\n            }\n          }\n        }\n      });\n    },\n    parseData(value) {\n      let text = value;\n      text = text.replace(/^=/, \"\");\n      text = decodeURIComponent(text);\n      text = text.replace(/\\\\'/g, \"'\");\n      return JSON.parse(text);\n    },\n    readNotice() {\n      if (this.modal?.read) {\n        Polling.setNoticeRead(this.modal.id)\n          .then((response) => {\n            if (response.data.success) {\n              const { host } = window.location;\n              let newHost = host;\n              newHost = newHost.split(\".\");\n              if (newHost.length >= 3) {\n                newHost = newHost.slice(1);\n              }\n              newHost = newHost.join(\".\");\n              VueCookies.set(\n                `note_delay['${this.modal.id}']`,\n                this.modal.id,\n                `${this.modal.delay}h`,\n                \"/\",\n                `.${newHost}`\n              );\n            } else {\n              console.log(\"setNoticeRead -\", \"Ajax error:\", \"success: false\");\n            }\n          })\n          .catch((error) => {\n            console.log(\"setNoticeRead -\", \"Ajax error:\", error);\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-body {\n  padding: 20px;\n  .desktop & {\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n}\n.give-review {\n  &__body {\n  }\n  ::v-deep {\n    p {\n      margin: 0 0 10.5px;\n    }\n    .text-center {\n      text-align: center;\n    }\n    .star {\n      display: inline-block;\n      background-size: contain !important;\n      background-position: 0 0 !important;\n      opacity: 0.2;\n      &-full {\n        background-image: url(\"../assets/big-star.svg\") !important;\n      }\n      &-empty {\n        background-image: url(\"../assets/big-star-stroke.svg\") !important;\n      }\n    }\n    .modal-review-content {\n      margin-bottom: 0 !important;\n      margin-top: 0!important;\n    }\n    .primary-title {\n      font-size: 22px;\n      line-height: 26px;\n    }\n    .visible-inline-block {\n      display: inline-block !important;\n    }\n    .rating-list {\n      margin: 0;\n      padding: 0;\n      list-style: none;\n      display: block;\n      overflow: hidden;\n    }\n  }\n}\n::v-deep .sc-modal-head {\n  .modal-review-content {\n    @media (max-width: 767px) {\n      padding-top: 20px;\n      margin-top: 30px!important;\n      margin-bottom: -10px!important;\n    }\n  }\n}\n</style>\n","<i18n>\n{\n  \"en\": {\n    \"ok\": \"Okey\"\n  },\n  \"ru\": {\n    \"ok\": \"Понятно\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"modal-bonus\" v-if=\"modalData\">\n    <BaseModal \n      ref=\"bonusModal\"\n      v-model=\"bonusView\" \n      class=\"modal-bonus\"\n      :title=\"modalData && modalData.bonus_title ? modalData.bonus_title : ''\"\n      @close=\"closeBonus\"\n    >\n      <div class=\"modal-bonus__body\">\n        <div v-html=\"modalData.bonus_text\" class=\"modal-body\"></div>\n        <div class=\"modal-footer\">\n          <button class=\"button button_blue\"  @click=\"closeBonus\">{{ $t('ok') }}</button>\n        </div>\n      </div>\n    </BaseModal>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\nimport { Payments } from \"../API/index.js\";\nimport BaseModal from '../Base/BaseModal.vue';\n\n\nexport default {\n  name: \"ModalBonus\",\n  props: {\n    bonus: {\n      default: null\n    }\n  },\n  components: {\n    BaseModal\n  },\n  data() {\n    return {\n      bonusView: false,\n      modalData: null\n    };\n  },\n  watch: {\n    isAuth(val) {\n      if (val) {\n        this.init();\n      }\n    },\n  },\n  computed: {\n    ...mapState(\"user\", [\"userData\", \"isAuth\"])\n  },\n  methods: {\n    ...mapActions(\"user\", [\"loadUserData\", \"initSessionDomain\"]),\n    init() {\n      Payments.testPayedBonus({\n        serviceName: this.bonus\n      })\n        .then(res => {\n          const data = res.data.data;\n          this.modalData = data;\n          setTimeout(() => {\n            this.bonusView = true;\n            this.$refs.bonusModal.show();\n            if(data.bonus === 1){\n              this.loadUserData()\n                .then(() => {\n                  if (!this.isAuth) {\n                    this.initSessionDomain();\n                  }\n                })\n                .catch((err) => {\n                  console.log(err);\n                });\n            }\n          }, 0);\n        })\n    },\n    closeBonus() {\n      this.bonusView = false;\n      let query = Object.assign({}, this.$route.query);\n      if(query.bonus) {\n        history.replaceState(null, document.title, location.pathname)\n      }\n      this.$emit(\"bonus\", null);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.desktop .modal-bonus{\n  .base-modal-wrap{\n    min-width: auto !important;\n  }\n\n  .base-modal-header {\n    padding: 0 40px;\n    display: grid;\n    justify-items: center;\n    overflow: hidden; \n  }\n\n  .modal{\n    &-body{\n      padding: 0 20px 20px; \n    }\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\np {\n  margin: 0;\n}\n.modal {\n  &-header {\n    padding-top: 0;\n    padding-bottom: 0;\n    border: none;\n    position: relative;\n    min-height: 43px;\n  }\n  &-body {\n    position: relative;\n    padding: 20px;\n  }\n  &-footer {\n    display: grid;\n    justify-items: center;\n    border: none;\n    padding: 0 20px 20px;\n    z-index: 9999 !important;\n  }\n}\n.give-review {\n  &__body {\n  }\n  ::v-deep {\n    p {\n      margin: 0 0 10.5px;\n    }\n    .text-center {\n      text-align: center;\n    }\n    .star {\n      display: inline-block;\n      background-size: contain !important;\n      background-position: 0 0 !important;\n      opacity: 0.2;\n      &-full {\n        background-image: url(\"../assets/big-star.svg\") !important;\n      }\n      &-empty {\n        background-image: url(\"../assets/big-star-stroke.svg\") !important;\n      }\n    }\n    .modal-review-content {\n      // margin-bottom: 0 !important;\n    }\n    .primary-title {\n      font-size: 22px;\n      line-height: 26px;\n    }\n    .visible-inline-block {\n      display: inline-block !important;\n    }\n    .rating-list {\n      margin: 0;\n      padding: 0;\n      list-style: none;\n      display: block;\n      overflow: hidden;\n    }\n  }\n}\n</style>\n","<i18n>\n{\n  \"en\": {\n    \"WriteToMe\": \"User is writing to you...\"\n  },\n  \"ru\": {\n    \"WriteToMe\": \"Вам пишут сообщение...\"\n  }\n}\n</i18n>\n<template>\n  <div class=\"modal-message\">\n\n    <template v-if=\"bonus\">\n      <ModalBonus :bonus.sync=\"bonus\"/>\n    </template>\n    <template v-else-if=\"!bonus\">\n      <ModalNotice />\n    </template>\n\n    <template v-if=\"notices.length\">\n      <ModalMessage\n        v-for=\"(item, index) in notices\"\n        :key=\"index\"\n        :token=\"item.token\"\n        :seven-id=\"item.seven_id\"\n      />\n    </template>\n    <transition name=\"message--fade\">\n      <div v-if=\"writeToMe\" class=\"write-to-me\">\n        {{ $t(\"WriteToMe\") }}\n      </div>\n    </transition>\n\n  </div>\n</template>\n\n<script>\nimport ModalMessage from \"./ModalMessage.vue\";\nimport { mapState, mapActions } from \"vuex\";\nimport { Polling } from \"../API/index.js\";\nimport ModalNotice from './ModalNotice.vue';\nimport ModalBonus from './ModalBonus.vue';\n\n\nexport default {\n  name: \"BasePushNotice\",\n  components: {\n    ModalMessage,\n    ModalNotice,\n    ModalBonus\n  },\n  data() {\n    return {\n      notices: [],\n      writeToMe: false,\n      bonus: null\n    };\n  },\n  computed: {\n    ...mapState(\"user\", [\"userData\", \"isAuth\", \"isDocumentHidden\"]),\n  },\n  watch: {\n    isAuth(val) {\n      if (val) {\n        //  && process.env.NODE_ENV === \"production\"\n        //this.init();\n      }\n    },\n    writeToMe(val) {\n      if (val) {\n        setTimeout(() => {\n          this.writeToMe = false;\n        }, 5000);\n      }\n    },\n  },\n  mounted() {\n    this.bonus = this.findGetParameter('bonus');\n  },\n  methods: {\n    ...mapActions(\"user\", [\"loadUserData\"]),\n    findGetParameter(parameterName) {\n      var result = null,\n          tmp = [];\n      location.search\n          .substr(1)\n          .split(\"&\")\n          .forEach(function (item) {\n            tmp = item.split(\"=\");\n            if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);\n          });\n      return result;\n    },\n    initMethodPlatform(method, orderId) {\n      // вызываем методы с платформы, стр. /cabinet/notices/<order_id>\n\n      // перезагружает переписку с сообщениями\n      if (method === \"initMessagesOrder\" && typeof initMessagesOrder === \"function\") {\n        initMessagesOrder(orderId)\n      }\n\n      // перезагружает всю заявку с сообщениями и блоками написания/подтверждения/отмены\n      if (method === \"initOrderData\" && typeof initOrderData === \"function\") {\n        initOrderData(orderId)\n      }\n    },\n    init() {\n      let pathUrl = document.location.pathname.split('/')\n      let orderId = pathUrl[3]\n      // isCabinetNotices --- находимся ли на стр. /cabinet/notices/<order_id>\n      let isCabinetNotices = (pathUrl[1] === \"cabinet\" && pathUrl[2] === \"notices\" && orderId !== \"\") ? true : false;\n      let isCalendar = pathUrl.findIndex(item => item === \"calendar\")\n      let isTop = pathUrl.findIndex(item => item === \"top\")\n\n      if (isCalendar === -1 && isTop === -1) {\n        const apiPolling = (callback = null) => {\n          Polling.pushUser({\n            userId: this.userData.user.id,\n          })\n            .then((response) => {\n              if (response.data) {\n                if (!this.isDocumentHidden) apiPolling(callback);\n                if (callback) callback(response);\n              }\n            })\n            .catch((error) => {\n              if (!this.isDocumentHidden) apiPolling(callback);\n            });\n        };\n\n        apiPolling((res) => {\n          if (res.data) {\n            let dataCallback = this.parseData(res.data.text);\n\n            // Вам пишут сообщение...\n            if (dataCallback.callback == \"_writeToMe\") {\n              this.writeToMe = true;\n            }\n\n            // Пришли сообщения\n            if (dataCallback.token) {\n              Polling.getNewNotices()\n                      .then((response) => {\n                        if (response.data && response.data.data) {\n                          this.notices = response.data.data.notices;\n                        }\n                      })\n                      .catch((error) => {\n                        console.log(error);\n                      });\n\n              switch (dataCallback.token) {\n                case \"OrdersNewMessage\":\n                  if (isCabinetNotices) {\n                    this.initMethodPlatform('initMessagesOrder', orderId)\n                  } else {\n                    this.loadUserData();\n                  }\n                  break;\n                case \"OrdersNewBookingOwner\":\n                  this.loadUserData();\n                  break;\n                case \"OrdersPayedOwner\":\n                  if (isCabinetNotices) {\n                    this.initMethodPlatform('initOrderData', orderId)\n                  } else {\n                    this.loadUserData();\n                  }\n                  break;\n                case \"OrdersCancelByClient\":\n                  if (isCabinetNotices) {\n                    this.initMethodPlatform('initOrderData, orderId')\n                  } else {\n                    this.loadUserData();\n                  }\n                  break;\n                case \"OrdersCancelByOwner\":\n                  if (isCabinetNotices) {\n                    this.initMethodPlatform('initMessagesOrder', orderId)\n                  } else {\n                    this.loadUserData();\n                  }\n                  break;\n                case \"OrdersAcceptByOwner\":\n                  if (isCabinetNotices) {\n                    this.initMethodPlatform('initMessagesOrder', orderId)\n                  } else {\n                    this.loadUserData();\n                  }\n                  break;\n              }\n\n            }\n          }\n        });\n      }\n    },\n    parseData(value) {\n      let text = value;\n      text = text.replace(/^=/, \"\");\n      text = decodeURIComponent(text);\n      text = text.replace(/\\\\'/g, \"'\");\n      console.log(JSON.parse(text));\n      return JSON.parse(text);\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.message--fade-enter-active,\n.message--fade-leave-active {\n  opacity: 1;\n  transition: opacity 0.35s ease;\n}\n.message--fade-enter,\n.message--fade-leave-to {\n  opacity: 0;\n}\n\n.modal-message {\n  position: fixed;\n  z-index: 10;\n  bottom: 40px;\n  right: 10px;\n  max-height: calc(100% - 170px);\n  overflow-y: auto;\n  .write-to-me {\n    position: sticky;\n    bottom: 0;\n    right: 0;\n    z-index: 50;\n    background-color: #ededef;\n    border-color: #ededef;\n    color: #444;\n    padding: 10px 20px;\n    width: 204px;\n    float: right;\n  }\n}\n</style>\n","/**\n * @description вызывает событие event на element \n * @param {String} event \n * @param {Node} element \n */\nexport default (event, element) => {\n  const evt = new Event(event);\n  element.dispatchEvent(evt);\n}","import bridge from \"@vkontakte/vk-bridge\";\n\n/**\n * @description слушает событие OPEN_REGISTER и открывает форму регистрации\n * @param {Object} store - прокинуть хранилмще vuex\n * @param {DOM NODE} payload - элемент дом дерева на котором слушается событие OPEN_REGISTER\n */\nconst openRegister = (store, payload) => {\n  const {elem} = payload\n  elem.addEventListener('OPEN_REGISTER', () => {\n    store.commit(\"user/authStateMutate\", \"open\")\n  })\n}\n\n/**\n * @description слушает событие OPEN_REGISTER_BY_TELEPHONE и открывает форму регистрации по телефону\n * @param {Object} store - прокинуть хранилмще vuex\n * @param {DOM NODE} payload - элемент дом дерева на котором слушается событие OPEN_REGISTER_BY_TELEPHONE\n */\nconst registerByTelephone = (store, payload) => {\n  const {elem} = payload\n  elem.addEventListener('OPEN_REGISTER_BY_TELEPHONE', () => {\n    store.commit(\"user/authStateMutate\", \"registration\")\n  })\n}\n\n/**\n * @description слушает событие VK_GET_PHONE_NUMBER и вызывает запрос номера телефона пользователя в vk-mini-app\n * @param {Object} store - прокинуть хранилмще vuex\n * @param {DOM NODE} payload - элемент дом дерева на котором слушается событие VK_GET_PHONE_NUMBER\n */\n\nlet mountCount = 0\nconst vkGetUserPhoneNumber = (store, payload) => {\n  const {elem} = payload\n  mountCount++\n\n  if (mountCount === 1) {\n    elem.addEventListener('VK_GET_PHONE_NUMBER', () => {\n      bridge\n          .send(\"VKWebAppGetPhoneNumber\", {})\n          .then((res) => {\n            //alert(JSON.stringify(res));//debug vk-app-bridge\n            store.commit(\"user/vkAppInfoMutate\", {phone_number: res.phone_number})\n          });\n    })\n  }\n}\n\n/**\n * @description слушает событие VK_GET_USER_INFO и вызывает запрос инф-и пользователя в vk-mini-app\n * @param {Object} store - прокинуть хранилмще vuex\n * @param {DOM NODE} payload - элемент дом дерева на котором слушается событие VK_GET_USER_INFO\n */\nconst VKWebAppGetUserInfo = (store, payload) => {\n  const {elem} = payload\n  elem.addEventListener('VK_GET_USER_INFO', () => {\n    bridge\n      .send(\"VKWebAppGetUserInfo\", {})\n      .then((res) => {\n        //alert(JSON.stringify(res));//debug vk-app-bridge\n        store.commit(\"user/vkAppInfoMutate\", {first_name: res.first_name})\n      });\n    \n  })\n}\n\n/**\n * @description слушает событие VK_GET_USER_MAIL и вызывает запрос инф-и email пользователя в vk-mini-app\n * @param {Object} store - прокинуть хранилмще vuex\n * @param {DOM NODE} payload - элемент дом дерева на котором слушается событие VK_GET_USER_MAIL\n */\nconst VKWebAppGetEmailResult = (store, payload) => {\n  const {elem} = payload\n  elem.addEventListener('VK_GET_USER_MAIL', () => {\n    bridge\n      .send(\"VKWebAppGetEmailResult\", {})\n      .then((res) => {\n        // alert(JSON.stringify(res)); //debug vk-app-bridge\n        store.commit(\"user/vkAppInfoMutate\", {email: res.email})\n      });\n    \n  })\n}\n\nlet callCount = 0\nconst isDocumentHidden = (store, payload) => {\n  callCount++\n  if (callCount === 1) {\n    const {elem} = payload\n    elem.addEventListener(\"visibilitychange\", function(){\n      if (elem.hidden){\n        store.commit(\"user/setIsDocumentHidden\", true)\n      } else {\n        store.commit(\"user/setIsDocumentHidden\", false)\n      }\n    });\n  }\n}\n\nexport {\n  openRegister,\n  registerByTelephone,\n  vkGetUserPhoneNumber,\n  VKWebAppGetUserInfo,\n  VKWebAppGetEmailResult,\n  isDocumentHidden\n}\n","<i18n>\n{\n  \"ru\": {\n    \"enterEmail\": \"Укажите электронную почту\",\n    \"confirmEmail\": \"Подтвердите электронную почту\",\n    \"note\": \"Вы сможете получать важные уведомления и защитить свой аккаунт.\",\n    \"placeholder\": \"Введите e-mail\",\n    \"btn\": \"Подтвердить e-mail\",\n    \"resendLetterText\": \"Перейдите по ссылке из письма, которое мы отправили Вам на \",\n    \"resendLetterText2\": \"Если письмо не пришло, запросите повторную отправку.\",\n    \"resendLetter\": \"Выслать письмо повторно\",\n    \"timerText\":\"Вы можете запросить письмо повторно через\",\n    \"minutes\": \" |{n} минуту |{n} минуты|{n} минут\",\n    \"seconds\": \" |{n} секунду |{n} секунды|{n} секунд\"\n  },\n  \"en\": {\n    \"enterEmail\": \"Enter your email\",\n    \"confirmEmail\": \"Confirm Email\",\n    \"note\": \"You will be able to receive important notifications and protect your account.\",\n    \"placeholder\": \"Enter your e-mail\",\n    \"btn\": \"Confirm e-mail\",\n    \"resendLetterText\": \"Follow the link from the letter that we sent you to \",\n    \"resendLetterText2\": \"If the letter has not arrived, request a re-sending.\",\n    \"resendLetter\": \"Resend the letter\",\n    \"timerText\":\"You can request a letter again through\",\n    \"minutes\": \" |{n} minute |{n} minutes|{n} minutes\",\n    \"seconds\": \" |{n} second |{n} seconds|{n} seconds\"\n  }\n}\n</i18n>\n<template>\n  <Modal\n    ref=\"addEmail\"\n    :title=\"modalTitle\"\n    class=\"add-email\"\n    @close=\"close\"\n  >\n    <div class=\"add-email--body\">\n      <form v-if=\"!isFollowLink\" @submit.prevent=\"send\" class=\"add-email--field\">\n        <div class=\"add-email--note\">\n          {{ $t(\"note\") }}\n        </div>\n        <input\n          class=\"input-email\"\n          :placeholder=\"$t('placeholder')\"\n          type=\"email\"\n          v-model.trim=\"email\"\n          required\n        />\n        <b-button class=\"btn-blue\" type=\"submit\">{{ $t(\"btn\") }}</b-button>\n      </form>\n      <template v-else>\n        <p>\n          {{ $t(\"resendLetterText\") }}\n          <strong>{{ sentToEmail }}</strong>. <br />\n          {{ $t(\"resendLetterText2\") }}\n        </p>\n        <div class=\"btn-resend-letter\">\n          <b-button\n            class=\"btn-blue\"\n            :disabled=\"currentTime > 0 && isClickSendEmail\"\n            @click=\"sendEmail\"\n          >\n            {{ $t(\"resendLetter\") }}\n          </b-button>\n          <div class=\"timer\" v-show=\"currentTime > 0 && isClickSendEmail\">\n            {{ $t(\"timerText\") }}<br />\n            {{ $tc(\"minutes\", Math.floor(this.currentTime / 60)) }}\n            {{ $tc(\"seconds\", this.currentTime % 60) }}\n          </div>\n        </div>\n      </template>\n    </div>\n  </Modal>\n</template>\n\n<script>\nimport VueCookies from \"vue-cookies\";\nimport Modal from \"@sutochno/modal\";\nimport { mapState } from \"vuex\";\nimport API from \"../API/index\";\n\nexport default {\n  name: \"AddEmailModal\",\n  components: {\n    Modal,\n  },\n  mounted() {\n    if (this.isAuth) {\n      this.init();\n    }\n  },\n  watch: {\n    isAuth(val) {\n      if (val) {\n        this.init();\n      }\n    },\n  },\n  data() {\n    return {\n      email: \"\",\n      sentToEmail: \"\",\n      currentTime: 0,\n      timer: null,\n      isModal: false,\n      isRequestApprove: false,\n      isFollowLink: false,\n      isClickSendEmail: false,\n    };\n  },\n  computed: {\n    ...mapState(\"user\", [\"userData\", \"isAuth\"]),\n    modalTitle() {\n      if (this.sentToEmail) {\n        return this.$t(\"confirmEmail\");\n      } else {\n        return this.$t(\"enterEmail\");\n      }\n    },\n  },\n  methods: {\n    show() {\n      this.$refs.addEmail.show();\n    },\n    close() {\n      VueCookies.set(\"email-modal\", true, \"1d\");\n    },\n    init() {\n      this.isModal = VueCookies.get(\"email-modal\");\n      let isConfirmed = this.userData.user.contacts.findIndex(item => item.type_name == 'email' && item.visible == '1' && item.check == '1')\n\n      if (!this.isModal && this.userData.user_is_owner > 0 && isConfirmed == -1) {\n        if (this.userData.email_modal) {\n          this.sentToEmail = this.userData.email_modal\n          this.email = this.userData.email_modal\n          this.isRequestApprove = true\n        }\n        this.show();\n      }\n    },\n    send() {\n      if (!this.isRequestApprove) {\n        let formData = new FormData();\n        formData.append(\"contactValue\", this.email);\n        formData.append(\"typeId\", \"1\");\n        formData.append(\"isLandline\", \"0\");\n        formData.append(\"version\", \"1\");\n\n        API.addContact(formData)\n          .then(() => {\n            this.requestApproveContact()\n          })\n          .catch((err) => console.log(err));\n      } else {\n        this.requestApproveContact()\n      }\n    },\n    requestApproveContact() {\n      let formData = new FormData();\n      formData.append(\"value\", this.email);\n      formData.append(\"version\", \"1\");\n\n      API.requestApproveContact(formData)\n        .then((res) => {\n          this.currentTime = res.data.data.timeout || 0;\n          this.startTimer();\n          this.isFollowLink = true\n        })\n        .catch((err) => console.log(err));\n    },\n    sendEmail() {\n      this.isClickSendEmail = true\n      if (this.currentTime === 0) {\n        this.requestApproveContact()\n      }\n    },\n    startTimer() {\n      if (!this.timer) {\n        this.timer = setInterval(() => {\n          if (this.currentTime > 0) {\n            this.currentTime--;\n          } else {\n            clearTimeout(this.timer);\n            this.timer = null;\n          }\n        }, 1000);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.add-email {\n  .desktop & {\n    ::v-deep .sc-modal-wrap {\n      padding: 0 10px;\n    }\n  }\n  .mobile & {\n    .add-email--body {\n      padding: 20px;\n    }\n  }\n  &--body {\n    padding: 0 10px 20px;\n  }\n  &--note {\n    font-size: 14px;\n    color: #717171;\n    margin-bottom: 14px;\n  }\n  &--field {\n    .input-email {\n      vertical-align: top;\n      margin-right: 16px;\n      border: 1px solid #d6d6d6;\n      padding: 0 14px;\n      height: 32px;\n      outline-style: none;\n      border-radius: 3px;\n      margin-bottom: 12px;\n      &:focus-visible {\n        border: 1px solid #d6d6d6;\n      }\n    }\n  }\n  .btn-resend-letter {\n    text-align: center;\n    .btn-blue {\n      margin-bottom: 0;\n    }\n  }\n  .btn-blue {\n    vertical-align: top;\n    margin-bottom: 12px;\n    &:hover,\n    &:focus,\n    &.disabled {\n      background-color: #3c95e0;\n      border-color: #3c95e0;\n      color: #fff;\n    }\n  }\n  .timer {\n    padding-top: 10px;\n  }\n}\n</style>\n","<template>\n  <div\n   class=\"sc-header\"\n    :class=\"{\n      desktop: viewPort === 'desktop',\n      mobile: viewPort === 'mobile',\n      'header-up': !app,\n    }\"\n  >\n    <Polling />\n    <HeaderWhiteLabel v-if=\"whitelabel\"/>\n    <HeaderDesktop v-if=\"viewPort === 'desktop'\" v-show=\"!whitelabel\"/>\n    <HeaderMobile v-else v-show=\"!whitelabel\"/>\n    <AddEmailModal />\n  </div>\n</template>\n<script>\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport HeaderDesktop from \"./Desktop/index.vue\";\nimport HeaderMobile from \"./Mobile/index.vue\";\nimport HeaderWhiteLabel from \"./WhiteLabel/index.vue\";\nimport Polling from \"./Polling/index.vue\";\nimport headerEventsDispatcher from \"../headerEventsDispatcher.js\";\nimport { openRegister, registerByTelephone,\n  vkGetUserPhoneNumber,\n  VKWebAppGetUserInfo,\n  VKWebAppGetEmailResult,\n  isDocumentHidden } from \"../headerPublicMethods.js\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport axios from \"axios\";\nimport VueCookies from \"vue-cookies\";\nimport AddEmailModal from \"./Base/AddEmailModal.vue\"\n\nexport default {\n  name: \"Header\",\n  components: {\n    HeaderDesktop,\n    HeaderMobile,\n    HeaderWhiteLabel,\n    Polling,\n    AddEmailModal,\n  },\n  props: {\n    location: {\n      type: Object,\n    },\n    app: {\n      type: Boolean,\n      default: true,\n    },\n    pageType: {\n      default: null,\n    },\n  },\n  render(h) {\n    // const slots = this.$slots;\n    // const scopedSlots = {};\n    // Object.keys(slots).map(key => (scopedSlots[key] = () => slots[key]));\n    // const Component = this.viewPort == 'desktop' ? HeaderDesktop : HeaderMobile\n    // return h(Component, {\n    //   class: {\n    //     [this.viewPort]: true,\n    //   },\n    //   attrs: this.$attrs,\n    //   props: this.$props,\n    //   on: this.$listeners,\n    //   scopedSlots\n    // });\n  },\n  data(){\n    return {\n    }\n  },\n  watch: {\n    currency(val, oVal) {\n      if (val.id !== oVal.id)\n        setTimeout(() => {\n          this.initUserData();\n        }, 1000);\n    },\n    pageType(val) {\n      this.pageTypeMutate(val);\n    },\n  },\n  computed: {\n    ...mapState(\"user\", [\"viewPort\", \"baseLink\", \"auth\", \"currency\", \"isAuth\", \"whitelabel\"]),\n  },\n  serverPrefetch() {\n    const ua = this.$ssrContext.req.headers[\"user-agent\"].toLowerCase();\n    //check viewport on server side\n    if (\n      !/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n        ua\n      ) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        ua.substr(0, 4)\n      )\n    ) {\n      this.$store.commit(\"user/viewPort\", \"desktop\");\n    } else {\n      this.$store.commit(\"user/viewPort\", \"mobile\");\n    }\n  },\n  created() {\n    this.initAsApp(this.app);\n  },\n  mounted() {\n    this.pageTypeMutate(this.pageType);\n    this.setAuth();\n    this.linkChange();\n    if (this.location) {\n      this.setLocation(this.location);\n    }\n    this.initUserData();\n    this.handleWindowResize();\n    this.$nextTick(function () {\n      window.addEventListener(\"resize\", this.handleWindowResize);\n      this.getCurrencies();\n    });\n    this.runPublicMethods();\n    headerEventsDispatcher(\"HEADER_INIT\", document); // уведомляем страницу о том что шапка загрузилась\n    this.vkAppScriptInit();\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.handleWindowResize);\n  },\n  methods: {\n    ...mapActions(\"user\", [\n      \"getCurrencies\",\n      \"loadUserData\",\n      \"initSessionDomain\",\n    ]),\n    ...mapMutations(\"user\", [\n      \"setLocation\",\n      \"changeBaseLink\",\n      \"initAsApp\",\n      \"setAuth\",\n      \"pageTypeMutate\",\n      \"setInvisibleAuth\",\n    ]),\n    initUserData() {\n      this.loadUserData(\n        this.location\n          ? {\n              location_id: this.location.id,\n              location_type: this.location.type,\n            }\n          : null\n      )\n        .then(() => {\n          console.log(this.isAuth);\n          if (!this.auth.isAuth && this.isAuth) {\n            console.log(\"invis\");\n            this.setInvisibleAuth();\n          }\n          if (!this.isAuth) {\n            this.initSessionDomain();\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    handleWindowResize() {\n      let screenSize = null;\n      if (window.innerWidth <= 768) {\n        screenSize = \"mobile\";\n      } else if (window.innerWidth > 768) {\n        screenSize = \"desktop\";\n      }\n      this.$store.commit(\"user/viewPort\", screenSize);\n      this.$store.commit(\"user/screenWidth\", window.innerWidth);\n    },\n    /**\n    @description инициализация публичных методов\n     */\n    runPublicMethods() {\n      const options = { elem: document }\n      openRegister(this.$store, options); //инициализация публичного метода\n      registerByTelephone(this.$store, options); //инициализация публичного метода\n      vkGetUserPhoneNumber(this.$store, options);//инициализация публичного метода\n      registerByTelephone(this.$store, options);\n      VKWebAppGetUserInfo(this.$store, options);\n      VKWebAppGetEmailResult(this.$store, options);\n      isDocumentHidden(this.$store, options);\n    },\n    /**\n    @description инициализация логики для vk mini app\n     */\n    async vkAppScriptInit() {\n      if (location?.search !== \"\" && !this.isAuth) {\n        const isVkApp = location.search.includes(\"vk_app_id\");\n        // this.$store.commit(\"user/isVkAppMutate\", true)\n        if (isVkApp) {\n          this.$store.commit(\"user/isVkAppMutate\", true);\n          this.$root.$i18n.locale = \"ru\"; // ставим хардкодом потому что неправильно определяется на мобильном приложении\n          headerEventsDispatcher(\"VK_APP_INIT\", this.$el);\n          bridge.send(\"VKWebAppInit\", {}).then((response) => {\n            // const type = \"vk\"\n            // const url = `/auth.html?type=${type}&js`;\n            // const popupWindowOpts = {\n            //   width: window.innerWidth ,\n            //   height: window.innerHeight,\n            // };\n            // const centerPopup = {\n            //   left: (window.innerWidth - popupWindowOpts.width) / 2,\n            //   top: (window.innerHeight - popupWindowOpts.height) / 2,\n            // };\n\n            // axios\n            //   .get(\"/auth.html?type=vk&js\", {\n            //     headers: { Referer: \"https://sutochno.ru\" },\n            //   })\n            //   .then((res) => {\n            //     window.location.reload();\n            //   });\n\n            // location.href = url\n            // window.open(\n            //     url,\n            //     \"soc_auth_popup_window\",\n            //     `width=${popupWindowOpts.width},\n            // height=${popupWindowOpts.height},\n            // left=${centerPopup.left},\n            // top=${centerPopup.top},\n            // resizable=yes,scrollbars=no,toolbar=no,menubar=no,location=no,directories=no,status=yes`\n            // );\n          });\n        }\n      }\n    },\n    linkChange() {\n      if (window?.location) {\n        const { host } = window.location;\n        let newHost = host;\n\n        newHost = newHost.split(\".\");\n\n        if (newHost.length >= 3) {\n          newHost = newHost.slice(1);\n        }\n\n        newHost = newHost.join(\".\");\n\n        this.changeBaseLink(`//${newHost}`);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n// Иконочный шрифт для наших приложений на VueJS\n@import \"./assets/styles/icons.scss\";\n\n.header {\n  &-up {\n    position: relative;\n    z-index: 10000;\n  }\n\n  &-scroll {\n    overflow-y: auto;\n    // max-height: 580px;\n    max-height: calc(var(--vh, 1vh) * 100); //пример как использовать max-height: calc(var(--vh, 1vh) * 100 - 144px)\n\n    &::-webkit-scrollbar {\n      width: 6px;\n      background: transparent;\n    }\n    &::-webkit-scrollbar-thumb {\n      background: #b6b6b6;\n      border-radius: 1px;\n    }\n    &::-webkit-scrollbar-thumb:hover {\n      background: #787878;\n    }\n  }\n}\n.fade-enter-active,\n.fade-leave-active {\n  opacity: 1;\n  transition: opacity 0.35s ease;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap\");\n\n.sc-header {\n  font-family: 'Inter', sans-serif;\n}\n\n.sc-header-icon {\n  &-tmp {\n    background-repeat: no-repeat;\n    background-size: contain;\n    width: 20px;\n    height: 20px;\n    min-width: 20px;\n    text-indent: 0;\n    display: inline-block;\n    vertical-align: top;\n    margin-right: 6px;\n    position: relative;\n    @media all and (max-width: 1280px) {\n      margin-left: 6px;\n    }\n  }\n\n  &-message {\n    background-image: url(\"./assets/message.svg\");\n  }\n\n  &-rent-house {\n    background-size: 240px;\n    background-image: url(\"./assets/spr_header_2x.png\");\n    background-position: -220px 0;\n  }\n\n  &-favorite {\n    background-size: 240px;\n    background-image: url(\"./assets/spr_header_2x.png\");\n  }\n  &-wallet {\n    background-position: -60px 0;\n    background-size: 240px;\n    background-image: url(\"./assets/spr_header_2x.png\");\n  }\n\n  &-help {\n    background-image: url(\"./assets/question.svg\");\n  }\n  &-phone {\n    background-image: url(\"./assets/phone.svg\");\n  }\n  &-plane {\n    background-image: url(\"./assets/plane.svg\");\n  }\n}\n\n.button {\n  display: block;\n  padding: 0px 20px;\n  line-height: 32px;\n  outline: none;\n  background: transparent;\n  border: 1px solid #d1d1d1;\n  color: #444;\n  border-radius: 3px;\n  font-size: 14px;\n  transition: 0.3s;\n  position: relative;\n  white-space: nowrap;\n  cursor: pointer;\n  text-decoration: none;\n\n  &:hover,\n  &:active,\n  &:focus {\n    outline: none;\n  }\n\n  &:hover {\n    border: 1px solid #a6a6a6;\n  }\n  &.button {\n    &_link {\n      cursor: pointer;\n      color: #2d6cb4;\n      background: transparent;\n      border: none;\n      text-decoration: none;\n      outline: none;\n      padding: 0;\n      border: 0;\n      line-height: 14px;\n      &:hover {\n        color: #f51449;\n        border: 0;\n      }\n    }\n\n    &_white {\n      border: 1px solid #fff;\n      color: #fff;\n\n      &:hover {\n        color: #444 !important;\n        background: #fff !important;\n      }\n    }\n\n    &_phone {\n      .icon-wps-phone {\n        display: inline-block;\n        position: absolute;\n        left: 10px;\n        top: 50%;\n        transform: translate(0, -50%);\n        color: #d1d1dc;\n        font-size: 20px;\n      }\n      padding-left: 39px;\n    }\n\n    &_blue {\n      background: #498bc3;\n      border: 1px solid rgba(0, 0, 0, 0.15);\n      color: #fff;\n\n      &:hover {\n        color: #fff !important;\n        background: #5c97c9 !important;\n        border: 1px solid rgba(0, 0, 0, 0.1);\n      }\n    }\n    &_green {\n      background: #6fa759;\n      border: solid 1px rgba(0, 0, 0, 0.15);\n      color: #fff;\n\n      &:hover {\n        color: #fff !important;\n        opacity: 0.9;\n        border: solid 1px rgba(0, 0, 0, 0.15);\n      }\n    }\n\n    &_disabled {\n      opacity: 0.5;\n\n      &:hover {\n        opacity: 0.6;\n      }\n    }\n\n    &_size {\n      &_md {\n        line-height: 40px;\n        min-height: 42px;\n      }\n    }\n\n    &_w-100 {\n      width: 100%;\n    }\n\n    &_shadow {\n      box-shadow: -2px 2px 6px rgba(0, 0, 0, 0.1);\n    }\n\n    &_text-shadow {\n      text-shadow: -2px 2px 2px rgba(0, 0, 0, 0.3);\n    }\n  }\n}\n.mobile {\n  .account {\n    .sc-header-icon {\n      &-tmp {\n        margin-right: 9px;\n      }\n    }\n  }\n  .text-gray {\n    color: #717171;\n  }\n}\n</style>\n","\nexport default function (pageType) {\n  if (!window.ga || !window.ga.getAll) {\n    return false;\n  }\n\n  const ga_pageparams = location.search.indexOf('?') >= 0\n    ? `${location.search}${\n        pageType ? `&pt=${pageType}` : ''\n      }`\n    : pageType ? `&pt=${pageType}` : ''\n\n  const glob_ga_pageparams = `${location.pathname}${ga_pageparams}`;\n\n  ga('send', {\n    hitType: 'pageview',\n    page: glob_ga_pageparams\n  });\n}\n","import API from \"./API/\";\nimport gaClientID from \"./GA/gaClientID\";\nimport gaCreateUser from \"./GA/gaCreateUser\";\nimport gaPageView from \"./GA/gaPageView\";\nimport Vue from \"vue\";\nimport VueCookies from \"vue-cookies\";\n\n// import { TMDL } from './utils/tagManagerDataLayer';\n\n// initial state\nconst state = () => ({\n  userData: {},\n  isAuth: null,\n  // items: [],\n  viewPort: null,\n  screenWidth: null,\n  currency: {\n    id: 1,\n    title: \"RUB\",\n  },\n  currenciesList: null,\n  dataSocialNetwork: null,\n  location: null,\n  baseLink: '//sutochno.ru',\n  app: true,\n  auth: {\n    isAuth: null,\n    token: null,\n    data: null\n  },\n  isVkApp: false,\n  authState: \"\",\n  vkAppInfo: {},\n  pageType: null,\n  envBaseUrl: \"\",\n  isDocumentHidden: false\n});\n\n// getters\nconst getters = {\n  currenciesList: (state) => {\n    if (state.currenciesList) {\n      return state.currenciesList;\n    }\n  },\n  auth:() => {\n    const IA_COOKIE = VueCookies.get(\"_ia_\");\n    const ia = IA_COOKIE && IA_COOKIE.includes(\"1-\", 0) ? IA_COOKIE : null;\n    let decodeIa = null;\n    if(ia)\n      decodeIa = JSON.parse(window.atob(ia.replace('1-', '')))\n    return {\n      isAuth: ia\n        ? true\n        : false,\n      token: ia\n        ? ia\n        : null,\n      data: decodeIa\n    }\n  },\n  getPermission: (state) => (permission) => {\n    //state.userData?.user?.permissions?.length - на такой вид иногда ругается webpack, т.к. не может прочесть\n    if (state.userData.user && permission && state.userData.user.permissions && state.userData.user.permissions.length > 0){\n      return state.userData.user.permissions.includes(permission)\n    }else{\n      return false\n    }\n  }\n};\n\n// actions\nconst actions = {\n  loadUserData({ state, commit }, location) {\n    commit('setAuth')\n    return API.getUserData(state.envBaseUrl, location ? location : {})\n      .then((response) => {\n        if (response.data && response.data.data) {\n          if (!!!response.is_auth){\n            // TMDL.initUserData(response)\n            // document.dispatchEvent(\"online-chat\")\n          }\n          commit(\"setUserData\", response.data.data);\n          gaCreateUser(response.data.data);\n          gaClientID(response.data.data);\n          gaPageView(state.pageType);\n          const IA_COOKIE = VueCookies.get(\"_ia_\");\n\n          if (!response.data.data.user && IA_COOKIE.includes(\"1-\", 0)) {\n            if (typeof window !== 'undefined') {\n              const { host } = window.location\n              let newHost = host;\n              newHost = newHost.split('.')\n              if(newHost.length >= 3) {\n                newHost = newHost.slice(1)\n              }\n              newHost = newHost.join('.')\n              VueCookies.set(\"_ia_\", '0', \"30d\", \"/\", `.${newHost}`)\n              commit('setAuthNull')\n            }\n          }\n        }\n        return response;\n      })\n      .catch((error) => {\n        console.log(\n          \"Ошибка при получении данных о пользователе\",\n          \"Ajax error:\",\n          error\n        );\n      });\n  },\n  initSessionDomain({ state, commit }) {\n    return API.initSessionDomain(state.envBaseUrl)\n      .then(response => {\n        if (response.data.actions.enough_contacts_required) {\n          API.checkEnoughContacts()\n            .then(res => {\n              commit(\"setDataSocialNetwork\", res.data);\n            })\n            .catch(err => {\n              console.log(err);\n            })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  },\n  setCurrency({ commit }, currency) {\n    let formData = new FormData();\n    let currencyObj = {\n      id: currency.id,\n      title: currency.code,\n    };\n    formData.append(\"id\", currencyObj.id);\n    return API.setCurrency(currencyObj.id)\n      .then((res) => {\n        commit(\"currency\", currencyObj)\n        const { host } = window.location\n        let newHost = host;\n\n        newHost = newHost.split('.')\n\n        if(newHost.length >= 3) {\n          newHost = newHost.slice(1)\n        }\n\n        newHost = newHost.join('.')\n\n        VueCookies.set(\"wp_currency_id\", currencyObj.id, \"30d\", \"/\", `.${newHost}`)\n        VueCookies.set(\"wp_currency_title\", currencyObj.title, \"30d\", \"/\", `.${newHost}`)\n        return res\n      })\n      .catch((error) => {\n        console.log(\"Ошибка при смене валюты\", \"Ajax error:\", error);\n      });\n  },\n  getCurrencies({ state, commit }) {\n    API.getCurrencies(state.envBaseUrl)\n      .then((response) => {\n        if (response.data) commit(\"currencies\", response.data);\n      })\n      .catch((error) => {\n        console.log(\"Ошибка при получении данных\", \"Ajax error:\", error);\n      });\n  },\n};\n\n// mutations\nconst mutations = {\n  setUserData(state, value) {\n    state.userData = value;\n    state.isAuth = value.hasOwnProperty(\"user\");\n    state.auth.isAuth = state.isAuth\n  },\n  viewPort(state, value) {\n    state.viewPort = value;\n  },\n  screenWidth(state, value) {\n    state.screenWidth = value;\n  },\n  currency(state, value) {\n    const curr = {\n      id: value.id,\n      title: value.title,\n    };\n    state.currency = curr;\n    localStorage.setItem(\"currency\", curr);\n  },\n  currencies(state, value) {\n    state.currenciesList = value.data.currencies;\n  },\n  setDataSocialNetwork(state, value) {\n    state.dataSocialNetwork = value;\n  },\n  setLocation(state, value) {\n    state.location = value;\n  },\n  changeBaseLink(state, value) {\n    state.baseLink = value\n  },\n  initAsApp(state, value) {\n    state.app = value\n  },\n  setAuth(state, value) {\n    const IA_COOKIE = VueCookies.get(\"_ia_\");\n    const ia = IA_COOKIE && IA_COOKIE.includes(\"1-\", 0) ? IA_COOKIE : null;\n    let decodeIa = null;\n    if(ia)\n      decodeIa = JSON.parse(window.atob(ia.replace('1-', '')))\n    state.auth = {\n      isAuth: ia\n        ? true\n        : false,\n      token: ia\n        ? ia\n        : null,\n      data: decodeIa\n    }\n    // тут более правильное поведение проверки авторизации, но чето не работает говорят\n    // const iaCookie = VueCookies.get(\"_ia_\")\n    // const ia = iaCookie && iaCookie != 0 && /^1\\-/.test(iaCookie)\n    //   ? iaCookie\n    //   : null\n    // let decodeIa = null;\n    // if(ia && ia != 1)\n    //   decodeIa = JSON.parse(window.atob(ia.replace('1-', '')))\n    // state.auth = {\n    //   isAuth: ia\n    //     ? true\n    //     : false,\n    //   token: ia\n    //     ? ia\n    //     : null,\n    //   data: decodeIa\n    // }\n  },\n  setAuthNull(state) {\n    state.auth = {\n      isAuth: false,\n      token: null,\n      data: null\n    }\n  },\n  setInvisibleAuth(state, value) {\n    const { host } = window.location\n    let newHost = host;\n\n    newHost = newHost.split('.')\n\n    if(newHost.length >= 3) {\n      newHost = newHost.slice(1)\n    }\n\n    newHost = newHost.join('.')\n\n    VueCookies.set(\"_ia_\", '1', \"30d\", \"/\", `.${newHost}`)\n    state.auth = {\n      ...state.auth,\n      isAuth: true\n    }\n  },\n  isVkAppMutate(state, value) {\n    state.isVkApp = value;\n  },\n  authStateMutate(state, value) {\n    state.authState = value;\n  },\n  vkAppInfoMutate(state, payload) {\n    // state.vkAppInfo.user = payload;\n    for (const key in payload) {\n      if (Object.hasOwnProperty.call(payload, key)) {\n        const element = payload[key];\n        Vue.set(state.vkAppInfo, key, element)\n      }\n    }\n  },\n  pageTypeMutate(state, value) {\n    state.pageType = value;\n  },\n  addPermission(state, permission) {\n    //state.userData?.user?.permissions- на такой вид иногда ругается webpack, т.к. не может прочесть\n    if(state.userData.user && state.userData.user.permissions)\n      state.userData.user.permissions.push(permission)\n  },\n  removePermission(state, permission) {\n    //state.userData?.user?.permissions?.length > 0 - на такой вид иногда ругается webpack, т.к. не может прочесть\n    if (state.userData.user && state.userData.user.permissions && state.userData.user.permissions.length > 0)\n      Vue.set(state.userData.user, \"permissions\", state.userData.user.permissions.filter(p => p !== permission))\n  },\n  envBaseUrlMutate(state, payload) {\n    if(payload)\n      state.envBaseUrl = `${payload}/`\n  },\n  setIsDocumentHidden(state, value) {\n    state.isDocumentHidden = value;\n  },\n};\n\nexport default {\n  namespaced: true,\n  namespace: \"user\",\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import getGuestStatus from \"./getGuestStatus\";\nimport getOwnerStatus from \"./getOwnerStatus\";\n\n\nexport default function (userData) {\n  if (userData.user == undefined) {\n    ga('set', \"dimension8\", \"unauthorized\");\n  } else {\n    ga('set', \"userId\", userData.user.id);\n    ga('set', \"dimension8\", \"authorized\");\n\n    ga('set', \"dimension9\", userData.user_is_owner > 0 ? \"owner\" : \"guest\");\n    ga('set', \"dimension11\", getGuestStatus(userData));\n\n    if (userData.user_is_owner > 0) {\n      ga('set', \"dimension10\", getOwnerStatus(userData));\n    }\n  }\n}\n","export default function (userData) {\n  var guestStatus = \"new\";\n\n  if (userData.user_is_client > 0) {\n    if (userData.user_is_client_loyal > 0) {\n      guestStatus = \"loyal\";\n    } else {\n      guestStatus = \"returning\";\n    }\n  }\n\n  return guestStatus;\n}\n","export default function (userData) {\n  var ownerStatus = \"\";\n  if (userData.user_is_superhost) {\n    ownerStatus += \" \" + \"superhost\";\n  }\n  if (userData.user_is_newbie) {\n    ownerStatus += \" \" + \"newbie\";\n  }\n  ownerStatus =\n    ownerStatus.trim().length === 0 ? \"ordinary\" : ownerStatus.trim();\n\n  return ownerStatus;\n}\n","\nexport default function () {\n  if (!window.ga || !window.ga.getAll) {\n    return false;\n  }\n  ga('set', \"dimension16\", window.ga.getAll()[0].get(\"clientId\"));\n}\n","\nimport HeaderDesktop from './src/Desktop/index.vue';\nimport HeaderMobile from './src/Mobile/index.vue';\nimport headr from './src/headr.vue';\nimport store from './src/store.js';\nexport default {\n  HeaderDesktop,\n  HeaderMobile,\n  headr,\n  store\n};\n// OK\nexport {\n  HeaderDesktop,\n  HeaderMobile,\n  headr,\n  store\n}\n"],"names":["img","IS_WHITE_LABEL","window","VueCookies","get","isVkApp","location","search","includes","TOKEN","process","env","NODE_ENV","axios","create","adapter","throttleAdapterEnhancer","cacheAdapterEnhancer","retryAdapterEnhancer","defaults","baseURL","headers","platform","token","data","Promise","res","setTimeout","userId","params","callfunc","v","Date","getTime","cache","HTTP","String","note_id","formData","FormData","append","post","payload","serviceName","url","id","friendInput","document","querySelector","value","enabled","name","password","persistent","terms","forgot","status","isEmail","event","element","evt","Event","dispatchEvent","registerByTelephone","store","elem","addEventListener","commit","mountCount","callCount","bridge","send","then","phone_number","first_name","email","hidden","pageType","ga","getAll","ga_pageparams","indexOf","glob_ga_pageparams","pathname","hitType","page","namespaced","namespace","state","userData","isAuth","viewPort","screenWidth","currency","title","currenciesList","dataSocialNetwork","baseLink","app","auth","authState","vkAppInfo","envBaseUrl","isDocumentHidden","getters","IA_COOKIE","ia","decodeIa","JSON","parse","atob","replace","getPermission","permission","user","permissions","length","actions","loadUserData","API","response","is_auth","undefined","user_is_owner","guestStatus","user_is_client","user_is_client_loyal","getGuestStatus","ownerStatus","user_is_superhost","user_is_newbie","trim","getOwnerStatus","gaClientID","gaPageView","newHost","host","split","slice","join","set","error","initSessionDomain","enough_contacts_required","err","setCurrency","currencyObj","code","getCurrencies","mutations","setUserData","hasOwnProperty","curr","localStorage","setItem","currencies","setDataSocialNetwork","setLocation","changeBaseLink","initAsApp","setAuth","setAuthNull","setInvisibleAuth","isVkAppMutate","authStateMutate","vkAppInfoMutate","key","Object","call","Vue","pageTypeMutate","addPermission","push","removePermission","filter","p","envBaseUrlMutate","setIsDocumentHidden","HeaderDesktop","HeaderMobile","headr"],"mappings":"q8CAEA,mnHCgDA,2vBAhDA,o9IC2HA,wqIA3HA,s8HCmKA,mYCrKA,MCAMA,EAAM,ivDFEZ,muGCFY,44EE0JZ,gpDAxJA,u9JCkDA,ujBAlDA,o7DCAA,umECuDA,gyCAvDA,61HCmJA,qkCAnJA,2uHCSA,IAAMC,EAAmC,oBAAXC,QAA0BC,UAAWC,IAAI,cAGnEC,IAAU,EACU,iBAAbC,UAA6C,KAApBA,SAASC,SAC3CF,GAAUC,SAASC,OAAOC,SAAS,cAGrC,IAAIC,GAAQ,6BAGVC,SACAA,QAAQC,KACRD,QAAQC,IAAIC,UACa,eAAzBF,QAAQC,IAAIC,WAETP,GACDI,GAAQ,kCACCR,IACTQ,GAAQ,oCAKZ,OAAeI,UAAMC,OAAO,CAC1BC,QAASC,0BACPC,uBAAqBC,uBAAqBL,UAAMM,SAASJ,WAE3DK,QAAS,OACTC,QAAS,gBACS,kDACD,MACfC,SAAU,KACVC,MAAOd,kBCnCKe,SAEW,gBAAzBd,QAAQC,IAAIC,SACR,IAAIa,SAAQ,SAACC,GAEXC,YACE,kBACED,EAAI,CACFF,SAcQ,UACK,yBACH,4FACD,SACC,wCACG,QAuBjB,QAGJX,UAAMT,sBAAsBoB,EAAKI,OAAU,CACzCC,OAAQ,CACNC,SAAU,gBACVC,GAAG,IAAIC,MAAOC,WAEhBC,OAAO,0BCzDbC,GAAK/B,IAAI,6BAA8B,CACrCiB,QAAS,eACQe,OAAO,OAExBF,OAAO,iBCLKG,YAAAA,IAAAA,EAAU,UACpBC,EAAW,IAAIC,SACnBD,EAASE,OAAO,UAAWH,GAC3BF,GAAKM,KAAK,6BAA8BH,EAAU,CAChDjB,QAAS,eACQe,OAAO,OAExBF,OAAO,iBCPKQ,OACVJ,EAAW,IAAIC,gBACnBD,EAASE,OAAO,cAAeE,EAAQC,aAAe,IAE/CR,GAAKM,KAAK,+BAAgCH,EAAU,CACzDjB,QAAS,eACQe,OAAO,sBCNZQ,UACdT,GAAKM,KAAQG,2CCAEC,OACXP,EAAW,IAAIC,gBACnBD,EAASE,OAAO,KAAMK,GACfV,GAAKM,KAAK,+BAAgCH,gBCJnCM,EAAKf,UACnBM,GAAK/B,IAAOwC,2BAA6B,CACvCvB,QAAS,eACQe,OAAO,OAExBP,OAAAA,EACAK,OAAO,0BCLTC,GAAKM,KAAK,kCAAmC,CAC3CpB,QAAS,eACQe,OAAO,OAExBF,OAAO,iBCLKU,OACVN,EAAW,IAAIC,SACfO,EAAcC,SAASC,cAAc,yBAErCF,GACFR,EAASE,OAAO,SAAUM,EAAYG,OAGjCd,GAAKM,KAAQG,kCAAoCN,EAAU,CAChEjB,QAAS,eACQe,OAAO,OAExBF,OAAO,iBCZKI,UACdH,GAAKM,KAAK,qCAAsCH,EAAU,CACxDjB,QAAS,eACQe,OAAO,OAExBF,OAAO,iBCHKgB,YAAAA,IAAAA,GAAU,OACpBZ,EAAW,IAAIC,gBACnBD,EAASE,OAAO,UAAWU,GACpBf,GAAKM,KAAK,iDAAkDH,EAAU,CAC3EjB,QAAS,eACQe,OAAO,OAExBF,OAAO,0BCRTC,GAAKM,KAAK,qCAAsC,CAC9CpB,QAAS,eACQe,OAAO,OAExBF,OAAO,iBCIKQ,OACVJ,EAAW,IAAIC,gBACnBD,EAASE,OAAO,OAAQE,EAAQS,MAAQ,IACxCb,EAASE,OAAO,QAASE,EAAQO,OACjCX,EAASE,OAAO,WAAYE,EAAQU,UAAY,IAChDd,EAASE,OAAO,aAAcE,EAAQW,YAAc,GACpDf,EAASE,OAAO,QAASE,EAAQY,OAAS,GAC1ChB,EAASE,OAAO,SAAUE,EAAQa,QAAU,GAC5CjB,EAASE,OAAO,SAAUE,EAAQc,QAAU,cACxCd,EAAQe,SACVnB,EAASE,OAAO,mBAAoB,OAG/BL,GAAKM,KAAK,kBAAmBH,EAAU,CAC5CjB,QAAS,eACQe,OAAO,sBC/BZE,UACPH,GAAKM,KAAK,yBAA0BH,gBCD7BA,UACPH,GAAKM,KAAK,oCAAqCH,i1CCDxD,0qdCFA,2iCAAY,m0DCEZ,gHCyXA,iyFC3XY,k0CCAA,+/PFEZ,wuWG2EA,imBA3EA,6mECgHA,m9CAhHA,stmBC4DA,u9BA5DA,olDCuJA,8rDAvJA,u1IC6EA,+oCA7EA,86EC2EA,kxBA3EA,w2ECAA,m0CCyEA,k4BAzEA,+gECFA,8tBCEA,svCDFY,uzCEEZ,i7BC0KA,2yNA1KA,0mfC0EA,omCA1EA,+sOCkCA,yTAlCA,s2YC0IA,qyCA1IA,upUCAA,mECAA,28FCAA,wMCAA,2hICAA,w2ECAA,w7GCgCA,66DAhCA,+6FCiCA,4zBAjCA,0lGC2CA,gmEA3CA,i7CCGA,gBAAgBoB,EAAOC,OACfC,EAAM,IAAIC,MAAMH,GACtBC,EAAQG,cAAcF,ICYlBG,GAAsB,SAACC,EAAOtB,GACnBA,EAARuB,KACFC,iBAAiB,8BAA8B,WAClDF,EAAMG,OAAO,uBAAwB,oBAUrCC,GAAa,EAqDbC,GAAY,uvFCnFhB,i+FCAA,6xHFKqB,SAACL,EAAOtB,GACZA,EAARuB,KACFC,iBAAiB,iBAAiB,WACrCF,EAAMG,OAAO,uBAAwB,6CAuBZ,SAACH,EAAOtB,OAC5BuB,EAAQvB,EAARuB,KAGY,MAFnBG,IAGEH,EAAKC,iBAAiB,uBAAuB,WAC3CI,UACKC,KAAK,yBAA0B,IAC/BC,MAAK,SAAC9C,GAELsC,EAAMG,OAAO,uBAAwB,CAACM,aAAc/C,EAAI+C,uDAWxC,SAACT,EAAOtB,GACnBA,EAARuB,KACFC,iBAAiB,oBAAoB,WACxCI,UACGC,KAAK,sBAAuB,IAC5BC,MAAK,SAAC9C,GAELsC,EAAMG,OAAO,uBAAwB,CAACO,WAAYhD,EAAIgD,mCAW/B,SAACV,EAAOtB,GACtBA,EAARuB,KACFC,iBAAiB,oBAAoB,WACxCI,UACGC,KAAK,yBAA0B,IAC/BC,MAAK,SAAC9C,GAELsC,EAAMG,OAAO,uBAAwB,CAACQ,MAAOjD,EAAIiD,8BAOhC,SAACX,EAAOtB,MAEb,MADlB2B,GACqB,KACZJ,EAAQvB,EAARuB,KACPA,EAAKC,iBAAiB,oBAAoB,WACpCD,EAAKW,OACPZ,EAAMG,OAAO,4BAA4B,GAEzCH,EAAMG,OAAO,4BAA4B,u0heG7FlC,YAAUU,OAClB3E,OAAO4E,KAAO5E,OAAO4E,GAAGC,cACpB,MAGHC,EAAgB1E,SAASC,OAAO0E,QAAQ,MAAQ,EAC/C3E,SAASC,QACVsE,SAAkBA,EAAa,IAEjCA,SAAkBA,EAAa,GAE7BK,KAAwB5E,SAAS6E,SAAWH,EAElDF,GAAG,OAAQ,CACTM,QAAS,WACTC,KAAMH,ICNV,OAkSe,CACbI,YAAY,EACZC,UAAW,OACXC,MArSY,iBAAO,CACnBC,SAAU,GACVC,OAAQ,KAERC,SAAU,KACVC,YAAa,KACbC,SAAU,CACRhD,GAAI,EACJiD,MAAO,OAETC,eAAgB,KAChBC,kBAAmB,KACnB1F,SAAU,KACV2F,SAAU,gBACVC,KAAK,EACLC,KAAM,CACJT,OAAQ,KACRnE,MAAO,KACPC,KAAM,MAERnB,SAAS,EACT+F,UAAW,GACXC,UAAW,GACXxB,SAAU,KACVyB,WAAY,GACZC,kBAAkB,IA6QlBC,QAzQc,CACdT,eAAgB,SAACP,MACXA,EAAMO,sBACDP,EAAMO,gBAGjBI,KAAK,eACGM,EAAYtG,UAAWC,IAAI,QAC3BsG,EAAKD,GAAaA,EAAUjG,SAAS,KAAM,GAAKiG,EAAY,KAC9DE,EAAW,YACZD,IACDC,EAAWC,KAAKC,MAAM3G,OAAO4G,KAAKJ,EAAGK,QAAQ,KAAM,OAC9C,CACLrB,SAAQgB,EAGRnF,MAAOmF,GAEH,KACJlF,KAAMmF,IAGVK,cAAe,SAACxB,UAAU,SAACyB,YAErBzB,EAAMC,SAASyB,MAAQD,GAAczB,EAAMC,SAASyB,KAAKC,aAAe3B,EAAMC,SAASyB,KAAKC,YAAYC,OAAS,IAC5G5B,EAAMC,SAASyB,KAAKC,YAAY3G,SAASyG,MAiPpDI,QAzOc,CACdC,wBAAgChH,OAAjBkF,IAAAA,MAAOrB,IAAAA,cACpBA,EAAO,WACAoD,GAAgB/B,EAAMc,WAAYhG,GAAsB,IAC5DkE,MAAK,SAACgD,MACDA,EAAShG,MAAQgG,EAAShG,KAAKA,KAAM,CAChCgG,EAASC,QAIhBtD,EAAO,cAAeqD,EAAShG,KAAKA,MC7EvBkG,OADEjC,ED+EF+B,EAAShG,KAAKA,MC9EtB0F,KACXpC,GAAG,MAAO,aAAc,iBAExBA,GAAG,MAAO,SAAUW,EAASyB,KAAKrE,IAClCiC,GAAG,MAAO,aAAc,cAExBA,GAAG,MAAO,aAAcW,EAASkC,cAAgB,EAAI,QAAU,SAC/D7C,GAAG,MAAO,cCZC,SAAUW,OACnBmC,EAAc,aAEdnC,EAASoC,eAAiB,IAE1BD,EADEnC,EAASqC,qBAAuB,EACpB,QAEA,aAIXF,EDCoBG,CAAetC,IAEpCA,EAASkC,cAAgB,GAC3B7C,GAAG,MAAO,cEfD,SAAUW,OACnBuC,EAAc,UACdvC,EAASwC,oBACXD,GAAe,cAEbvC,EAASyC,iBACXF,GAAe,WAEjBA,EACgC,IAA9BA,EAAYG,OAAOf,OAAe,WAAaY,EAAYG,OFMhCC,CAAe3C,KGd/B,eACRvF,OAAO4E,KAAO5E,OAAO4E,GAAGC,cACpB,EAETD,GAAG,MAAO,cAAe5E,OAAO4E,GAAGC,SAAS,GAAG3E,IAAI,aJ+E3CiI,CAAWb,EAAShG,KAAKA,MACzB8G,GAAW9C,EAAMX,cACX4B,EAAYtG,UAAWC,IAAI,YAE5BoH,EAAShG,KAAKA,KAAK0F,MAAQT,EAAUjG,SAAS,KAAM,IACjC,oBAAXN,OAAwB,KAE7BqI,EADarI,OAAOI,SAAhBkI,MAERD,EAAUA,EAAQE,MAAM,MACbrB,QAAU,IACnBmB,EAAUA,EAAQG,MAAM,IAE1BH,EAAUA,EAAQI,KAAK,KACvBxI,UAAWyI,IAAI,OAAQ,IAAK,MAAO,QAASL,GAC5CpE,EAAO,gBC9FN,IAAUsB,SDkGV+B,YAEF,SAACqB,QAQZC,kCAAoBtD,IAAAA,MAAOrB,IAAAA,cAClBoD,GAAsB/B,EAAMc,YAChC9B,MAAK,SAAAgD,GACAA,EAAShG,KAAK6F,QAAQ0B,0BACxBxB,KACG/C,MAAK,SAAA9C,GACJyC,EAAO,uBAAwBzC,EAAIF,gBAE9B,SAAAwH,iBAKN,SAAAA,QAIXC,uBAAwBpD,OAAV1B,IAAAA,OACR7B,EAAW,IAAIC,SACf2G,EAAc,CAChBrG,GAAIgD,EAAShD,GACbiD,MAAOD,EAASsD,aAElB7G,EAASE,OAAO,KAAM0G,EAAYrG,IAC3B0E,GAAgB2B,EAAYrG,IAChC2B,MAAK,SAAC9C,GACLyC,EAAO,WAAY+E,OAEfX,EADarI,OAAOI,SAAhBkI,YAGRD,EAAUA,EAAQE,MAAM,MAEbrB,QAAU,IACnBmB,EAAUA,EAAQG,MAAM,IAG1BH,EAAUA,EAAQI,KAAK,KAEvBxI,UAAWyI,IAAI,iBAAkBM,EAAYrG,GAAI,MAAO,QAAS0F,GACjEpI,UAAWyI,IAAI,oBAAqBM,EAAYpD,MAAO,MAAO,QAASyC,GAChE7G,YAEF,SAACmH,QAIZO,8BAAgB5D,IAAAA,MAAOrB,IAAAA,OACrBoD,GAAkB/B,EAAMc,YACrB9B,MAAK,SAACgD,GACDA,EAAShG,MAAM2C,EAAO,aAAcqD,EAAShG,gBAE5C,SAACqH,SA+IZQ,UAxIgB,CAChBC,qBAAY9D,EAAOvC,GACjBuC,EAAMC,SAAWxC,EACjBuC,EAAME,OAASzC,EAAMsG,eAAe,QACpC/D,EAAMW,KAAKT,OAASF,EAAME,QAE5BC,kBAASH,EAAOvC,GACduC,EAAMG,SAAW1C,GAEnB2C,qBAAYJ,EAAOvC,GACjBuC,EAAMI,YAAc3C,GAEtB4C,kBAASL,EAAOvC,OACRuG,EAAO,CACX3G,GAAII,EAAMJ,GACViD,MAAO7C,EAAM6C,OAEfN,EAAMK,SAAW2D,EACjBC,aAAaC,QAAQ,WAAYF,IAEnCG,oBAAWnE,EAAOvC,GAChBuC,EAAMO,eAAiB9C,EAAMzB,KAAKmI,YAEpCC,8BAAqBpE,EAAOvC,GAC1BuC,EAAMQ,kBAAoB/C,GAE5B4G,qBAAYrE,EAAOvC,GACjBuC,EAAMlF,SAAW2C,GAEnB6G,wBAAetE,EAAOvC,GACpBuC,EAAMS,SAAWhD,GAEnB8G,mBAAUvE,EAAOvC,GACfuC,EAAMU,IAAMjD,GAEd+G,iBAAQxE,EAAOvC,OACPwD,EAAYtG,UAAWC,IAAI,QAC3BsG,EAAKD,GAAaA,EAAUjG,SAAS,KAAM,GAAKiG,EAAY,KAC9DE,EAAW,KACZD,IACDC,EAAWC,KAAKC,MAAM3G,OAAO4G,KAAKJ,EAAGK,QAAQ,KAAM,OACrDvB,EAAMW,KAAO,CACXT,SAAQgB,EAGRnF,MAAOmF,GAEH,KACJlF,KAAMmF,IAoBVsD,qBAAYzE,GACVA,EAAMW,KAAO,CACXT,QAAQ,EACRnE,MAAO,KACPC,KAAM,OAGV0I,0BAAiB1E,EAAOvC,OAElBsF,EADarI,OAAOI,SAAhBkI,MAGRD,EAAUA,EAAQE,MAAM,MAEbrB,QAAU,IACnBmB,EAAUA,EAAQG,MAAM,IAG1BH,EAAUA,EAAQI,KAAK,KAEvBxI,UAAWyI,IAAI,OAAQ,IAAK,MAAO,QAASL,GAC5C/C,EAAMW,sBACDX,EAAMW,MACTT,QAAQ,KAGZyE,uBAAc3E,EAAOvC,GACnBuC,EAAMnF,QAAU4C,GAElBmH,yBAAgB5E,EAAOvC,GACrBuC,EAAMY,UAAYnD,GAEpBoH,yBAAgB7E,EAAO9C,OAEhB,IAAM4H,KAAO5H,KACZ6H,OAAOhB,eAAeiB,KAAK9H,EAAS4H,GAAM,KACtC3G,EAAUjB,EAAQ4H,GACxBG,UAAI7B,IAAIpD,EAAMa,UAAWiE,EAAK3G,KAIpC+G,wBAAelF,EAAOvC,GACpBuC,EAAMX,SAAW5B,GAEnB0H,uBAAcnF,EAAOyB,GAEhBzB,EAAMC,SAASyB,MAAQ1B,EAAMC,SAASyB,KAAKC,aAC5C3B,EAAMC,SAASyB,KAAKC,YAAYyD,KAAK3D,IAEzC4D,0BAAiBrF,EAAOyB,GAElBzB,EAAMC,SAASyB,MAAQ1B,EAAMC,SAASyB,KAAKC,aAAe3B,EAAMC,SAASyB,KAAKC,YAAYC,OAAS,GACrGqD,UAAI7B,IAAIpD,EAAMC,SAASyB,KAAM,cAAe1B,EAAMC,SAASyB,KAAKC,YAAY2D,QAAO,SAAAC,UAAKA,IAAM9D,OAElG+D,0BAAiBxF,EAAO9C,GACnBA,IACD8C,EAAMc,WAAgB5D,QAE1BuI,6BAAoBzF,EAAOvC,GACzBuC,EAAMe,iBAAmBtD,QKnSd,CACbiI,cAAAA,GACAC,aAAAA,GACAC,MAAAA,GACApH,MAAAA"}